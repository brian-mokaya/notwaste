var Kx=t=>{throw TypeError(t)};var Lp=(t,e,n)=>e.has(t)||Kx("Cannot "+n);var U=(t,e,n)=>(Lp(t,e,"read from private field"),n?n.call(t):e.get(t)),Le=(t,e,n)=>e.has(t)?Kx("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),me=(t,e,n,r)=>(Lp(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),$t=(t,e,n)=>(Lp(t,e,"access private method"),n);var Qu=(t,e,n,r)=>({set _(s){me(t,e,s,n)},get _(){return U(t,e,r)}});function Gk(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function H1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var W1={exports:{}},rf={},q1={exports:{}},_e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iu=Symbol.for("react.element"),Qk=Symbol.for("react.portal"),Yk=Symbol.for("react.fragment"),Xk=Symbol.for("react.strict_mode"),Jk=Symbol.for("react.profiler"),Zk=Symbol.for("react.provider"),e2=Symbol.for("react.context"),t2=Symbol.for("react.forward_ref"),n2=Symbol.for("react.suspense"),r2=Symbol.for("react.memo"),s2=Symbol.for("react.lazy"),Gx=Symbol.iterator;function i2(t){return t===null||typeof t!="object"?null:(t=Gx&&t[Gx]||t["@@iterator"],typeof t=="function"?t:null)}var K1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},G1=Object.assign,Q1={};function Za(t,e,n){this.props=t,this.context=e,this.refs=Q1,this.updater=n||K1}Za.prototype.isReactComponent={};Za.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Za.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Y1(){}Y1.prototype=Za.prototype;function Ry(t,e,n){this.props=t,this.context=e,this.refs=Q1,this.updater=n||K1}var Ay=Ry.prototype=new Y1;Ay.constructor=Ry;G1(Ay,Za.prototype);Ay.isPureReactComponent=!0;var Qx=Array.isArray,X1=Object.prototype.hasOwnProperty,Py={current:null},J1={key:!0,ref:!0,__self:!0,__source:!0};function Z1(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)X1.call(e,r)&&!J1.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var c=Array(a),d=0;d<a;d++)c[d]=arguments[d+2];s.children=c}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:iu,type:t,key:i,ref:o,props:s,_owner:Py.current}}function o2(t,e){return{$$typeof:iu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function ky(t){return typeof t=="object"&&t!==null&&t.$$typeof===iu}function a2(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Yx=/\/+/g;function Vp(t,e){return typeof t=="object"&&t!==null&&t.key!=null?a2(""+t.key):e.toString(36)}function Nd(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case iu:case Qk:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Vp(o,0):r,Qx(s)?(n="",t!=null&&(n=t.replace(Yx,"$&/")+"/"),Nd(s,e,n,"",function(d){return d})):s!=null&&(ky(s)&&(s=o2(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Yx,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",Qx(t))for(var a=0;a<t.length;a++){i=t[a];var c=r+Vp(i,a);o+=Nd(i,e,n,c,s)}else if(c=i2(t),typeof c=="function")for(t=c.call(t),a=0;!(i=t.next()).done;)i=i.value,c=r+Vp(i,a++),o+=Nd(i,e,n,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Yu(t,e,n){if(t==null)return t;var r=[],s=0;return Nd(t,r,"","",function(i){return e.call(n,i,s++)}),r}function l2(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var sn={current:null},Rd={transition:null},c2={ReactCurrentDispatcher:sn,ReactCurrentBatchConfig:Rd,ReactCurrentOwner:Py};function eT(){throw Error("act(...) is not supported in production builds of React.")}_e.Children={map:Yu,forEach:function(t,e,n){Yu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Yu(t,function(){e++}),e},toArray:function(t){return Yu(t,function(e){return e})||[]},only:function(t){if(!ky(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};_e.Component=Za;_e.Fragment=Yk;_e.Profiler=Jk;_e.PureComponent=Ry;_e.StrictMode=Xk;_e.Suspense=n2;_e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=c2;_e.act=eT;_e.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=G1({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Py.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(c in e)X1.call(e,c)&&!J1.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&a!==void 0?a[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var d=0;d<c;d++)a[d]=arguments[d+2];r.children=a}return{$$typeof:iu,type:t.type,key:s,ref:i,props:r,_owner:o}};_e.createContext=function(t){return t={$$typeof:e2,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Zk,_context:t},t.Consumer=t};_e.createElement=Z1;_e.createFactory=function(t){var e=Z1.bind(null,t);return e.type=t,e};_e.createRef=function(){return{current:null}};_e.forwardRef=function(t){return{$$typeof:t2,render:t}};_e.isValidElement=ky;_e.lazy=function(t){return{$$typeof:s2,_payload:{_status:-1,_result:t},_init:l2}};_e.memo=function(t,e){return{$$typeof:r2,type:t,compare:e===void 0?null:e}};_e.startTransition=function(t){var e=Rd.transition;Rd.transition={};try{t()}finally{Rd.transition=e}};_e.unstable_act=eT;_e.useCallback=function(t,e){return sn.current.useCallback(t,e)};_e.useContext=function(t){return sn.current.useContext(t)};_e.useDebugValue=function(){};_e.useDeferredValue=function(t){return sn.current.useDeferredValue(t)};_e.useEffect=function(t,e){return sn.current.useEffect(t,e)};_e.useId=function(){return sn.current.useId()};_e.useImperativeHandle=function(t,e,n){return sn.current.useImperativeHandle(t,e,n)};_e.useInsertionEffect=function(t,e){return sn.current.useInsertionEffect(t,e)};_e.useLayoutEffect=function(t,e){return sn.current.useLayoutEffect(t,e)};_e.useMemo=function(t,e){return sn.current.useMemo(t,e)};_e.useReducer=function(t,e,n){return sn.current.useReducer(t,e,n)};_e.useRef=function(t){return sn.current.useRef(t)};_e.useState=function(t){return sn.current.useState(t)};_e.useSyncExternalStore=function(t,e,n){return sn.current.useSyncExternalStore(t,e,n)};_e.useTransition=function(){return sn.current.useTransition()};_e.version="18.3.1";q1.exports=_e;var y=q1.exports;const K=H1(y),jy=Gk({__proto__:null,default:K},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u2=y,d2=Symbol.for("react.element"),h2=Symbol.for("react.fragment"),f2=Object.prototype.hasOwnProperty,p2=u2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,m2={key:!0,ref:!0,__self:!0,__source:!0};function tT(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)f2.call(e,r)&&!m2.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:d2,type:t,key:i,ref:o,props:s,_owner:p2.current}}rf.Fragment=h2;rf.jsx=tT;rf.jsxs=tT;W1.exports=rf;var l=W1.exports,nT={exports:{}},Nn={},rT={exports:{}},sT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(V,O){var H=V.length;V.push(O);e:for(;0<H;){var ne=H-1>>>1,Q=V[ne];if(0<s(Q,O))V[ne]=O,V[H]=Q,H=ne;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var O=V[0],H=V.pop();if(H!==O){V[0]=H;e:for(var ne=0,Q=V.length,te=Q>>>1;ne<te;){var le=2*(ne+1)-1,Re=V[le],Fe=le+1,q=V[Fe];if(0>s(Re,H))Fe<Q&&0>s(q,Re)?(V[ne]=q,V[Fe]=H,ne=Fe):(V[ne]=Re,V[le]=H,ne=le);else if(Fe<Q&&0>s(q,H))V[ne]=q,V[Fe]=H,ne=Fe;else break e}}return O}function s(V,O){var H=V.sortIndex-O.sortIndex;return H!==0?H:V.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var c=[],d=[],h=1,f=null,m=3,p=!1,I=!1,v=!1,x=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(V){for(var O=n(d);O!==null;){if(O.callback===null)r(d);else if(O.startTime<=V)r(d),O.sortIndex=O.expirationTime,e(c,O);else break;O=n(d)}}function A(V){if(v=!1,T(V),!I)if(n(c)!==null)I=!0,X(D);else{var O=n(d);O!==null&&re(A,O.startTime-V)}}function D(V,O){I=!1,v&&(v=!1,E(S),S=-1),p=!0;var H=m;try{for(T(O),f=n(c);f!==null&&(!(f.expirationTime>O)||V&&!k());){var ne=f.callback;if(typeof ne=="function"){f.callback=null,m=f.priorityLevel;var Q=ne(f.expirationTime<=O);O=t.unstable_now(),typeof Q=="function"?f.callback=Q:f===n(c)&&r(c),T(O)}else r(c);f=n(c)}if(f!==null)var te=!0;else{var le=n(d);le!==null&&re(A,le.startTime-O),te=!1}return te}finally{f=null,m=H,p=!1}}var M=!1,b=null,S=-1,C=5,R=-1;function k(){return!(t.unstable_now()-R<C)}function j(){if(b!==null){var V=t.unstable_now();R=V;var O=!0;try{O=b(!0,V)}finally{O?P():(M=!1,b=null)}}else M=!1}var P;if(typeof w=="function")P=function(){w(j)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,se=z.port2;z.port1.onmessage=j,P=function(){se.postMessage(null)}}else P=function(){x(j,0)};function X(V){b=V,M||(M=!0,P())}function re(V,O){S=x(function(){V(t.unstable_now())},O)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){I||p||(I=!0,X(D))},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(V){switch(m){case 1:case 2:case 3:var O=3;break;default:O=m}var H=m;m=O;try{return V()}finally{m=H}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(V,O){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var H=m;m=V;try{return O()}finally{m=H}},t.unstable_scheduleCallback=function(V,O,H){var ne=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?ne+H:ne):H=ne,V){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=H+Q,V={id:h++,callback:O,priorityLevel:V,startTime:H,expirationTime:Q,sortIndex:-1},H>ne?(V.sortIndex=H,e(d,V),n(c)===null&&V===n(d)&&(v?(E(S),S=-1):v=!0,re(A,H-ne))):(V.sortIndex=Q,e(c,V),I||p||(I=!0,X(D))),V},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(V){var O=m;return function(){var H=m;m=O;try{return V.apply(this,arguments)}finally{m=H}}}})(sT);rT.exports=sT;var g2=rT.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y2=y,Cn=g2;function W(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var iT=new Set,vc={};function So(t,e){Da(t,e),Da(t+"Capture",e)}function Da(t,e){for(vc[t]=e,t=0;t<e.length;t++)iT.add(e[t])}var as=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fm=Object.prototype.hasOwnProperty,v2=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Xx={},Jx={};function w2(t){return Fm.call(Jx,t)?!0:Fm.call(Xx,t)?!1:v2.test(t)?Jx[t]=!0:(Xx[t]=!0,!1)}function x2(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function _2(t,e,n,r){if(e===null||typeof e>"u"||x2(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function on(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Lt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Lt[t]=new on(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Lt[e]=new on(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Lt[t]=new on(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Lt[t]=new on(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Lt[t]=new on(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Lt[t]=new on(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Lt[t]=new on(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Lt[t]=new on(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Lt[t]=new on(t,5,!1,t.toLowerCase(),null,!1,!1)});var Dy=/[\-:]([a-z])/g;function My(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Dy,My);Lt[e]=new on(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Dy,My);Lt[e]=new on(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Dy,My);Lt[e]=new on(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Lt[t]=new on(t,1,!1,t.toLowerCase(),null,!1,!1)});Lt.xlinkHref=new on("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Lt[t]=new on(t,1,!1,t.toLowerCase(),null,!0,!0)});function Oy(t,e,n,r){var s=Lt.hasOwnProperty(e)?Lt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(_2(e,n,s,r)&&(n=null),r||s===null?w2(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var vs=y2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Xu=Symbol.for("react.element"),Zo=Symbol.for("react.portal"),ea=Symbol.for("react.fragment"),Ly=Symbol.for("react.strict_mode"),Um=Symbol.for("react.profiler"),oT=Symbol.for("react.provider"),aT=Symbol.for("react.context"),Vy=Symbol.for("react.forward_ref"),$m=Symbol.for("react.suspense"),Bm=Symbol.for("react.suspense_list"),Fy=Symbol.for("react.memo"),ks=Symbol.for("react.lazy"),lT=Symbol.for("react.offscreen"),Zx=Symbol.iterator;function Pl(t){return t===null||typeof t!="object"?null:(t=Zx&&t[Zx]||t["@@iterator"],typeof t=="function"?t:null)}var st=Object.assign,Fp;function $l(t){if(Fp===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Fp=e&&e[1]||""}return`
`+Fp+t}var Up=!1;function $p(t,e){if(!t||Up)return"";Up=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var r=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){r=d}t.call(e.prototype)}else{try{throw Error()}catch(d){r=d}t()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var c=`
`+s[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=a);break}}}finally{Up=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?$l(t):""}function E2(t){switch(t.tag){case 5:return $l(t.type);case 16:return $l("Lazy");case 13:return $l("Suspense");case 19:return $l("SuspenseList");case 0:case 2:case 15:return t=$p(t.type,!1),t;case 11:return t=$p(t.type.render,!1),t;case 1:return t=$p(t.type,!0),t;default:return""}}function zm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ea:return"Fragment";case Zo:return"Portal";case Um:return"Profiler";case Ly:return"StrictMode";case $m:return"Suspense";case Bm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case aT:return(t.displayName||"Context")+".Consumer";case oT:return(t._context.displayName||"Context")+".Provider";case Vy:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Fy:return e=t.displayName||null,e!==null?e:zm(t.type)||"Memo";case ks:e=t._payload,t=t._init;try{return zm(t(e))}catch{}}return null}function T2(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return zm(e);case 8:return e===Ly?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function di(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function cT(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function S2(t){var e=cT(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ju(t){t._valueTracker||(t._valueTracker=S2(t))}function uT(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=cT(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function nh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Hm(t,e){var n=e.checked;return st({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function e0(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=di(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function dT(t,e){e=e.checked,e!=null&&Oy(t,"checked",e,!1)}function Wm(t,e){dT(t,e);var n=di(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?qm(t,e.type,n):e.hasOwnProperty("defaultValue")&&qm(t,e.type,di(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function t0(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function qm(t,e,n){(e!=="number"||nh(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Bl=Array.isArray;function fa(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+di(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Km(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(W(91));return st({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function n0(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(W(92));if(Bl(n)){if(1<n.length)throw Error(W(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:di(n)}}function hT(t,e){var n=di(e.value),r=di(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function r0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function fT(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Gm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?fT(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Zu,pT=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Zu=Zu||document.createElement("div"),Zu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Zu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function wc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Jl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},I2=["Webkit","ms","Moz","O"];Object.keys(Jl).forEach(function(t){I2.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Jl[e]=Jl[t]})});function mT(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Jl.hasOwnProperty(t)&&Jl[t]?(""+e).trim():e+"px"}function gT(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=mT(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var b2=st({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Qm(t,e){if(e){if(b2[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(W(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(W(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(W(61))}if(e.style!=null&&typeof e.style!="object")throw Error(W(62))}}function Ym(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xm=null;function Uy(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Jm=null,pa=null,ma=null;function s0(t){if(t=lu(t)){if(typeof Jm!="function")throw Error(W(280));var e=t.stateNode;e&&(e=cf(e),Jm(t.stateNode,t.type,e))}}function yT(t){pa?ma?ma.push(t):ma=[t]:pa=t}function vT(){if(pa){var t=pa,e=ma;if(ma=pa=null,s0(t),e)for(t=0;t<e.length;t++)s0(e[t])}}function wT(t,e){return t(e)}function xT(){}var Bp=!1;function _T(t,e,n){if(Bp)return t(e,n);Bp=!0;try{return wT(t,e,n)}finally{Bp=!1,(pa!==null||ma!==null)&&(xT(),vT())}}function xc(t,e){var n=t.stateNode;if(n===null)return null;var r=cf(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(W(231,e,typeof n));return n}var Zm=!1;if(as)try{var kl={};Object.defineProperty(kl,"passive",{get:function(){Zm=!0}}),window.addEventListener("test",kl,kl),window.removeEventListener("test",kl,kl)}catch{Zm=!1}function C2(t,e,n,r,s,i,o,a,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(h){this.onError(h)}}var Zl=!1,rh=null,sh=!1,eg=null,N2={onError:function(t){Zl=!0,rh=t}};function R2(t,e,n,r,s,i,o,a,c){Zl=!1,rh=null,C2.apply(N2,arguments)}function A2(t,e,n,r,s,i,o,a,c){if(R2.apply(this,arguments),Zl){if(Zl){var d=rh;Zl=!1,rh=null}else throw Error(W(198));sh||(sh=!0,eg=d)}}function Io(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function ET(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function i0(t){if(Io(t)!==t)throw Error(W(188))}function P2(t){var e=t.alternate;if(!e){if(e=Io(t),e===null)throw Error(W(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return i0(s),t;if(i===r)return i0(s),e;i=i.sibling}throw Error(W(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(W(189))}}if(n.alternate!==r)throw Error(W(190))}if(n.tag!==3)throw Error(W(188));return n.stateNode.current===n?t:e}function TT(t){return t=P2(t),t!==null?ST(t):null}function ST(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=ST(t);if(e!==null)return e;t=t.sibling}return null}var IT=Cn.unstable_scheduleCallback,o0=Cn.unstable_cancelCallback,k2=Cn.unstable_shouldYield,j2=Cn.unstable_requestPaint,ft=Cn.unstable_now,D2=Cn.unstable_getCurrentPriorityLevel,$y=Cn.unstable_ImmediatePriority,bT=Cn.unstable_UserBlockingPriority,ih=Cn.unstable_NormalPriority,M2=Cn.unstable_LowPriority,CT=Cn.unstable_IdlePriority,sf=null,br=null;function O2(t){if(br&&typeof br.onCommitFiberRoot=="function")try{br.onCommitFiberRoot(sf,t,void 0,(t.current.flags&128)===128)}catch{}}var sr=Math.clz32?Math.clz32:F2,L2=Math.log,V2=Math.LN2;function F2(t){return t>>>=0,t===0?32:31-(L2(t)/V2|0)|0}var ed=64,td=4194304;function zl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function oh(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=zl(a):(i&=o,i!==0&&(r=zl(i)))}else o=n&~s,o!==0?r=zl(o):i!==0&&(r=zl(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-sr(e),s=1<<n,r|=t[n],e&=~s;return r}function U2(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $2(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-sr(i),a=1<<o,c=s[o];c===-1?(!(a&n)||a&r)&&(s[o]=U2(a,e)):c<=e&&(t.expiredLanes|=a),i&=~a}}function tg(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function NT(){var t=ed;return ed<<=1,!(ed&4194240)&&(ed=64),t}function zp(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ou(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-sr(e),t[e]=n}function B2(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-sr(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function By(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-sr(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var ze=0;function RT(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var AT,zy,PT,kT,jT,ng=!1,nd=[],Ys=null,Xs=null,Js=null,_c=new Map,Ec=new Map,Ds=[],z2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function a0(t,e){switch(t){case"focusin":case"focusout":Ys=null;break;case"dragenter":case"dragleave":Xs=null;break;case"mouseover":case"mouseout":Js=null;break;case"pointerover":case"pointerout":_c.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ec.delete(e.pointerId)}}function jl(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=lu(e),e!==null&&zy(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function H2(t,e,n,r,s){switch(e){case"focusin":return Ys=jl(Ys,t,e,n,r,s),!0;case"dragenter":return Xs=jl(Xs,t,e,n,r,s),!0;case"mouseover":return Js=jl(Js,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return _c.set(i,jl(_c.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Ec.set(i,jl(Ec.get(i)||null,t,e,n,r,s)),!0}return!1}function DT(t){var e=zi(t.target);if(e!==null){var n=Io(e);if(n!==null){if(e=n.tag,e===13){if(e=ET(n),e!==null){t.blockedOn=e,jT(t.priority,function(){PT(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ad(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=rg(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Xm=r,n.target.dispatchEvent(r),Xm=null}else return e=lu(n),e!==null&&zy(e),t.blockedOn=n,!1;e.shift()}return!0}function l0(t,e,n){Ad(t)&&n.delete(e)}function W2(){ng=!1,Ys!==null&&Ad(Ys)&&(Ys=null),Xs!==null&&Ad(Xs)&&(Xs=null),Js!==null&&Ad(Js)&&(Js=null),_c.forEach(l0),Ec.forEach(l0)}function Dl(t,e){t.blockedOn===e&&(t.blockedOn=null,ng||(ng=!0,Cn.unstable_scheduleCallback(Cn.unstable_NormalPriority,W2)))}function Tc(t){function e(s){return Dl(s,t)}if(0<nd.length){Dl(nd[0],t);for(var n=1;n<nd.length;n++){var r=nd[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ys!==null&&Dl(Ys,t),Xs!==null&&Dl(Xs,t),Js!==null&&Dl(Js,t),_c.forEach(e),Ec.forEach(e),n=0;n<Ds.length;n++)r=Ds[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ds.length&&(n=Ds[0],n.blockedOn===null);)DT(n),n.blockedOn===null&&Ds.shift()}var ga=vs.ReactCurrentBatchConfig,ah=!0;function q2(t,e,n,r){var s=ze,i=ga.transition;ga.transition=null;try{ze=1,Hy(t,e,n,r)}finally{ze=s,ga.transition=i}}function K2(t,e,n,r){var s=ze,i=ga.transition;ga.transition=null;try{ze=4,Hy(t,e,n,r)}finally{ze=s,ga.transition=i}}function Hy(t,e,n,r){if(ah){var s=rg(t,e,n,r);if(s===null)Zp(t,e,r,lh,n),a0(t,r);else if(H2(s,t,e,n,r))r.stopPropagation();else if(a0(t,r),e&4&&-1<z2.indexOf(t)){for(;s!==null;){var i=lu(s);if(i!==null&&AT(i),i=rg(t,e,n,r),i===null&&Zp(t,e,r,lh,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Zp(t,e,r,null,n)}}var lh=null;function rg(t,e,n,r){if(lh=null,t=Uy(r),t=zi(t),t!==null)if(e=Io(t),e===null)t=null;else if(n=e.tag,n===13){if(t=ET(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return lh=t,null}function MT(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(D2()){case $y:return 1;case bT:return 4;case ih:case M2:return 16;case CT:return 536870912;default:return 16}default:return 16}}var Ws=null,Wy=null,Pd=null;function OT(){if(Pd)return Pd;var t,e=Wy,n=e.length,r,s="value"in Ws?Ws.value:Ws.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Pd=s.slice(t,1<r?1-r:void 0)}function kd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function rd(){return!0}function c0(){return!1}function Rn(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?rd:c0,this.isPropagationStopped=c0,this}return st(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=rd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=rd)},persist:function(){},isPersistent:rd}),e}var el={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qy=Rn(el),au=st({},el,{view:0,detail:0}),G2=Rn(au),Hp,Wp,Ml,of=st({},au,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ky,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ml&&(Ml&&t.type==="mousemove"?(Hp=t.screenX-Ml.screenX,Wp=t.screenY-Ml.screenY):Wp=Hp=0,Ml=t),Hp)},movementY:function(t){return"movementY"in t?t.movementY:Wp}}),u0=Rn(of),Q2=st({},of,{dataTransfer:0}),Y2=Rn(Q2),X2=st({},au,{relatedTarget:0}),qp=Rn(X2),J2=st({},el,{animationName:0,elapsedTime:0,pseudoElement:0}),Z2=Rn(J2),ej=st({},el,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),tj=Rn(ej),nj=st({},el,{data:0}),d0=Rn(nj),rj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ij={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function oj(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=ij[t])?!!e[t]:!1}function Ky(){return oj}var aj=st({},au,{key:function(t){if(t.key){var e=rj[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=kd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?sj[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ky,charCode:function(t){return t.type==="keypress"?kd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?kd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),lj=Rn(aj),cj=st({},of,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),h0=Rn(cj),uj=st({},au,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ky}),dj=Rn(uj),hj=st({},el,{propertyName:0,elapsedTime:0,pseudoElement:0}),fj=Rn(hj),pj=st({},of,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),mj=Rn(pj),gj=[9,13,27,32],Gy=as&&"CompositionEvent"in window,ec=null;as&&"documentMode"in document&&(ec=document.documentMode);var yj=as&&"TextEvent"in window&&!ec,LT=as&&(!Gy||ec&&8<ec&&11>=ec),f0=" ",p0=!1;function VT(t,e){switch(t){case"keyup":return gj.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function FT(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ta=!1;function vj(t,e){switch(t){case"compositionend":return FT(e);case"keypress":return e.which!==32?null:(p0=!0,f0);case"textInput":return t=e.data,t===f0&&p0?null:t;default:return null}}function wj(t,e){if(ta)return t==="compositionend"||!Gy&&VT(t,e)?(t=OT(),Pd=Wy=Ws=null,ta=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return LT&&e.locale!=="ko"?null:e.data;default:return null}}var xj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function m0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!xj[t.type]:e==="textarea"}function UT(t,e,n,r){yT(r),e=ch(e,"onChange"),0<e.length&&(n=new qy("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var tc=null,Sc=null;function _j(t){XT(t,0)}function af(t){var e=sa(t);if(uT(e))return t}function Ej(t,e){if(t==="change")return e}var $T=!1;if(as){var Kp;if(as){var Gp="oninput"in document;if(!Gp){var g0=document.createElement("div");g0.setAttribute("oninput","return;"),Gp=typeof g0.oninput=="function"}Kp=Gp}else Kp=!1;$T=Kp&&(!document.documentMode||9<document.documentMode)}function y0(){tc&&(tc.detachEvent("onpropertychange",BT),Sc=tc=null)}function BT(t){if(t.propertyName==="value"&&af(Sc)){var e=[];UT(e,Sc,t,Uy(t)),_T(_j,e)}}function Tj(t,e,n){t==="focusin"?(y0(),tc=e,Sc=n,tc.attachEvent("onpropertychange",BT)):t==="focusout"&&y0()}function Sj(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return af(Sc)}function Ij(t,e){if(t==="click")return af(e)}function bj(t,e){if(t==="input"||t==="change")return af(e)}function Cj(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var cr=typeof Object.is=="function"?Object.is:Cj;function Ic(t,e){if(cr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Fm.call(e,s)||!cr(t[s],e[s]))return!1}return!0}function v0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function w0(t,e){var n=v0(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=v0(n)}}function zT(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?zT(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function HT(){for(var t=window,e=nh();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=nh(t.document)}return e}function Qy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Nj(t){var e=HT(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&zT(n.ownerDocument.documentElement,n)){if(r!==null&&Qy(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=w0(n,i);var o=w0(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Rj=as&&"documentMode"in document&&11>=document.documentMode,na=null,sg=null,nc=null,ig=!1;function x0(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ig||na==null||na!==nh(r)||(r=na,"selectionStart"in r&&Qy(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),nc&&Ic(nc,r)||(nc=r,r=ch(sg,"onSelect"),0<r.length&&(e=new qy("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=na)))}function sd(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ra={animationend:sd("Animation","AnimationEnd"),animationiteration:sd("Animation","AnimationIteration"),animationstart:sd("Animation","AnimationStart"),transitionend:sd("Transition","TransitionEnd")},Qp={},WT={};as&&(WT=document.createElement("div").style,"AnimationEvent"in window||(delete ra.animationend.animation,delete ra.animationiteration.animation,delete ra.animationstart.animation),"TransitionEvent"in window||delete ra.transitionend.transition);function lf(t){if(Qp[t])return Qp[t];if(!ra[t])return t;var e=ra[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in WT)return Qp[t]=e[n];return t}var qT=lf("animationend"),KT=lf("animationiteration"),GT=lf("animationstart"),QT=lf("transitionend"),YT=new Map,_0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ti(t,e){YT.set(t,e),So(e,[t])}for(var Yp=0;Yp<_0.length;Yp++){var Xp=_0[Yp],Aj=Xp.toLowerCase(),Pj=Xp[0].toUpperCase()+Xp.slice(1);Ti(Aj,"on"+Pj)}Ti(qT,"onAnimationEnd");Ti(KT,"onAnimationIteration");Ti(GT,"onAnimationStart");Ti("dblclick","onDoubleClick");Ti("focusin","onFocus");Ti("focusout","onBlur");Ti(QT,"onTransitionEnd");Da("onMouseEnter",["mouseout","mouseover"]);Da("onMouseLeave",["mouseout","mouseover"]);Da("onPointerEnter",["pointerout","pointerover"]);Da("onPointerLeave",["pointerout","pointerover"]);So("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));So("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));So("onBeforeInput",["compositionend","keypress","textInput","paste"]);So("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));So("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));So("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kj=new Set("cancel close invalid load scroll toggle".split(" ").concat(Hl));function E0(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,A2(r,e,void 0,t),t.currentTarget=null}function XT(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],c=a.instance,d=a.currentTarget;if(a=a.listener,c!==i&&s.isPropagationStopped())break e;E0(s,a,d),i=c}else for(o=0;o<r.length;o++){if(a=r[o],c=a.instance,d=a.currentTarget,a=a.listener,c!==i&&s.isPropagationStopped())break e;E0(s,a,d),i=c}}}if(sh)throw t=eg,sh=!1,eg=null,t}function Je(t,e){var n=e[ug];n===void 0&&(n=e[ug]=new Set);var r=t+"__bubble";n.has(r)||(JT(e,t,2,!1),n.add(r))}function Jp(t,e,n){var r=0;e&&(r|=4),JT(n,t,r,e)}var id="_reactListening"+Math.random().toString(36).slice(2);function bc(t){if(!t[id]){t[id]=!0,iT.forEach(function(n){n!=="selectionchange"&&(kj.has(n)||Jp(n,!1,t),Jp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[id]||(e[id]=!0,Jp("selectionchange",!1,e))}}function JT(t,e,n,r){switch(MT(e)){case 1:var s=q2;break;case 4:s=K2;break;default:s=Hy}n=s.bind(null,e,n,t),s=void 0,!Zm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Zp(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;a!==null;){if(o=zi(a),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}a=a.parentNode}}r=r.return}_T(function(){var d=i,h=Uy(n),f=[];e:{var m=YT.get(t);if(m!==void 0){var p=qy,I=t;switch(t){case"keypress":if(kd(n)===0)break e;case"keydown":case"keyup":p=lj;break;case"focusin":I="focus",p=qp;break;case"focusout":I="blur",p=qp;break;case"beforeblur":case"afterblur":p=qp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=u0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Y2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=dj;break;case qT:case KT:case GT:p=Z2;break;case QT:p=fj;break;case"scroll":p=G2;break;case"wheel":p=mj;break;case"copy":case"cut":case"paste":p=tj;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=h0}var v=(e&4)!==0,x=!v&&t==="scroll",E=v?m!==null?m+"Capture":null:m;v=[];for(var w=d,T;w!==null;){T=w;var A=T.stateNode;if(T.tag===5&&A!==null&&(T=A,E!==null&&(A=xc(w,E),A!=null&&v.push(Cc(w,A,T)))),x)break;w=w.return}0<v.length&&(m=new p(m,I,null,n,h),f.push({event:m,listeners:v}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",m&&n!==Xm&&(I=n.relatedTarget||n.fromElement)&&(zi(I)||I[ls]))break e;if((p||m)&&(m=h.window===h?h:(m=h.ownerDocument)?m.defaultView||m.parentWindow:window,p?(I=n.relatedTarget||n.toElement,p=d,I=I?zi(I):null,I!==null&&(x=Io(I),I!==x||I.tag!==5&&I.tag!==6)&&(I=null)):(p=null,I=d),p!==I)){if(v=u0,A="onMouseLeave",E="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(v=h0,A="onPointerLeave",E="onPointerEnter",w="pointer"),x=p==null?m:sa(p),T=I==null?m:sa(I),m=new v(A,w+"leave",p,n,h),m.target=x,m.relatedTarget=T,A=null,zi(h)===d&&(v=new v(E,w+"enter",I,n,h),v.target=T,v.relatedTarget=x,A=v),x=A,p&&I)t:{for(v=p,E=I,w=0,T=v;T;T=Ho(T))w++;for(T=0,A=E;A;A=Ho(A))T++;for(;0<w-T;)v=Ho(v),w--;for(;0<T-w;)E=Ho(E),T--;for(;w--;){if(v===E||E!==null&&v===E.alternate)break t;v=Ho(v),E=Ho(E)}v=null}else v=null;p!==null&&T0(f,m,p,v,!1),I!==null&&x!==null&&T0(f,x,I,v,!0)}}e:{if(m=d?sa(d):window,p=m.nodeName&&m.nodeName.toLowerCase(),p==="select"||p==="input"&&m.type==="file")var D=Ej;else if(m0(m))if($T)D=bj;else{D=Sj;var M=Tj}else(p=m.nodeName)&&p.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(D=Ij);if(D&&(D=D(t,d))){UT(f,D,n,h);break e}M&&M(t,m,d),t==="focusout"&&(M=m._wrapperState)&&M.controlled&&m.type==="number"&&qm(m,"number",m.value)}switch(M=d?sa(d):window,t){case"focusin":(m0(M)||M.contentEditable==="true")&&(na=M,sg=d,nc=null);break;case"focusout":nc=sg=na=null;break;case"mousedown":ig=!0;break;case"contextmenu":case"mouseup":case"dragend":ig=!1,x0(f,n,h);break;case"selectionchange":if(Rj)break;case"keydown":case"keyup":x0(f,n,h)}var b;if(Gy)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else ta?VT(t,n)&&(S="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(LT&&n.locale!=="ko"&&(ta||S!=="onCompositionStart"?S==="onCompositionEnd"&&ta&&(b=OT()):(Ws=h,Wy="value"in Ws?Ws.value:Ws.textContent,ta=!0)),M=ch(d,S),0<M.length&&(S=new d0(S,t,null,n,h),f.push({event:S,listeners:M}),b?S.data=b:(b=FT(n),b!==null&&(S.data=b)))),(b=yj?vj(t,n):wj(t,n))&&(d=ch(d,"onBeforeInput"),0<d.length&&(h=new d0("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:d}),h.data=b))}XT(f,e)})}function Cc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ch(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=xc(t,n),i!=null&&r.unshift(Cc(t,i,s)),i=xc(t,e),i!=null&&r.push(Cc(t,i,s))),t=t.return}return r}function Ho(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function T0(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,c=a.alternate,d=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&d!==null&&(a=d,s?(c=xc(n,i),c!=null&&o.unshift(Cc(n,c,a))):s||(c=xc(n,i),c!=null&&o.push(Cc(n,c,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var jj=/\r\n?/g,Dj=/\u0000|\uFFFD/g;function S0(t){return(typeof t=="string"?t:""+t).replace(jj,`
`).replace(Dj,"")}function od(t,e,n){if(e=S0(e),S0(t)!==e&&n)throw Error(W(425))}function uh(){}var og=null,ag=null;function lg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var cg=typeof setTimeout=="function"?setTimeout:void 0,Mj=typeof clearTimeout=="function"?clearTimeout:void 0,I0=typeof Promise=="function"?Promise:void 0,Oj=typeof queueMicrotask=="function"?queueMicrotask:typeof I0<"u"?function(t){return I0.resolve(null).then(t).catch(Lj)}:cg;function Lj(t){setTimeout(function(){throw t})}function em(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Tc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Tc(e)}function Zs(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function b0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var tl=Math.random().toString(36).slice(2),Tr="__reactFiber$"+tl,Nc="__reactProps$"+tl,ls="__reactContainer$"+tl,ug="__reactEvents$"+tl,Vj="__reactListeners$"+tl,Fj="__reactHandles$"+tl;function zi(t){var e=t[Tr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ls]||n[Tr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=b0(t);t!==null;){if(n=t[Tr])return n;t=b0(t)}return e}t=n,n=t.parentNode}return null}function lu(t){return t=t[Tr]||t[ls],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function sa(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(W(33))}function cf(t){return t[Nc]||null}var dg=[],ia=-1;function Si(t){return{current:t}}function Ze(t){0>ia||(t.current=dg[ia],dg[ia]=null,ia--)}function Qe(t,e){ia++,dg[ia]=t.current,t.current=e}var hi={},Qt=Si(hi),pn=Si(!1),ro=hi;function Ma(t,e){var n=t.type.contextTypes;if(!n)return hi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function mn(t){return t=t.childContextTypes,t!=null}function dh(){Ze(pn),Ze(Qt)}function C0(t,e,n){if(Qt.current!==hi)throw Error(W(168));Qe(Qt,e),Qe(pn,n)}function ZT(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(W(108,T2(t)||"Unknown",s));return st({},n,r)}function hh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||hi,ro=Qt.current,Qe(Qt,t),Qe(pn,pn.current),!0}function N0(t,e,n){var r=t.stateNode;if(!r)throw Error(W(169));n?(t=ZT(t,e,ro),r.__reactInternalMemoizedMergedChildContext=t,Ze(pn),Ze(Qt),Qe(Qt,t)):Ze(pn),Qe(pn,n)}var Gr=null,uf=!1,tm=!1;function eS(t){Gr===null?Gr=[t]:Gr.push(t)}function Uj(t){uf=!0,eS(t)}function Ii(){if(!tm&&Gr!==null){tm=!0;var t=0,e=ze;try{var n=Gr;for(ze=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Gr=null,uf=!1}catch(s){throw Gr!==null&&(Gr=Gr.slice(t+1)),IT($y,Ii),s}finally{ze=e,tm=!1}}return null}var oa=[],aa=0,fh=null,ph=0,jn=[],Dn=0,so=null,Yr=1,Xr="";function Ui(t,e){oa[aa++]=ph,oa[aa++]=fh,fh=t,ph=e}function tS(t,e,n){jn[Dn++]=Yr,jn[Dn++]=Xr,jn[Dn++]=so,so=t;var r=Yr;t=Xr;var s=32-sr(r)-1;r&=~(1<<s),n+=1;var i=32-sr(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Yr=1<<32-sr(e)+s|n<<s|r,Xr=i+t}else Yr=1<<i|n<<s|r,Xr=t}function Yy(t){t.return!==null&&(Ui(t,1),tS(t,1,0))}function Xy(t){for(;t===fh;)fh=oa[--aa],oa[aa]=null,ph=oa[--aa],oa[aa]=null;for(;t===so;)so=jn[--Dn],jn[Dn]=null,Xr=jn[--Dn],jn[Dn]=null,Yr=jn[--Dn],jn[Dn]=null}var Sn=null,En=null,tt=!1,tr=null;function nS(t,e){var n=Ln(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function R0(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Sn=t,En=Zs(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Sn=t,En=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=so!==null?{id:Yr,overflow:Xr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ln(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Sn=t,En=null,!0):!1;default:return!1}}function hg(t){return(t.mode&1)!==0&&(t.flags&128)===0}function fg(t){if(tt){var e=En;if(e){var n=e;if(!R0(t,e)){if(hg(t))throw Error(W(418));e=Zs(n.nextSibling);var r=Sn;e&&R0(t,e)?nS(r,n):(t.flags=t.flags&-4097|2,tt=!1,Sn=t)}}else{if(hg(t))throw Error(W(418));t.flags=t.flags&-4097|2,tt=!1,Sn=t}}}function A0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Sn=t}function ad(t){if(t!==Sn)return!1;if(!tt)return A0(t),tt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!lg(t.type,t.memoizedProps)),e&&(e=En)){if(hg(t))throw rS(),Error(W(418));for(;e;)nS(t,e),e=Zs(e.nextSibling)}if(A0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(W(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){En=Zs(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}En=null}}else En=Sn?Zs(t.stateNode.nextSibling):null;return!0}function rS(){for(var t=En;t;)t=Zs(t.nextSibling)}function Oa(){En=Sn=null,tt=!1}function Jy(t){tr===null?tr=[t]:tr.push(t)}var $j=vs.ReactCurrentBatchConfig;function Ol(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(W(309));var r=n.stateNode}if(!r)throw Error(W(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(W(284));if(!n._owner)throw Error(W(290,t))}return t}function ld(t,e){throw t=Object.prototype.toString.call(e),Error(W(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function P0(t){var e=t._init;return e(t._payload)}function sS(t){function e(E,w){if(t){var T=E.deletions;T===null?(E.deletions=[w],E.flags|=16):T.push(w)}}function n(E,w){if(!t)return null;for(;w!==null;)e(E,w),w=w.sibling;return null}function r(E,w){for(E=new Map;w!==null;)w.key!==null?E.set(w.key,w):E.set(w.index,w),w=w.sibling;return E}function s(E,w){return E=ri(E,w),E.index=0,E.sibling=null,E}function i(E,w,T){return E.index=T,t?(T=E.alternate,T!==null?(T=T.index,T<w?(E.flags|=2,w):T):(E.flags|=2,w)):(E.flags|=1048576,w)}function o(E){return t&&E.alternate===null&&(E.flags|=2),E}function a(E,w,T,A){return w===null||w.tag!==6?(w=lm(T,E.mode,A),w.return=E,w):(w=s(w,T),w.return=E,w)}function c(E,w,T,A){var D=T.type;return D===ea?h(E,w,T.props.children,A,T.key):w!==null&&(w.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===ks&&P0(D)===w.type)?(A=s(w,T.props),A.ref=Ol(E,w,T),A.return=E,A):(A=Fd(T.type,T.key,T.props,null,E.mode,A),A.ref=Ol(E,w,T),A.return=E,A)}function d(E,w,T,A){return w===null||w.tag!==4||w.stateNode.containerInfo!==T.containerInfo||w.stateNode.implementation!==T.implementation?(w=cm(T,E.mode,A),w.return=E,w):(w=s(w,T.children||[]),w.return=E,w)}function h(E,w,T,A,D){return w===null||w.tag!==7?(w=eo(T,E.mode,A,D),w.return=E,w):(w=s(w,T),w.return=E,w)}function f(E,w,T){if(typeof w=="string"&&w!==""||typeof w=="number")return w=lm(""+w,E.mode,T),w.return=E,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Xu:return T=Fd(w.type,w.key,w.props,null,E.mode,T),T.ref=Ol(E,null,w),T.return=E,T;case Zo:return w=cm(w,E.mode,T),w.return=E,w;case ks:var A=w._init;return f(E,A(w._payload),T)}if(Bl(w)||Pl(w))return w=eo(w,E.mode,T,null),w.return=E,w;ld(E,w)}return null}function m(E,w,T,A){var D=w!==null?w.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return D!==null?null:a(E,w,""+T,A);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Xu:return T.key===D?c(E,w,T,A):null;case Zo:return T.key===D?d(E,w,T,A):null;case ks:return D=T._init,m(E,w,D(T._payload),A)}if(Bl(T)||Pl(T))return D!==null?null:h(E,w,T,A,null);ld(E,T)}return null}function p(E,w,T,A,D){if(typeof A=="string"&&A!==""||typeof A=="number")return E=E.get(T)||null,a(w,E,""+A,D);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Xu:return E=E.get(A.key===null?T:A.key)||null,c(w,E,A,D);case Zo:return E=E.get(A.key===null?T:A.key)||null,d(w,E,A,D);case ks:var M=A._init;return p(E,w,T,M(A._payload),D)}if(Bl(A)||Pl(A))return E=E.get(T)||null,h(w,E,A,D,null);ld(w,A)}return null}function I(E,w,T,A){for(var D=null,M=null,b=w,S=w=0,C=null;b!==null&&S<T.length;S++){b.index>S?(C=b,b=null):C=b.sibling;var R=m(E,b,T[S],A);if(R===null){b===null&&(b=C);break}t&&b&&R.alternate===null&&e(E,b),w=i(R,w,S),M===null?D=R:M.sibling=R,M=R,b=C}if(S===T.length)return n(E,b),tt&&Ui(E,S),D;if(b===null){for(;S<T.length;S++)b=f(E,T[S],A),b!==null&&(w=i(b,w,S),M===null?D=b:M.sibling=b,M=b);return tt&&Ui(E,S),D}for(b=r(E,b);S<T.length;S++)C=p(b,E,S,T[S],A),C!==null&&(t&&C.alternate!==null&&b.delete(C.key===null?S:C.key),w=i(C,w,S),M===null?D=C:M.sibling=C,M=C);return t&&b.forEach(function(k){return e(E,k)}),tt&&Ui(E,S),D}function v(E,w,T,A){var D=Pl(T);if(typeof D!="function")throw Error(W(150));if(T=D.call(T),T==null)throw Error(W(151));for(var M=D=null,b=w,S=w=0,C=null,R=T.next();b!==null&&!R.done;S++,R=T.next()){b.index>S?(C=b,b=null):C=b.sibling;var k=m(E,b,R.value,A);if(k===null){b===null&&(b=C);break}t&&b&&k.alternate===null&&e(E,b),w=i(k,w,S),M===null?D=k:M.sibling=k,M=k,b=C}if(R.done)return n(E,b),tt&&Ui(E,S),D;if(b===null){for(;!R.done;S++,R=T.next())R=f(E,R.value,A),R!==null&&(w=i(R,w,S),M===null?D=R:M.sibling=R,M=R);return tt&&Ui(E,S),D}for(b=r(E,b);!R.done;S++,R=T.next())R=p(b,E,S,R.value,A),R!==null&&(t&&R.alternate!==null&&b.delete(R.key===null?S:R.key),w=i(R,w,S),M===null?D=R:M.sibling=R,M=R);return t&&b.forEach(function(j){return e(E,j)}),tt&&Ui(E,S),D}function x(E,w,T,A){if(typeof T=="object"&&T!==null&&T.type===ea&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case Xu:e:{for(var D=T.key,M=w;M!==null;){if(M.key===D){if(D=T.type,D===ea){if(M.tag===7){n(E,M.sibling),w=s(M,T.props.children),w.return=E,E=w;break e}}else if(M.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===ks&&P0(D)===M.type){n(E,M.sibling),w=s(M,T.props),w.ref=Ol(E,M,T),w.return=E,E=w;break e}n(E,M);break}else e(E,M);M=M.sibling}T.type===ea?(w=eo(T.props.children,E.mode,A,T.key),w.return=E,E=w):(A=Fd(T.type,T.key,T.props,null,E.mode,A),A.ref=Ol(E,w,T),A.return=E,E=A)}return o(E);case Zo:e:{for(M=T.key;w!==null;){if(w.key===M)if(w.tag===4&&w.stateNode.containerInfo===T.containerInfo&&w.stateNode.implementation===T.implementation){n(E,w.sibling),w=s(w,T.children||[]),w.return=E,E=w;break e}else{n(E,w);break}else e(E,w);w=w.sibling}w=cm(T,E.mode,A),w.return=E,E=w}return o(E);case ks:return M=T._init,x(E,w,M(T._payload),A)}if(Bl(T))return I(E,w,T,A);if(Pl(T))return v(E,w,T,A);ld(E,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,w!==null&&w.tag===6?(n(E,w.sibling),w=s(w,T),w.return=E,E=w):(n(E,w),w=lm(T,E.mode,A),w.return=E,E=w),o(E)):n(E,w)}return x}var La=sS(!0),iS=sS(!1),mh=Si(null),gh=null,la=null,Zy=null;function ev(){Zy=la=gh=null}function tv(t){var e=mh.current;Ze(mh),t._currentValue=e}function pg(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ya(t,e){gh=t,Zy=la=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(fn=!0),t.firstContext=null)}function Un(t){var e=t._currentValue;if(Zy!==t)if(t={context:t,memoizedValue:e,next:null},la===null){if(gh===null)throw Error(W(308));la=t,gh.dependencies={lanes:0,firstContext:t}}else la=la.next=t;return e}var Hi=null;function nv(t){Hi===null?Hi=[t]:Hi.push(t)}function oS(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,nv(e)):(n.next=s.next,s.next=n),e.interleaved=n,cs(t,r)}function cs(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var js=!1;function rv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function aS(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ts(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ei(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Me&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,cs(t,n)}return s=r.interleaved,s===null?(e.next=e,nv(r)):(e.next=s.next,s.next=e),r.interleaved=e,cs(t,n)}function jd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,By(t,n)}}function k0(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function yh(t,e,n,r){var s=t.updateQueue;js=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var c=a,d=c.next;c.next=null,o===null?i=d:o.next=d,o=c;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=d:a.next=d,h.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;o=0,h=d=c=null,a=i;do{var m=a.lane,p=a.eventTime;if((r&m)===m){h!==null&&(h=h.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var I=t,v=a;switch(m=e,p=n,v.tag){case 1:if(I=v.payload,typeof I=="function"){f=I.call(p,f,m);break e}f=I;break e;case 3:I.flags=I.flags&-65537|128;case 0:if(I=v.payload,m=typeof I=="function"?I.call(p,f,m):I,m==null)break e;f=st({},f,m);break e;case 2:js=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,m=s.effects,m===null?s.effects=[a]:m.push(a))}else p={eventTime:p,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(d=h=p,c=f):h=h.next=p,o|=m;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;m=a,a=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(h===null&&(c=f),s.baseState=c,s.firstBaseUpdate=d,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);oo|=o,t.lanes=o,t.memoizedState=f}}function j0(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(W(191,s));s.call(r)}}}var cu={},Cr=Si(cu),Rc=Si(cu),Ac=Si(cu);function Wi(t){if(t===cu)throw Error(W(174));return t}function sv(t,e){switch(Qe(Ac,e),Qe(Rc,t),Qe(Cr,cu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Gm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Gm(e,t)}Ze(Cr),Qe(Cr,e)}function Va(){Ze(Cr),Ze(Rc),Ze(Ac)}function lS(t){Wi(Ac.current);var e=Wi(Cr.current),n=Gm(e,t.type);e!==n&&(Qe(Rc,t),Qe(Cr,n))}function iv(t){Rc.current===t&&(Ze(Cr),Ze(Rc))}var nt=Si(0);function vh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var nm=[];function ov(){for(var t=0;t<nm.length;t++)nm[t]._workInProgressVersionPrimary=null;nm.length=0}var Dd=vs.ReactCurrentDispatcher,rm=vs.ReactCurrentBatchConfig,io=0,rt=null,_t=null,It=null,wh=!1,rc=!1,Pc=0,Bj=0;function Bt(){throw Error(W(321))}function av(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!cr(t[n],e[n]))return!1;return!0}function lv(t,e,n,r,s,i){if(io=i,rt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Dd.current=t===null||t.memoizedState===null?qj:Kj,t=n(r,s),rc){i=0;do{if(rc=!1,Pc=0,25<=i)throw Error(W(301));i+=1,It=_t=null,e.updateQueue=null,Dd.current=Gj,t=n(r,s)}while(rc)}if(Dd.current=xh,e=_t!==null&&_t.next!==null,io=0,It=_t=rt=null,wh=!1,e)throw Error(W(300));return t}function cv(){var t=Pc!==0;return Pc=0,t}function vr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return It===null?rt.memoizedState=It=t:It=It.next=t,It}function $n(){if(_t===null){var t=rt.alternate;t=t!==null?t.memoizedState:null}else t=_t.next;var e=It===null?rt.memoizedState:It.next;if(e!==null)It=e,_t=t;else{if(t===null)throw Error(W(310));_t=t,t={memoizedState:_t.memoizedState,baseState:_t.baseState,baseQueue:_t.baseQueue,queue:_t.queue,next:null},It===null?rt.memoizedState=It=t:It=It.next=t}return It}function kc(t,e){return typeof e=="function"?e(t):e}function sm(t){var e=$n(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=_t,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,c=null,d=i;do{var h=d.lane;if((io&h)===h)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:t(r,d.action);else{var f={lane:h,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(a=c=f,o=r):c=c.next=f,rt.lanes|=h,oo|=h}d=d.next}while(d!==null&&d!==i);c===null?o=r:c.next=a,cr(r,e.memoizedState)||(fn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,rt.lanes|=i,oo|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function im(t){var e=$n(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);cr(i,e.memoizedState)||(fn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function cS(){}function uS(t,e){var n=rt,r=$n(),s=e(),i=!cr(r.memoizedState,s);if(i&&(r.memoizedState=s,fn=!0),r=r.queue,uv(fS.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||It!==null&&It.memoizedState.tag&1){if(n.flags|=2048,jc(9,hS.bind(null,n,r,s,e),void 0,null),Ct===null)throw Error(W(349));io&30||dS(n,e,s)}return s}function dS(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=rt.updateQueue,e===null?(e={lastEffect:null,stores:null},rt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function hS(t,e,n,r){e.value=n,e.getSnapshot=r,pS(e)&&mS(t)}function fS(t,e,n){return n(function(){pS(e)&&mS(t)})}function pS(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!cr(t,n)}catch{return!0}}function mS(t){var e=cs(t,1);e!==null&&ir(e,t,1,-1)}function D0(t){var e=vr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:kc,lastRenderedState:t},e.queue=t,t=t.dispatch=Wj.bind(null,rt,t),[e.memoizedState,t]}function jc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=rt.updateQueue,e===null?(e={lastEffect:null,stores:null},rt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function gS(){return $n().memoizedState}function Md(t,e,n,r){var s=vr();rt.flags|=t,s.memoizedState=jc(1|e,n,void 0,r===void 0?null:r)}function df(t,e,n,r){var s=$n();r=r===void 0?null:r;var i=void 0;if(_t!==null){var o=_t.memoizedState;if(i=o.destroy,r!==null&&av(r,o.deps)){s.memoizedState=jc(e,n,i,r);return}}rt.flags|=t,s.memoizedState=jc(1|e,n,i,r)}function M0(t,e){return Md(8390656,8,t,e)}function uv(t,e){return df(2048,8,t,e)}function yS(t,e){return df(4,2,t,e)}function vS(t,e){return df(4,4,t,e)}function wS(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function xS(t,e,n){return n=n!=null?n.concat([t]):null,df(4,4,wS.bind(null,e,t),n)}function dv(){}function _S(t,e){var n=$n();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&av(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function ES(t,e){var n=$n();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&av(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function TS(t,e,n){return io&21?(cr(n,e)||(n=NT(),rt.lanes|=n,oo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,fn=!0),t.memoizedState=n)}function zj(t,e){var n=ze;ze=n!==0&&4>n?n:4,t(!0);var r=rm.transition;rm.transition={};try{t(!1),e()}finally{ze=n,rm.transition=r}}function SS(){return $n().memoizedState}function Hj(t,e,n){var r=ni(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},IS(t))bS(e,n);else if(n=oS(t,e,n,r),n!==null){var s=tn();ir(n,t,r,s),CS(n,e,r)}}function Wj(t,e,n){var r=ni(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(IS(t))bS(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,cr(a,o)){var c=e.interleaved;c===null?(s.next=s,nv(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=oS(t,e,s,r),n!==null&&(s=tn(),ir(n,t,r,s),CS(n,e,r))}}function IS(t){var e=t.alternate;return t===rt||e!==null&&e===rt}function bS(t,e){rc=wh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function CS(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,By(t,n)}}var xh={readContext:Un,useCallback:Bt,useContext:Bt,useEffect:Bt,useImperativeHandle:Bt,useInsertionEffect:Bt,useLayoutEffect:Bt,useMemo:Bt,useReducer:Bt,useRef:Bt,useState:Bt,useDebugValue:Bt,useDeferredValue:Bt,useTransition:Bt,useMutableSource:Bt,useSyncExternalStore:Bt,useId:Bt,unstable_isNewReconciler:!1},qj={readContext:Un,useCallback:function(t,e){return vr().memoizedState=[t,e===void 0?null:e],t},useContext:Un,useEffect:M0,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Md(4194308,4,wS.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Md(4194308,4,t,e)},useInsertionEffect:function(t,e){return Md(4,2,t,e)},useMemo:function(t,e){var n=vr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=vr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Hj.bind(null,rt,t),[r.memoizedState,t]},useRef:function(t){var e=vr();return t={current:t},e.memoizedState=t},useState:D0,useDebugValue:dv,useDeferredValue:function(t){return vr().memoizedState=t},useTransition:function(){var t=D0(!1),e=t[0];return t=zj.bind(null,t[1]),vr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=rt,s=vr();if(tt){if(n===void 0)throw Error(W(407));n=n()}else{if(n=e(),Ct===null)throw Error(W(349));io&30||dS(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,M0(fS.bind(null,r,i,t),[t]),r.flags|=2048,jc(9,hS.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=vr(),e=Ct.identifierPrefix;if(tt){var n=Xr,r=Yr;n=(r&~(1<<32-sr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Pc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Bj++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Kj={readContext:Un,useCallback:_S,useContext:Un,useEffect:uv,useImperativeHandle:xS,useInsertionEffect:yS,useLayoutEffect:vS,useMemo:ES,useReducer:sm,useRef:gS,useState:function(){return sm(kc)},useDebugValue:dv,useDeferredValue:function(t){var e=$n();return TS(e,_t.memoizedState,t)},useTransition:function(){var t=sm(kc)[0],e=$n().memoizedState;return[t,e]},useMutableSource:cS,useSyncExternalStore:uS,useId:SS,unstable_isNewReconciler:!1},Gj={readContext:Un,useCallback:_S,useContext:Un,useEffect:uv,useImperativeHandle:xS,useInsertionEffect:yS,useLayoutEffect:vS,useMemo:ES,useReducer:im,useRef:gS,useState:function(){return im(kc)},useDebugValue:dv,useDeferredValue:function(t){var e=$n();return _t===null?e.memoizedState=t:TS(e,_t.memoizedState,t)},useTransition:function(){var t=im(kc)[0],e=$n().memoizedState;return[t,e]},useMutableSource:cS,useSyncExternalStore:uS,useId:SS,unstable_isNewReconciler:!1};function Yn(t,e){if(t&&t.defaultProps){e=st({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function mg(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:st({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var hf={isMounted:function(t){return(t=t._reactInternals)?Io(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=tn(),s=ni(t),i=ts(r,s);i.payload=e,n!=null&&(i.callback=n),e=ei(t,i,s),e!==null&&(ir(e,t,s,r),jd(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=tn(),s=ni(t),i=ts(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=ei(t,i,s),e!==null&&(ir(e,t,s,r),jd(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=tn(),r=ni(t),s=ts(n,r);s.tag=2,e!=null&&(s.callback=e),e=ei(t,s,r),e!==null&&(ir(e,t,r,n),jd(e,t,r))}};function O0(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Ic(n,r)||!Ic(s,i):!0}function NS(t,e,n){var r=!1,s=hi,i=e.contextType;return typeof i=="object"&&i!==null?i=Un(i):(s=mn(e)?ro:Qt.current,r=e.contextTypes,i=(r=r!=null)?Ma(t,s):hi),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=hf,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function L0(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&hf.enqueueReplaceState(e,e.state,null)}function gg(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},rv(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Un(i):(i=mn(e)?ro:Qt.current,s.context=Ma(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(mg(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&hf.enqueueReplaceState(s,s.state,null),yh(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Fa(t,e){try{var n="",r=e;do n+=E2(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function om(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function yg(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Qj=typeof WeakMap=="function"?WeakMap:Map;function RS(t,e,n){n=ts(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Eh||(Eh=!0,Cg=r),yg(t,e)},n}function AS(t,e,n){n=ts(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){yg(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){yg(t,e),typeof r!="function"&&(ti===null?ti=new Set([this]):ti.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function V0(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Qj;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=cD.bind(null,t,e,n),e.then(t,t))}function F0(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function U0(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ts(-1,1),e.tag=2,ei(n,e,1))),n.lanes|=1),t)}var Yj=vs.ReactCurrentOwner,fn=!1;function Jt(t,e,n,r){e.child=t===null?iS(e,null,n,r):La(e,t.child,n,r)}function $0(t,e,n,r,s){n=n.render;var i=e.ref;return ya(e,s),r=lv(t,e,n,r,i,s),n=cv(),t!==null&&!fn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,us(t,e,s)):(tt&&n&&Yy(e),e.flags|=1,Jt(t,e,r,s),e.child)}function B0(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!wv(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,PS(t,e,i,r,s)):(t=Fd(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Ic,n(o,r)&&t.ref===e.ref)return us(t,e,s)}return e.flags|=1,t=ri(i,r),t.ref=e.ref,t.return=e,e.child=t}function PS(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Ic(i,r)&&t.ref===e.ref)if(fn=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(fn=!0);else return e.lanes=t.lanes,us(t,e,s)}return vg(t,e,n,r,s)}function kS(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Qe(ua,wn),wn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Qe(ua,wn),wn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Qe(ua,wn),wn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Qe(ua,wn),wn|=r;return Jt(t,e,s,n),e.child}function jS(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function vg(t,e,n,r,s){var i=mn(n)?ro:Qt.current;return i=Ma(e,i),ya(e,s),n=lv(t,e,n,r,i,s),r=cv(),t!==null&&!fn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,us(t,e,s)):(tt&&r&&Yy(e),e.flags|=1,Jt(t,e,n,s),e.child)}function z0(t,e,n,r,s){if(mn(n)){var i=!0;hh(e)}else i=!1;if(ya(e,s),e.stateNode===null)Od(t,e),NS(e,n,r),gg(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var c=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=Un(d):(d=mn(n)?ro:Qt.current,d=Ma(e,d));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||c!==d)&&L0(e,o,r,d),js=!1;var m=e.memoizedState;o.state=m,yh(e,r,o,s),c=e.memoizedState,a!==r||m!==c||pn.current||js?(typeof h=="function"&&(mg(e,n,h,r),c=e.memoizedState),(a=js||O0(e,n,a,r,m,c,d))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=d,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,aS(t,e),a=e.memoizedProps,d=e.type===e.elementType?a:Yn(e.type,a),o.props=d,f=e.pendingProps,m=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=Un(c):(c=mn(n)?ro:Qt.current,c=Ma(e,c));var p=n.getDerivedStateFromProps;(h=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||m!==c)&&L0(e,o,r,c),js=!1,m=e.memoizedState,o.state=m,yh(e,r,o,s);var I=e.memoizedState;a!==f||m!==I||pn.current||js?(typeof p=="function"&&(mg(e,n,p,r),I=e.memoizedState),(d=js||O0(e,n,d,r,m,I,c)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,I,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,I,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=I),o.props=r,o.state=I,o.context=c,r=d):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return wg(t,e,n,r,i,s)}function wg(t,e,n,r,s,i){jS(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&N0(e,n,!1),us(t,e,i);r=e.stateNode,Yj.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=La(e,t.child,null,i),e.child=La(e,null,a,i)):Jt(t,e,a,i),e.memoizedState=r.state,s&&N0(e,n,!0),e.child}function DS(t){var e=t.stateNode;e.pendingContext?C0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&C0(t,e.context,!1),sv(t,e.containerInfo)}function H0(t,e,n,r,s){return Oa(),Jy(s),e.flags|=256,Jt(t,e,n,r),e.child}var xg={dehydrated:null,treeContext:null,retryLane:0};function _g(t){return{baseLanes:t,cachePool:null,transitions:null}}function MS(t,e,n){var r=e.pendingProps,s=nt.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Qe(nt,s&1),t===null)return fg(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=mf(o,r,0,null),t=eo(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=_g(n),e.memoizedState=xg,t):hv(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return Xj(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=ri(s,c),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=ri(a,i):(i=eo(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?_g(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=xg,r}return i=t.child,t=i.sibling,r=ri(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function hv(t,e){return e=mf({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function cd(t,e,n,r){return r!==null&&Jy(r),La(e,t.child,null,n),t=hv(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Xj(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=om(Error(W(422))),cd(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=mf({mode:"visible",children:r.children},s,0,null),i=eo(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&La(e,t.child,null,o),e.child.memoizedState=_g(o),e.memoizedState=xg,i);if(!(e.mode&1))return cd(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(W(419)),r=om(i,r,void 0),cd(t,e,o,r)}if(a=(o&t.childLanes)!==0,fn||a){if(r=Ct,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,cs(t,s),ir(r,t,s,-1))}return vv(),r=om(Error(W(421))),cd(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=uD.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,En=Zs(s.nextSibling),Sn=e,tt=!0,tr=null,t!==null&&(jn[Dn++]=Yr,jn[Dn++]=Xr,jn[Dn++]=so,Yr=t.id,Xr=t.overflow,so=e),e=hv(e,r.children),e.flags|=4096,e)}function W0(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),pg(t.return,e,n)}function am(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function OS(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Jt(t,e,r.children,n),r=nt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&W0(t,n,e);else if(t.tag===19)W0(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Qe(nt,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&vh(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),am(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&vh(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}am(e,!0,n,null,i);break;case"together":am(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Od(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function us(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),oo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(W(153));if(e.child!==null){for(t=e.child,n=ri(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ri(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Jj(t,e,n){switch(e.tag){case 3:DS(e),Oa();break;case 5:lS(e);break;case 1:mn(e.type)&&hh(e);break;case 4:sv(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Qe(mh,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Qe(nt,nt.current&1),e.flags|=128,null):n&e.child.childLanes?MS(t,e,n):(Qe(nt,nt.current&1),t=us(t,e,n),t!==null?t.sibling:null);Qe(nt,nt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return OS(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Qe(nt,nt.current),r)break;return null;case 22:case 23:return e.lanes=0,kS(t,e,n)}return us(t,e,n)}var LS,Eg,VS,FS;LS=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Eg=function(){};VS=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Wi(Cr.current);var i=null;switch(n){case"input":s=Hm(t,s),r=Hm(t,r),i=[];break;case"select":s=st({},s,{value:void 0}),r=st({},r,{value:void 0}),i=[];break;case"textarea":s=Km(t,s),r=Km(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=uh)}Qm(n,r);var o;n=null;for(d in s)if(!r.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var a=s[d];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(vc.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in r){var c=r[d];if(a=s!=null?s[d]:void 0,r.hasOwnProperty(d)&&c!==a&&(c!=null||a!=null))if(d==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(vc.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Je("scroll",t),i||a===c||(i=[])):(i=i||[]).push(d,c))}n&&(i=i||[]).push("style",n);var d=i;(e.updateQueue=d)&&(e.flags|=4)}};FS=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ll(t,e){if(!tt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function zt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Zj(t,e,n){var r=e.pendingProps;switch(Xy(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zt(e),null;case 1:return mn(e.type)&&dh(),zt(e),null;case 3:return r=e.stateNode,Va(),Ze(pn),Ze(Qt),ov(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ad(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,tr!==null&&(Ag(tr),tr=null))),Eg(t,e),zt(e),null;case 5:iv(e);var s=Wi(Ac.current);if(n=e.type,t!==null&&e.stateNode!=null)VS(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(W(166));return zt(e),null}if(t=Wi(Cr.current),ad(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Tr]=e,r[Nc]=i,t=(e.mode&1)!==0,n){case"dialog":Je("cancel",r),Je("close",r);break;case"iframe":case"object":case"embed":Je("load",r);break;case"video":case"audio":for(s=0;s<Hl.length;s++)Je(Hl[s],r);break;case"source":Je("error",r);break;case"img":case"image":case"link":Je("error",r),Je("load",r);break;case"details":Je("toggle",r);break;case"input":e0(r,i),Je("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Je("invalid",r);break;case"textarea":n0(r,i),Je("invalid",r)}Qm(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&od(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&od(r.textContent,a,t),s=["children",""+a]):vc.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Je("scroll",r)}switch(n){case"input":Ju(r),t0(r,i,!0);break;case"textarea":Ju(r),r0(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=uh)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=fT(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Tr]=e,t[Nc]=r,LS(t,e,!1,!1),e.stateNode=t;e:{switch(o=Ym(n,r),n){case"dialog":Je("cancel",t),Je("close",t),s=r;break;case"iframe":case"object":case"embed":Je("load",t),s=r;break;case"video":case"audio":for(s=0;s<Hl.length;s++)Je(Hl[s],t);s=r;break;case"source":Je("error",t),s=r;break;case"img":case"image":case"link":Je("error",t),Je("load",t),s=r;break;case"details":Je("toggle",t),s=r;break;case"input":e0(t,r),s=Hm(t,r),Je("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=st({},r,{value:void 0}),Je("invalid",t);break;case"textarea":n0(t,r),s=Km(t,r),Je("invalid",t);break;default:s=r}Qm(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var c=a[i];i==="style"?gT(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&pT(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&wc(t,c):typeof c=="number"&&wc(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(vc.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Je("scroll",t):c!=null&&Oy(t,i,c,o))}switch(n){case"input":Ju(t),t0(t,r,!1);break;case"textarea":Ju(t),r0(t);break;case"option":r.value!=null&&t.setAttribute("value",""+di(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?fa(t,!!r.multiple,i,!1):r.defaultValue!=null&&fa(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=uh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return zt(e),null;case 6:if(t&&e.stateNode!=null)FS(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(W(166));if(n=Wi(Ac.current),Wi(Cr.current),ad(e)){if(r=e.stateNode,n=e.memoizedProps,r[Tr]=e,(i=r.nodeValue!==n)&&(t=Sn,t!==null))switch(t.tag){case 3:od(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&od(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Tr]=e,e.stateNode=r}return zt(e),null;case 13:if(Ze(nt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(tt&&En!==null&&e.mode&1&&!(e.flags&128))rS(),Oa(),e.flags|=98560,i=!1;else if(i=ad(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(W(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(W(317));i[Tr]=e}else Oa(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;zt(e),i=!1}else tr!==null&&(Ag(tr),tr=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||nt.current&1?Et===0&&(Et=3):vv())),e.updateQueue!==null&&(e.flags|=4),zt(e),null);case 4:return Va(),Eg(t,e),t===null&&bc(e.stateNode.containerInfo),zt(e),null;case 10:return tv(e.type._context),zt(e),null;case 17:return mn(e.type)&&dh(),zt(e),null;case 19:if(Ze(nt),i=e.memoizedState,i===null)return zt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Ll(i,!1);else{if(Et!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=vh(t),o!==null){for(e.flags|=128,Ll(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Qe(nt,nt.current&1|2),e.child}t=t.sibling}i.tail!==null&&ft()>Ua&&(e.flags|=128,r=!0,Ll(i,!1),e.lanes=4194304)}else{if(!r)if(t=vh(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ll(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!tt)return zt(e),null}else 2*ft()-i.renderingStartTime>Ua&&n!==1073741824&&(e.flags|=128,r=!0,Ll(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ft(),e.sibling=null,n=nt.current,Qe(nt,r?n&1|2:n&1),e):(zt(e),null);case 22:case 23:return yv(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?wn&1073741824&&(zt(e),e.subtreeFlags&6&&(e.flags|=8192)):zt(e),null;case 24:return null;case 25:return null}throw Error(W(156,e.tag))}function eD(t,e){switch(Xy(e),e.tag){case 1:return mn(e.type)&&dh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Va(),Ze(pn),Ze(Qt),ov(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return iv(e),null;case 13:if(Ze(nt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(W(340));Oa()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ze(nt),null;case 4:return Va(),null;case 10:return tv(e.type._context),null;case 22:case 23:return yv(),null;case 24:return null;default:return null}}var ud=!1,Kt=!1,tD=typeof WeakSet=="function"?WeakSet:Set,ee=null;function ca(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ct(t,e,r)}else n.current=null}function Tg(t,e,n){try{n()}catch(r){ct(t,e,r)}}var q0=!1;function nD(t,e){if(og=ah,t=HT(),Qy(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,c=-1,d=0,h=0,f=t,m=null;t:for(;;){for(var p;f!==n||s!==0&&f.nodeType!==3||(a=o+s),f!==i||r!==0&&f.nodeType!==3||(c=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)m=f,f=p;for(;;){if(f===t)break t;if(m===n&&++d===s&&(a=o),m===i&&++h===r&&(c=o),(p=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=p}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ag={focusedElem:t,selectionRange:n},ah=!1,ee=e;ee!==null;)if(e=ee,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ee=t;else for(;ee!==null;){e=ee;try{var I=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(I!==null){var v=I.memoizedProps,x=I.memoizedState,E=e.stateNode,w=E.getSnapshotBeforeUpdate(e.elementType===e.type?v:Yn(e.type,v),x);E.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var T=e.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(W(163))}}catch(A){ct(e,e.return,A)}if(t=e.sibling,t!==null){t.return=e.return,ee=t;break}ee=e.return}return I=q0,q0=!1,I}function sc(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Tg(e,n,i)}s=s.next}while(s!==r)}}function ff(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Sg(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function US(t){var e=t.alternate;e!==null&&(t.alternate=null,US(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Tr],delete e[Nc],delete e[ug],delete e[Vj],delete e[Fj])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function $S(t){return t.tag===5||t.tag===3||t.tag===4}function K0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||$S(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ig(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=uh));else if(r!==4&&(t=t.child,t!==null))for(Ig(t,e,n),t=t.sibling;t!==null;)Ig(t,e,n),t=t.sibling}function bg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(bg(t,e,n),t=t.sibling;t!==null;)bg(t,e,n),t=t.sibling}var kt=null,er=!1;function bs(t,e,n){for(n=n.child;n!==null;)BS(t,e,n),n=n.sibling}function BS(t,e,n){if(br&&typeof br.onCommitFiberUnmount=="function")try{br.onCommitFiberUnmount(sf,n)}catch{}switch(n.tag){case 5:Kt||ca(n,e);case 6:var r=kt,s=er;kt=null,bs(t,e,n),kt=r,er=s,kt!==null&&(er?(t=kt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):kt.removeChild(n.stateNode));break;case 18:kt!==null&&(er?(t=kt,n=n.stateNode,t.nodeType===8?em(t.parentNode,n):t.nodeType===1&&em(t,n),Tc(t)):em(kt,n.stateNode));break;case 4:r=kt,s=er,kt=n.stateNode.containerInfo,er=!0,bs(t,e,n),kt=r,er=s;break;case 0:case 11:case 14:case 15:if(!Kt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Tg(n,e,o),s=s.next}while(s!==r)}bs(t,e,n);break;case 1:if(!Kt&&(ca(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ct(n,e,a)}bs(t,e,n);break;case 21:bs(t,e,n);break;case 22:n.mode&1?(Kt=(r=Kt)||n.memoizedState!==null,bs(t,e,n),Kt=r):bs(t,e,n);break;default:bs(t,e,n)}}function G0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new tD),e.forEach(function(r){var s=dD.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Kn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:kt=a.stateNode,er=!1;break e;case 3:kt=a.stateNode.containerInfo,er=!0;break e;case 4:kt=a.stateNode.containerInfo,er=!0;break e}a=a.return}if(kt===null)throw Error(W(160));BS(i,o,s),kt=null,er=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(d){ct(s,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)zS(e,t),e=e.sibling}function zS(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Kn(e,t),yr(t),r&4){try{sc(3,t,t.return),ff(3,t)}catch(v){ct(t,t.return,v)}try{sc(5,t,t.return)}catch(v){ct(t,t.return,v)}}break;case 1:Kn(e,t),yr(t),r&512&&n!==null&&ca(n,n.return);break;case 5:if(Kn(e,t),yr(t),r&512&&n!==null&&ca(n,n.return),t.flags&32){var s=t.stateNode;try{wc(s,"")}catch(v){ct(t,t.return,v)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&dT(s,i),Ym(a,o);var d=Ym(a,i);for(o=0;o<c.length;o+=2){var h=c[o],f=c[o+1];h==="style"?gT(s,f):h==="dangerouslySetInnerHTML"?pT(s,f):h==="children"?wc(s,f):Oy(s,h,f,d)}switch(a){case"input":Wm(s,i);break;case"textarea":hT(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?fa(s,!!i.multiple,p,!1):m!==!!i.multiple&&(i.defaultValue!=null?fa(s,!!i.multiple,i.defaultValue,!0):fa(s,!!i.multiple,i.multiple?[]:"",!1))}s[Nc]=i}catch(v){ct(t,t.return,v)}}break;case 6:if(Kn(e,t),yr(t),r&4){if(t.stateNode===null)throw Error(W(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(v){ct(t,t.return,v)}}break;case 3:if(Kn(e,t),yr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Tc(e.containerInfo)}catch(v){ct(t,t.return,v)}break;case 4:Kn(e,t),yr(t);break;case 13:Kn(e,t),yr(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(mv=ft())),r&4&&G0(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Kt=(d=Kt)||h,Kn(e,t),Kt=d):Kn(e,t),yr(t),r&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!h&&t.mode&1)for(ee=t,h=t.child;h!==null;){for(f=ee=h;ee!==null;){switch(m=ee,p=m.child,m.tag){case 0:case 11:case 14:case 15:sc(4,m,m.return);break;case 1:ca(m,m.return);var I=m.stateNode;if(typeof I.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,I.props=e.memoizedProps,I.state=e.memoizedState,I.componentWillUnmount()}catch(v){ct(r,n,v)}}break;case 5:ca(m,m.return);break;case 22:if(m.memoizedState!==null){Y0(f);continue}}p!==null?(p.return=m,ee=p):Y0(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{s=f.stateNode,d?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=mT("display",o))}catch(v){ct(t,t.return,v)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=d?"":f.memoizedProps}catch(v){ct(t,t.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Kn(e,t),yr(t),r&4&&G0(t);break;case 21:break;default:Kn(e,t),yr(t)}}function yr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if($S(n)){var r=n;break e}n=n.return}throw Error(W(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(wc(s,""),r.flags&=-33);var i=K0(t);bg(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=K0(t);Ig(t,a,o);break;default:throw Error(W(161))}}catch(c){ct(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function rD(t,e,n){ee=t,HS(t)}function HS(t,e,n){for(var r=(t.mode&1)!==0;ee!==null;){var s=ee,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||ud;if(!o){var a=s.alternate,c=a!==null&&a.memoizedState!==null||Kt;a=ud;var d=Kt;if(ud=o,(Kt=c)&&!d)for(ee=s;ee!==null;)o=ee,c=o.child,o.tag===22&&o.memoizedState!==null?X0(s):c!==null?(c.return=o,ee=c):X0(s);for(;i!==null;)ee=i,HS(i),i=i.sibling;ee=s,ud=a,Kt=d}Q0(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,ee=i):Q0(t)}}function Q0(t){for(;ee!==null;){var e=ee;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Kt||ff(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Kt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Yn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&j0(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}j0(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var h=d.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&Tc(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(W(163))}Kt||e.flags&512&&Sg(e)}catch(m){ct(e,e.return,m)}}if(e===t){ee=null;break}if(n=e.sibling,n!==null){n.return=e.return,ee=n;break}ee=e.return}}function Y0(t){for(;ee!==null;){var e=ee;if(e===t){ee=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ee=n;break}ee=e.return}}function X0(t){for(;ee!==null;){var e=ee;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{ff(4,e)}catch(c){ct(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){ct(e,s,c)}}var i=e.return;try{Sg(e)}catch(c){ct(e,i,c)}break;case 5:var o=e.return;try{Sg(e)}catch(c){ct(e,o,c)}}}catch(c){ct(e,e.return,c)}if(e===t){ee=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ee=a;break}ee=e.return}}var sD=Math.ceil,_h=vs.ReactCurrentDispatcher,fv=vs.ReactCurrentOwner,Vn=vs.ReactCurrentBatchConfig,Me=0,Ct=null,yt=null,Ot=0,wn=0,ua=Si(0),Et=0,Dc=null,oo=0,pf=0,pv=0,ic=null,hn=null,mv=0,Ua=1/0,Kr=null,Eh=!1,Cg=null,ti=null,dd=!1,qs=null,Th=0,oc=0,Ng=null,Ld=-1,Vd=0;function tn(){return Me&6?ft():Ld!==-1?Ld:Ld=ft()}function ni(t){return t.mode&1?Me&2&&Ot!==0?Ot&-Ot:$j.transition!==null?(Vd===0&&(Vd=NT()),Vd):(t=ze,t!==0||(t=window.event,t=t===void 0?16:MT(t.type)),t):1}function ir(t,e,n,r){if(50<oc)throw oc=0,Ng=null,Error(W(185));ou(t,n,r),(!(Me&2)||t!==Ct)&&(t===Ct&&(!(Me&2)&&(pf|=n),Et===4&&Ms(t,Ot)),gn(t,r),n===1&&Me===0&&!(e.mode&1)&&(Ua=ft()+500,uf&&Ii()))}function gn(t,e){var n=t.callbackNode;$2(t,e);var r=oh(t,t===Ct?Ot:0);if(r===0)n!==null&&o0(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&o0(n),e===1)t.tag===0?Uj(J0.bind(null,t)):eS(J0.bind(null,t)),Oj(function(){!(Me&6)&&Ii()}),n=null;else{switch(RT(r)){case 1:n=$y;break;case 4:n=bT;break;case 16:n=ih;break;case 536870912:n=CT;break;default:n=ih}n=JS(n,WS.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function WS(t,e){if(Ld=-1,Vd=0,Me&6)throw Error(W(327));var n=t.callbackNode;if(va()&&t.callbackNode!==n)return null;var r=oh(t,t===Ct?Ot:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Sh(t,r);else{e=r;var s=Me;Me|=2;var i=KS();(Ct!==t||Ot!==e)&&(Kr=null,Ua=ft()+500,Zi(t,e));do try{aD();break}catch(a){qS(t,a)}while(!0);ev(),_h.current=i,Me=s,yt!==null?e=0:(Ct=null,Ot=0,e=Et)}if(e!==0){if(e===2&&(s=tg(t),s!==0&&(r=s,e=Rg(t,s))),e===1)throw n=Dc,Zi(t,0),Ms(t,r),gn(t,ft()),n;if(e===6)Ms(t,r);else{if(s=t.current.alternate,!(r&30)&&!iD(s)&&(e=Sh(t,r),e===2&&(i=tg(t),i!==0&&(r=i,e=Rg(t,i))),e===1))throw n=Dc,Zi(t,0),Ms(t,r),gn(t,ft()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(W(345));case 2:$i(t,hn,Kr);break;case 3:if(Ms(t,r),(r&130023424)===r&&(e=mv+500-ft(),10<e)){if(oh(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){tn(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=cg($i.bind(null,t,hn,Kr),e);break}$i(t,hn,Kr);break;case 4:if(Ms(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-sr(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=ft()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*sD(r/1960))-r,10<r){t.timeoutHandle=cg($i.bind(null,t,hn,Kr),r);break}$i(t,hn,Kr);break;case 5:$i(t,hn,Kr);break;default:throw Error(W(329))}}}return gn(t,ft()),t.callbackNode===n?WS.bind(null,t):null}function Rg(t,e){var n=ic;return t.current.memoizedState.isDehydrated&&(Zi(t,e).flags|=256),t=Sh(t,e),t!==2&&(e=hn,hn=n,e!==null&&Ag(e)),t}function Ag(t){hn===null?hn=t:hn.push.apply(hn,t)}function iD(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!cr(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ms(t,e){for(e&=~pv,e&=~pf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-sr(e),r=1<<n;t[n]=-1,e&=~r}}function J0(t){if(Me&6)throw Error(W(327));va();var e=oh(t,0);if(!(e&1))return gn(t,ft()),null;var n=Sh(t,e);if(t.tag!==0&&n===2){var r=tg(t);r!==0&&(e=r,n=Rg(t,r))}if(n===1)throw n=Dc,Zi(t,0),Ms(t,e),gn(t,ft()),n;if(n===6)throw Error(W(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,$i(t,hn,Kr),gn(t,ft()),null}function gv(t,e){var n=Me;Me|=1;try{return t(e)}finally{Me=n,Me===0&&(Ua=ft()+500,uf&&Ii())}}function ao(t){qs!==null&&qs.tag===0&&!(Me&6)&&va();var e=Me;Me|=1;var n=Vn.transition,r=ze;try{if(Vn.transition=null,ze=1,t)return t()}finally{ze=r,Vn.transition=n,Me=e,!(Me&6)&&Ii()}}function yv(){wn=ua.current,Ze(ua)}function Zi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Mj(n)),yt!==null)for(n=yt.return;n!==null;){var r=n;switch(Xy(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&dh();break;case 3:Va(),Ze(pn),Ze(Qt),ov();break;case 5:iv(r);break;case 4:Va();break;case 13:Ze(nt);break;case 19:Ze(nt);break;case 10:tv(r.type._context);break;case 22:case 23:yv()}n=n.return}if(Ct=t,yt=t=ri(t.current,null),Ot=wn=e,Et=0,Dc=null,pv=pf=oo=0,hn=ic=null,Hi!==null){for(e=0;e<Hi.length;e++)if(n=Hi[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Hi=null}return t}function qS(t,e){do{var n=yt;try{if(ev(),Dd.current=xh,wh){for(var r=rt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}wh=!1}if(io=0,It=_t=rt=null,rc=!1,Pc=0,fv.current=null,n===null||n.return===null){Et=1,Dc=e,yt=null;break}e:{var i=t,o=n.return,a=n,c=e;if(e=Ot,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,h=a,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var m=h.alternate;m?(h.updateQueue=m.updateQueue,h.memoizedState=m.memoizedState,h.lanes=m.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=F0(o);if(p!==null){p.flags&=-257,U0(p,o,a,i,e),p.mode&1&&V0(i,d,e),e=p,c=d;var I=e.updateQueue;if(I===null){var v=new Set;v.add(c),e.updateQueue=v}else I.add(c);break e}else{if(!(e&1)){V0(i,d,e),vv();break e}c=Error(W(426))}}else if(tt&&a.mode&1){var x=F0(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),U0(x,o,a,i,e),Jy(Fa(c,a));break e}}i=c=Fa(c,a),Et!==4&&(Et=2),ic===null?ic=[i]:ic.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var E=RS(i,c,e);k0(i,E);break e;case 1:a=c;var w=i.type,T=i.stateNode;if(!(i.flags&128)&&(typeof w.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(ti===null||!ti.has(T)))){i.flags|=65536,e&=-e,i.lanes|=e;var A=AS(i,a,e);k0(i,A);break e}}i=i.return}while(i!==null)}QS(n)}catch(D){e=D,yt===n&&n!==null&&(yt=n=n.return);continue}break}while(!0)}function KS(){var t=_h.current;return _h.current=xh,t===null?xh:t}function vv(){(Et===0||Et===3||Et===2)&&(Et=4),Ct===null||!(oo&268435455)&&!(pf&268435455)||Ms(Ct,Ot)}function Sh(t,e){var n=Me;Me|=2;var r=KS();(Ct!==t||Ot!==e)&&(Kr=null,Zi(t,e));do try{oD();break}catch(s){qS(t,s)}while(!0);if(ev(),Me=n,_h.current=r,yt!==null)throw Error(W(261));return Ct=null,Ot=0,Et}function oD(){for(;yt!==null;)GS(yt)}function aD(){for(;yt!==null&&!k2();)GS(yt)}function GS(t){var e=XS(t.alternate,t,wn);t.memoizedProps=t.pendingProps,e===null?QS(t):yt=e,fv.current=null}function QS(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=eD(n,e),n!==null){n.flags&=32767,yt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Et=6,yt=null;return}}else if(n=Zj(n,e,wn),n!==null){yt=n;return}if(e=e.sibling,e!==null){yt=e;return}yt=e=t}while(e!==null);Et===0&&(Et=5)}function $i(t,e,n){var r=ze,s=Vn.transition;try{Vn.transition=null,ze=1,lD(t,e,n,r)}finally{Vn.transition=s,ze=r}return null}function lD(t,e,n,r){do va();while(qs!==null);if(Me&6)throw Error(W(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(W(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(B2(t,i),t===Ct&&(yt=Ct=null,Ot=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||dd||(dd=!0,JS(ih,function(){return va(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Vn.transition,Vn.transition=null;var o=ze;ze=1;var a=Me;Me|=4,fv.current=null,nD(t,n),zS(n,t),Nj(ag),ah=!!og,ag=og=null,t.current=n,rD(n),j2(),Me=a,ze=o,Vn.transition=i}else t.current=n;if(dd&&(dd=!1,qs=t,Th=s),i=t.pendingLanes,i===0&&(ti=null),O2(n.stateNode),gn(t,ft()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Eh)throw Eh=!1,t=Cg,Cg=null,t;return Th&1&&t.tag!==0&&va(),i=t.pendingLanes,i&1?t===Ng?oc++:(oc=0,Ng=t):oc=0,Ii(),null}function va(){if(qs!==null){var t=RT(Th),e=Vn.transition,n=ze;try{if(Vn.transition=null,ze=16>t?16:t,qs===null)var r=!1;else{if(t=qs,qs=null,Th=0,Me&6)throw Error(W(331));var s=Me;for(Me|=4,ee=t.current;ee!==null;){var i=ee,o=i.child;if(ee.flags&16){var a=i.deletions;if(a!==null){for(var c=0;c<a.length;c++){var d=a[c];for(ee=d;ee!==null;){var h=ee;switch(h.tag){case 0:case 11:case 15:sc(8,h,i)}var f=h.child;if(f!==null)f.return=h,ee=f;else for(;ee!==null;){h=ee;var m=h.sibling,p=h.return;if(US(h),h===d){ee=null;break}if(m!==null){m.return=p,ee=m;break}ee=p}}}var I=i.alternate;if(I!==null){var v=I.child;if(v!==null){I.child=null;do{var x=v.sibling;v.sibling=null,v=x}while(v!==null)}}ee=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,ee=o;else e:for(;ee!==null;){if(i=ee,i.flags&2048)switch(i.tag){case 0:case 11:case 15:sc(9,i,i.return)}var E=i.sibling;if(E!==null){E.return=i.return,ee=E;break e}ee=i.return}}var w=t.current;for(ee=w;ee!==null;){o=ee;var T=o.child;if(o.subtreeFlags&2064&&T!==null)T.return=o,ee=T;else e:for(o=w;ee!==null;){if(a=ee,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:ff(9,a)}}catch(D){ct(a,a.return,D)}if(a===o){ee=null;break e}var A=a.sibling;if(A!==null){A.return=a.return,ee=A;break e}ee=a.return}}if(Me=s,Ii(),br&&typeof br.onPostCommitFiberRoot=="function")try{br.onPostCommitFiberRoot(sf,t)}catch{}r=!0}return r}finally{ze=n,Vn.transition=e}}return!1}function Z0(t,e,n){e=Fa(n,e),e=RS(t,e,1),t=ei(t,e,1),e=tn(),t!==null&&(ou(t,1,e),gn(t,e))}function ct(t,e,n){if(t.tag===3)Z0(t,t,n);else for(;e!==null;){if(e.tag===3){Z0(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ti===null||!ti.has(r))){t=Fa(n,t),t=AS(e,t,1),e=ei(e,t,1),t=tn(),e!==null&&(ou(e,1,t),gn(e,t));break}}e=e.return}}function cD(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=tn(),t.pingedLanes|=t.suspendedLanes&n,Ct===t&&(Ot&n)===n&&(Et===4||Et===3&&(Ot&130023424)===Ot&&500>ft()-mv?Zi(t,0):pv|=n),gn(t,e)}function YS(t,e){e===0&&(t.mode&1?(e=td,td<<=1,!(td&130023424)&&(td=4194304)):e=1);var n=tn();t=cs(t,e),t!==null&&(ou(t,e,n),gn(t,n))}function uD(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),YS(t,n)}function dD(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(W(314))}r!==null&&r.delete(e),YS(t,n)}var XS;XS=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||pn.current)fn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return fn=!1,Jj(t,e,n);fn=!!(t.flags&131072)}else fn=!1,tt&&e.flags&1048576&&tS(e,ph,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Od(t,e),t=e.pendingProps;var s=Ma(e,Qt.current);ya(e,n),s=lv(null,e,r,t,s,n);var i=cv();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,mn(r)?(i=!0,hh(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,rv(e),s.updater=hf,e.stateNode=s,s._reactInternals=e,gg(e,r,t,n),e=wg(null,e,r,!0,i,n)):(e.tag=0,tt&&i&&Yy(e),Jt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Od(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=fD(r),t=Yn(r,t),s){case 0:e=vg(null,e,r,t,n);break e;case 1:e=z0(null,e,r,t,n);break e;case 11:e=$0(null,e,r,t,n);break e;case 14:e=B0(null,e,r,Yn(r.type,t),n);break e}throw Error(W(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Yn(r,s),vg(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Yn(r,s),z0(t,e,r,s,n);case 3:e:{if(DS(e),t===null)throw Error(W(387));r=e.pendingProps,i=e.memoizedState,s=i.element,aS(t,e),yh(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Fa(Error(W(423)),e),e=H0(t,e,r,n,s);break e}else if(r!==s){s=Fa(Error(W(424)),e),e=H0(t,e,r,n,s);break e}else for(En=Zs(e.stateNode.containerInfo.firstChild),Sn=e,tt=!0,tr=null,n=iS(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Oa(),r===s){e=us(t,e,n);break e}Jt(t,e,r,n)}e=e.child}return e;case 5:return lS(e),t===null&&fg(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,lg(r,s)?o=null:i!==null&&lg(r,i)&&(e.flags|=32),jS(t,e),Jt(t,e,o,n),e.child;case 6:return t===null&&fg(e),null;case 13:return MS(t,e,n);case 4:return sv(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=La(e,null,r,n):Jt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Yn(r,s),$0(t,e,r,s,n);case 7:return Jt(t,e,e.pendingProps,n),e.child;case 8:return Jt(t,e,e.pendingProps.children,n),e.child;case 12:return Jt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Qe(mh,r._currentValue),r._currentValue=o,i!==null)if(cr(i.value,o)){if(i.children===s.children&&!pn.current){e=us(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=ts(-1,n&-n),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var h=d.pending;h===null?c.next=c:(c.next=h.next,h.next=c),d.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),pg(i.return,n,e),a.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(W(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),pg(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Jt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,ya(e,n),s=Un(s),r=r(s),e.flags|=1,Jt(t,e,r,n),e.child;case 14:return r=e.type,s=Yn(r,e.pendingProps),s=Yn(r.type,s),B0(t,e,r,s,n);case 15:return PS(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Yn(r,s),Od(t,e),e.tag=1,mn(r)?(t=!0,hh(e)):t=!1,ya(e,n),NS(e,r,s),gg(e,r,s,n),wg(null,e,r,!0,t,n);case 19:return OS(t,e,n);case 22:return kS(t,e,n)}throw Error(W(156,e.tag))};function JS(t,e){return IT(t,e)}function hD(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ln(t,e,n,r){return new hD(t,e,n,r)}function wv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function fD(t){if(typeof t=="function")return wv(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Vy)return 11;if(t===Fy)return 14}return 2}function ri(t,e){var n=t.alternate;return n===null?(n=Ln(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Fd(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")wv(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ea:return eo(n.children,s,i,e);case Ly:o=8,s|=8;break;case Um:return t=Ln(12,n,e,s|2),t.elementType=Um,t.lanes=i,t;case $m:return t=Ln(13,n,e,s),t.elementType=$m,t.lanes=i,t;case Bm:return t=Ln(19,n,e,s),t.elementType=Bm,t.lanes=i,t;case lT:return mf(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case oT:o=10;break e;case aT:o=9;break e;case Vy:o=11;break e;case Fy:o=14;break e;case ks:o=16,r=null;break e}throw Error(W(130,t==null?t:typeof t,""))}return e=Ln(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function eo(t,e,n,r){return t=Ln(7,t,r,e),t.lanes=n,t}function mf(t,e,n,r){return t=Ln(22,t,r,e),t.elementType=lT,t.lanes=n,t.stateNode={isHidden:!1},t}function lm(t,e,n){return t=Ln(6,t,null,e),t.lanes=n,t}function cm(t,e,n){return e=Ln(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function pD(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zp(0),this.expirationTimes=zp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zp(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function xv(t,e,n,r,s,i,o,a,c){return t=new pD(t,e,n,a,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Ln(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},rv(i),t}function mD(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Zo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function ZS(t){if(!t)return hi;t=t._reactInternals;e:{if(Io(t)!==t||t.tag!==1)throw Error(W(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(mn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(W(171))}if(t.tag===1){var n=t.type;if(mn(n))return ZT(t,n,e)}return e}function eI(t,e,n,r,s,i,o,a,c){return t=xv(n,r,!0,t,s,i,o,a,c),t.context=ZS(null),n=t.current,r=tn(),s=ni(n),i=ts(r,s),i.callback=e??null,ei(n,i,s),t.current.lanes=s,ou(t,s,r),gn(t,r),t}function gf(t,e,n,r){var s=e.current,i=tn(),o=ni(s);return n=ZS(n),e.context===null?e.context=n:e.pendingContext=n,e=ts(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ei(s,e,o),t!==null&&(ir(t,s,o,i),jd(t,s,o)),o}function Ih(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function e_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function _v(t,e){e_(t,e),(t=t.alternate)&&e_(t,e)}function gD(){return null}var tI=typeof reportError=="function"?reportError:function(t){console.error(t)};function Ev(t){this._internalRoot=t}yf.prototype.render=Ev.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(W(409));gf(t,e,null,null)};yf.prototype.unmount=Ev.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ao(function(){gf(null,t,null,null)}),e[ls]=null}};function yf(t){this._internalRoot=t}yf.prototype.unstable_scheduleHydration=function(t){if(t){var e=kT();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ds.length&&e!==0&&e<Ds[n].priority;n++);Ds.splice(n,0,t),n===0&&DT(t)}};function Tv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function vf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function t_(){}function yD(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var d=Ih(o);i.call(d)}}var o=eI(e,r,t,0,null,!1,!1,"",t_);return t._reactRootContainer=o,t[ls]=o.current,bc(t.nodeType===8?t.parentNode:t),ao(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var d=Ih(c);a.call(d)}}var c=xv(t,0,!1,null,null,!1,!1,"",t_);return t._reactRootContainer=c,t[ls]=c.current,bc(t.nodeType===8?t.parentNode:t),ao(function(){gf(e,c,n,r)}),c}function wf(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var c=Ih(o);a.call(c)}}gf(e,o,t,s)}else o=yD(n,e,t,s,r);return Ih(o)}AT=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=zl(e.pendingLanes);n!==0&&(By(e,n|1),gn(e,ft()),!(Me&6)&&(Ua=ft()+500,Ii()))}break;case 13:ao(function(){var r=cs(t,1);if(r!==null){var s=tn();ir(r,t,1,s)}}),_v(t,1)}};zy=function(t){if(t.tag===13){var e=cs(t,134217728);if(e!==null){var n=tn();ir(e,t,134217728,n)}_v(t,134217728)}};PT=function(t){if(t.tag===13){var e=ni(t),n=cs(t,e);if(n!==null){var r=tn();ir(n,t,e,r)}_v(t,e)}};kT=function(){return ze};jT=function(t,e){var n=ze;try{return ze=t,e()}finally{ze=n}};Jm=function(t,e,n){switch(e){case"input":if(Wm(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=cf(r);if(!s)throw Error(W(90));uT(r),Wm(r,s)}}}break;case"textarea":hT(t,n);break;case"select":e=n.value,e!=null&&fa(t,!!n.multiple,e,!1)}};wT=gv;xT=ao;var vD={usingClientEntryPoint:!1,Events:[lu,sa,cf,yT,vT,gv]},Vl={findFiberByHostInstance:zi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},wD={bundleType:Vl.bundleType,version:Vl.version,rendererPackageName:Vl.rendererPackageName,rendererConfig:Vl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:vs.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=TT(t),t===null?null:t.stateNode},findFiberByHostInstance:Vl.findFiberByHostInstance||gD,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hd.isDisabled&&hd.supportsFiber)try{sf=hd.inject(wD),br=hd}catch{}}Nn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vD;Nn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Tv(e))throw Error(W(200));return mD(t,e,null,n)};Nn.createRoot=function(t,e){if(!Tv(t))throw Error(W(299));var n=!1,r="",s=tI;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=xv(t,1,!1,null,null,n,!1,r,s),t[ls]=e.current,bc(t.nodeType===8?t.parentNode:t),new Ev(e)};Nn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(W(188)):(t=Object.keys(t).join(","),Error(W(268,t)));return t=TT(e),t=t===null?null:t.stateNode,t};Nn.flushSync=function(t){return ao(t)};Nn.hydrate=function(t,e,n){if(!vf(e))throw Error(W(200));return wf(null,t,e,!0,n)};Nn.hydrateRoot=function(t,e,n){if(!Tv(t))throw Error(W(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=tI;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=eI(e,null,t,1,n??null,s,!1,i,o),t[ls]=e.current,bc(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new yf(e)};Nn.render=function(t,e,n){if(!vf(e))throw Error(W(200));return wf(null,t,e,!1,n)};Nn.unmountComponentAtNode=function(t){if(!vf(t))throw Error(W(40));return t._reactRootContainer?(ao(function(){wf(null,null,t,!1,function(){t._reactRootContainer=null,t[ls]=null})}),!0):!1};Nn.unstable_batchedUpdates=gv;Nn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!vf(n))throw Error(W(200));if(t==null||t._reactInternals===void 0)throw Error(W(38));return wf(t,e,n,!1,r)};Nn.version="18.3.1-next-f1338f8080-20240426";function nI(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(nI)}catch(t){console.error(t)}}nI(),nT.exports=Nn;var bo=nT.exports;const rI=H1(bo);var sI,n_=bo;sI=n_.createRoot,n_.hydrateRoot;const xD=1,_D=1e6;let um=0;function ED(){return um=(um+1)%Number.MAX_SAFE_INTEGER,um.toString()}const dm=new Map,r_=t=>{if(dm.has(t))return;const e=setTimeout(()=>{dm.delete(t),ac({type:"REMOVE_TOAST",toastId:t})},_D);dm.set(t,e)},TD=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,xD)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?r_(n):t.toasts.forEach(r=>{r_(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Ud=[];let $d={toasts:[]};function ac(t){$d=TD($d,t),Ud.forEach(e=>{e($d)})}function SD({...t}){const e=ED(),n=s=>ac({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>ac({type:"DISMISS_TOAST",toastId:e});return ac({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function nl(){const[t,e]=y.useState($d);return y.useEffect(()=>(Ud.push(e),()=>{const n=Ud.indexOf(e);n>-1&&Ud.splice(n,1)}),[t]),{...t,toast:SD,dismiss:n=>ac({type:"DISMISS_TOAST",toastId:n})}}function Y(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function s_(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function xf(...t){return e=>{let n=!1;const r=t.map(s=>{const i=s_(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():s_(t[s],null)}}}}function je(...t){return y.useCallback(xf(...t),t)}function ID(t,e){const n=y.createContext(e),r=i=>{const{children:o,...a}=i,c=y.useMemo(()=>a,Object.values(a));return l.jsx(n.Provider,{value:c,children:o})};r.displayName=t+"Provider";function s(i){const o=y.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function Bn(t,e=[]){let n=[];function r(i,o){const a=y.createContext(o),c=n.length;n=[...n,o];const d=f=>{var E;const{scope:m,children:p,...I}=f,v=((E=m==null?void 0:m[t])==null?void 0:E[c])||a,x=y.useMemo(()=>I,Object.values(I));return l.jsx(v.Provider,{value:x,children:p})};d.displayName=i+"Provider";function h(f,m){var v;const p=((v=m==null?void 0:m[t])==null?void 0:v[c])||a,I=y.useContext(p);if(I)return I;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[d,h]}const s=()=>{const i=n.map(o=>y.createContext(o));return function(a){const c=(a==null?void 0:a[t])||i;return y.useMemo(()=>({[`__scope${t}`]:{...a,[t]:c}}),[a,c])}};return s.scopeName=t,[r,bD(s,...e)]}function bD(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:c,scopeName:d})=>{const f=c(i)[`__scope${d}`];return{...a,...f}},{});return y.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function lo(t){const e=ND(t),n=y.forwardRef((r,s)=>{const{children:i,...o}=r,a=y.Children.toArray(i),c=a.find(AD);if(c){const d=c.props.children,h=a.map(f=>f===c?y.Children.count(d)>1?y.Children.only(null):y.isValidElement(d)?d.props.children:null:f);return l.jsx(e,{...o,ref:s,children:y.isValidElement(d)?y.cloneElement(d,void 0,h):null})}return l.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var CD=lo("Slot");function ND(t){const e=y.forwardRef((n,r)=>{const{children:s,...i}=n;if(y.isValidElement(s)){const o=kD(s),a=PD(i,s.props);return s.type!==y.Fragment&&(a.ref=r?xf(r,o):o),y.cloneElement(s,a)}return y.Children.count(s)>1?y.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var iI=Symbol("radix.slottable");function RD(t){const e=({children:n})=>l.jsx(l.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=iI,e}function AD(t){return y.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===iI}function PD(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const c=i(...a);return s(...a),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function kD(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function _f(t){const e=t+"CollectionProvider",[n,r]=Bn(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=v=>{const{scope:x,children:E}=v,w=K.useRef(null),T=K.useRef(new Map).current;return l.jsx(s,{scope:x,itemMap:T,collectionRef:w,children:E})};o.displayName=e;const a=t+"CollectionSlot",c=lo(a),d=K.forwardRef((v,x)=>{const{scope:E,children:w}=v,T=i(a,E),A=je(x,T.collectionRef);return l.jsx(c,{ref:A,children:w})});d.displayName=a;const h=t+"CollectionItemSlot",f="data-radix-collection-item",m=lo(h),p=K.forwardRef((v,x)=>{const{scope:E,children:w,...T}=v,A=K.useRef(null),D=je(x,A),M=i(h,E);return K.useEffect(()=>(M.itemMap.set(A,{ref:A,...T}),()=>void M.itemMap.delete(A))),l.jsx(m,{[f]:"",ref:D,children:w})});p.displayName=h;function I(v){const x=i(t+"CollectionConsumer",v);return K.useCallback(()=>{const w=x.collectionRef.current;if(!w)return[];const T=Array.from(w.querySelectorAll(`[${f}]`));return Array.from(x.itemMap.values()).sort((M,b)=>T.indexOf(M.ref.current)-T.indexOf(b.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:o,Slot:d,ItemSlot:p},I,r]}var jD=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ae=jD.reduce((t,e)=>{const n=lo(`Primitive.${e}`),r=y.forwardRef((s,i)=>{const{asChild:o,...a}=s,c=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(c,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function Sv(t,e){t&&bo.flushSync(()=>t.dispatchEvent(e))}function nn(t){const e=y.useRef(t);return y.useEffect(()=>{e.current=t}),y.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function DD(t,e=globalThis==null?void 0:globalThis.document){const n=nn(t);y.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var MD="DismissableLayer",Pg="dismissableLayer.update",OD="dismissableLayer.pointerDownOutside",LD="dismissableLayer.focusOutside",i_,oI=y.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),rl=y.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...c}=t,d=y.useContext(oI),[h,f]=y.useState(null),m=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=y.useState({}),I=je(e,b=>f(b)),v=Array.from(d.layers),[x]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),E=v.indexOf(x),w=h?v.indexOf(h):-1,T=d.layersWithOutsidePointerEventsDisabled.size>0,A=w>=E,D=FD(b=>{const S=b.target,C=[...d.branches].some(R=>R.contains(S));!A||C||(s==null||s(b),o==null||o(b),b.defaultPrevented||a==null||a())},m),M=UD(b=>{const S=b.target;[...d.branches].some(R=>R.contains(S))||(i==null||i(b),o==null||o(b),b.defaultPrevented||a==null||a())},m);return DD(b=>{w===d.layers.size-1&&(r==null||r(b),!b.defaultPrevented&&a&&(b.preventDefault(),a()))},m),y.useEffect(()=>{if(h)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(i_=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(h)),d.layers.add(h),o_(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=i_)}},[h,m,n,d]),y.useEffect(()=>()=>{h&&(d.layers.delete(h),d.layersWithOutsidePointerEventsDisabled.delete(h),o_())},[h,d]),y.useEffect(()=>{const b=()=>p({});return document.addEventListener(Pg,b),()=>document.removeEventListener(Pg,b)},[]),l.jsx(ae.div,{...c,ref:I,style:{pointerEvents:T?A?"auto":"none":void 0,...t.style},onFocusCapture:Y(t.onFocusCapture,M.onFocusCapture),onBlurCapture:Y(t.onBlurCapture,M.onBlurCapture),onPointerDownCapture:Y(t.onPointerDownCapture,D.onPointerDownCapture)})});rl.displayName=MD;var VD="DismissableLayerBranch",aI=y.forwardRef((t,e)=>{const n=y.useContext(oI),r=y.useRef(null),s=je(e,r);return y.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),l.jsx(ae.div,{...t,ref:s})});aI.displayName=VD;function FD(t,e=globalThis==null?void 0:globalThis.document){const n=nn(t),r=y.useRef(!1),s=y.useRef(()=>{});return y.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let c=function(){lI(OD,n,d,{discrete:!0})};const d={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=c,e.addEventListener("click",s.current,{once:!0})):c()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function UD(t,e=globalThis==null?void 0:globalThis.document){const n=nn(t),r=y.useRef(!1);return y.useEffect(()=>{const s=i=>{i.target&&!r.current&&lI(LD,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function o_(){const t=new CustomEvent(Pg);document.dispatchEvent(t)}function lI(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?Sv(s,i):s.dispatchEvent(i)}var $D=rl,BD=aI,xt=globalThis!=null&&globalThis.document?y.useLayoutEffect:()=>{},zD="Portal",uu=y.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=y.useState(!1);xt(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?rI.createPortal(l.jsx(ae.div,{...r,ref:e}),o):null});uu.displayName=zD;function HD(t,e){return y.useReducer((n,r)=>e[n][r]??n,t)}var pr=t=>{const{present:e,children:n}=t,r=WD(e),s=typeof n=="function"?n({present:r.isPresent}):y.Children.only(n),i=je(r.ref,qD(s));return typeof n=="function"||r.isPresent?y.cloneElement(s,{ref:i}):null};pr.displayName="Presence";function WD(t){const[e,n]=y.useState(),r=y.useRef(null),s=y.useRef(t),i=y.useRef("none"),o=t?"mounted":"unmounted",[a,c]=HD(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return y.useEffect(()=>{const d=fd(r.current);i.current=a==="mounted"?d:"none"},[a]),xt(()=>{const d=r.current,h=s.current;if(h!==t){const m=i.current,p=fd(d);t?c("MOUNT"):p==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(h&&m!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),xt(()=>{if(e){let d;const h=e.ownerDocument.defaultView??window,f=p=>{const v=fd(r.current).includes(p.animationName);if(p.target===e&&v&&(c("ANIMATION_END"),!s.current)){const x=e.style.animationFillMode;e.style.animationFillMode="forwards",d=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=x)})}},m=p=>{p.target===e&&(i.current=fd(r.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{h.clearTimeout(d),e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:y.useCallback(d=>{r.current=d?getComputedStyle(d):null,n(d)},[])}}function fd(t){return(t==null?void 0:t.animationName)||"none"}function qD(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var KD=jy[" useInsertionEffect ".trim().toString()]||xt;function co({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,o]=GD({defaultProp:e,onChange:n}),a=t!==void 0,c=a?t:s;{const h=y.useRef(t!==void 0);y.useEffect(()=>{const f=h.current;f!==a&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=a},[a,r])}const d=y.useCallback(h=>{var f;if(a){const m=QD(h)?h(t):h;m!==t&&((f=o.current)==null||f.call(o,m))}else i(h)},[a,t,i,o]);return[c,d]}function GD({defaultProp:t,onChange:e}){const[n,r]=y.useState(t),s=y.useRef(n),i=y.useRef(e);return KD(()=>{i.current=e},[e]),y.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function QD(t){return typeof t=="function"}var cI=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),YD="VisuallyHidden",Ef=y.forwardRef((t,e)=>l.jsx(ae.span,{...t,ref:e,style:{...cI,...t.style}}));Ef.displayName=YD;var XD=Ef,Iv="ToastProvider",[bv,JD,ZD]=_f("Toast"),[uI,yH]=Bn("Toast",[ZD]),[eM,Tf]=uI(Iv),dI=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,c]=y.useState(null),[d,h]=y.useState(0),f=y.useRef(!1),m=y.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Iv}\`. Expected non-empty \`string\`.`),l.jsx(bv.Provider,{scope:e,children:l.jsx(eM,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:d,viewport:a,onViewportChange:c,onToastAdd:y.useCallback(()=>h(p=>p+1),[]),onToastRemove:y.useCallback(()=>h(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:m,children:o})})};dI.displayName=Iv;var hI="ToastViewport",tM=["F8"],kg="toast.viewportPause",jg="toast.viewportResume",fI=y.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=tM,label:s="Notifications ({hotkey})",...i}=t,o=Tf(hI,n),a=JD(n),c=y.useRef(null),d=y.useRef(null),h=y.useRef(null),f=y.useRef(null),m=je(e,f,o.onViewportChange),p=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),I=o.toastCount>0;y.useEffect(()=>{const x=E=>{var T;r.length!==0&&r.every(A=>E[A]||E.code===A)&&((T=f.current)==null||T.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[r]),y.useEffect(()=>{const x=c.current,E=f.current;if(I&&x&&E){const w=()=>{if(!o.isClosePausedRef.current){const M=new CustomEvent(kg);E.dispatchEvent(M),o.isClosePausedRef.current=!0}},T=()=>{if(o.isClosePausedRef.current){const M=new CustomEvent(jg);E.dispatchEvent(M),o.isClosePausedRef.current=!1}},A=M=>{!x.contains(M.relatedTarget)&&T()},D=()=>{x.contains(document.activeElement)||T()};return x.addEventListener("focusin",w),x.addEventListener("focusout",A),x.addEventListener("pointermove",w),x.addEventListener("pointerleave",D),window.addEventListener("blur",w),window.addEventListener("focus",T),()=>{x.removeEventListener("focusin",w),x.removeEventListener("focusout",A),x.removeEventListener("pointermove",w),x.removeEventListener("pointerleave",D),window.removeEventListener("blur",w),window.removeEventListener("focus",T)}}},[I,o.isClosePausedRef]);const v=y.useCallback(({tabbingDirection:x})=>{const w=a().map(T=>{const A=T.ref.current,D=[A,...pM(A)];return x==="forwards"?D:D.reverse()});return(x==="forwards"?w.reverse():w).flat()},[a]);return y.useEffect(()=>{const x=f.current;if(x){const E=w=>{var D,M,b;const T=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!T){const S=document.activeElement,C=w.shiftKey;if(w.target===x&&C){(D=d.current)==null||D.focus();return}const j=v({tabbingDirection:C?"backwards":"forwards"}),P=j.findIndex(z=>z===S);hm(j.slice(P+1))?w.preventDefault():C?(M=d.current)==null||M.focus():(b=h.current)==null||b.focus()}};return x.addEventListener("keydown",E),()=>x.removeEventListener("keydown",E)}},[a,v]),l.jsxs(BD,{ref:c,role:"region","aria-label":s.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:I?void 0:"none"},children:[I&&l.jsx(Dg,{ref:d,onFocusFromOutsideViewport:()=>{const x=v({tabbingDirection:"forwards"});hm(x)}}),l.jsx(bv.Slot,{scope:n,children:l.jsx(ae.ol,{tabIndex:-1,...i,ref:m})}),I&&l.jsx(Dg,{ref:h,onFocusFromOutsideViewport:()=>{const x=v({tabbingDirection:"backwards"});hm(x)}})]})});fI.displayName=hI;var pI="ToastFocusProxy",Dg=y.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=Tf(pI,n);return l.jsx(Ef,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var d;const a=o.relatedTarget;!((d=i.viewport)!=null&&d.contains(a))&&r()}})});Dg.displayName=pI;var du="Toast",nM="toast.swipeStart",rM="toast.swipeMove",sM="toast.swipeCancel",iM="toast.swipeEnd",mI=y.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a,c]=co({prop:r,defaultProp:s??!0,onChange:i,caller:du});return l.jsx(pr,{present:n||a,children:l.jsx(lM,{open:a,...o,ref:e,onClose:()=>c(!1),onPause:nn(t.onPause),onResume:nn(t.onResume),onSwipeStart:Y(t.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Y(t.onSwipeMove,d=>{const{x:h,y:f}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:Y(t.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Y(t.onSwipeEnd,d=>{const{x:h,y:f}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});mI.displayName=du;var[oM,aM]=uI(du,{onClose(){}}),lM=y.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:c,onResume:d,onSwipeStart:h,onSwipeMove:f,onSwipeCancel:m,onSwipeEnd:p,...I}=t,v=Tf(du,n),[x,E]=y.useState(null),w=je(e,z=>E(z)),T=y.useRef(null),A=y.useRef(null),D=s||v.duration,M=y.useRef(0),b=y.useRef(D),S=y.useRef(0),{onToastAdd:C,onToastRemove:R}=v,k=nn(()=>{var se;(x==null?void 0:x.contains(document.activeElement))&&((se=v.viewport)==null||se.focus()),o()}),j=y.useCallback(z=>{!z||z===1/0||(window.clearTimeout(S.current),M.current=new Date().getTime(),S.current=window.setTimeout(k,z))},[k]);y.useEffect(()=>{const z=v.viewport;if(z){const se=()=>{j(b.current),d==null||d()},X=()=>{const re=new Date().getTime()-M.current;b.current=b.current-re,window.clearTimeout(S.current),c==null||c()};return z.addEventListener(kg,X),z.addEventListener(jg,se),()=>{z.removeEventListener(kg,X),z.removeEventListener(jg,se)}}},[v.viewport,D,c,d,j]),y.useEffect(()=>{i&&!v.isClosePausedRef.current&&j(D)},[i,D,v.isClosePausedRef,j]),y.useEffect(()=>(C(),()=>R()),[C,R]);const P=y.useMemo(()=>x?EI(x):null,[x]);return v.viewport?l.jsxs(l.Fragment,{children:[P&&l.jsx(cM,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:P}),l.jsx(oM,{scope:n,onClose:k,children:bo.createPortal(l.jsx(bv.ItemSlot,{scope:n,children:l.jsx($D,{asChild:!0,onEscapeKeyDown:Y(a,()=>{v.isFocusedToastEscapeKeyDownRef.current||k(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:l.jsx(ae.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":v.swipeDirection,...I,ref:w,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Y(t.onKeyDown,z=>{z.key==="Escape"&&(a==null||a(z.nativeEvent),z.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,k()))}),onPointerDown:Y(t.onPointerDown,z=>{z.button===0&&(T.current={x:z.clientX,y:z.clientY})}),onPointerMove:Y(t.onPointerMove,z=>{if(!T.current)return;const se=z.clientX-T.current.x,X=z.clientY-T.current.y,re=!!A.current,V=["left","right"].includes(v.swipeDirection),O=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,H=V?O(0,se):0,ne=V?0:O(0,X),Q=z.pointerType==="touch"?10:2,te={x:H,y:ne},le={originalEvent:z,delta:te};re?(A.current=te,pd(rM,f,le,{discrete:!1})):a_(te,v.swipeDirection,Q)?(A.current=te,pd(nM,h,le,{discrete:!1}),z.target.setPointerCapture(z.pointerId)):(Math.abs(se)>Q||Math.abs(X)>Q)&&(T.current=null)}),onPointerUp:Y(t.onPointerUp,z=>{const se=A.current,X=z.target;if(X.hasPointerCapture(z.pointerId)&&X.releasePointerCapture(z.pointerId),A.current=null,T.current=null,se){const re=z.currentTarget,V={originalEvent:z,delta:se};a_(se,v.swipeDirection,v.swipeThreshold)?pd(iM,p,V,{discrete:!0}):pd(sM,m,V,{discrete:!0}),re.addEventListener("click",O=>O.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),cM=t=>{const{__scopeToast:e,children:n,...r}=t,s=Tf(du,e),[i,o]=y.useState(!1),[a,c]=y.useState(!1);return hM(()=>o(!0)),y.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),a?null:l.jsx(uu,{asChild:!0,children:l.jsx(Ef,{...r,children:i&&l.jsxs(l.Fragment,{children:[s.label," ",n]})})})},uM="ToastTitle",gI=y.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return l.jsx(ae.div,{...r,ref:e})});gI.displayName=uM;var dM="ToastDescription",yI=y.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return l.jsx(ae.div,{...r,ref:e})});yI.displayName=dM;var vI="ToastAction",wI=y.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?l.jsx(_I,{altText:n,asChild:!0,children:l.jsx(Cv,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${vI}\`. Expected non-empty \`string\`.`),null)});wI.displayName=vI;var xI="ToastClose",Cv=y.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=aM(xI,n);return l.jsx(_I,{asChild:!0,children:l.jsx(ae.button,{type:"button",...r,ref:e,onClick:Y(t.onClick,s.onClose)})})});Cv.displayName=xI;var _I=y.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return l.jsx(ae.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function EI(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),fM(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...EI(r))}}),e}function pd(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?Sv(s,i):s.dispatchEvent(i)}var a_=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function hM(t=()=>{}){const e=nn(t);xt(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function fM(t){return t.nodeType===t.ELEMENT_NODE}function pM(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function hm(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var mM=dI,TI=fI,SI=mI,II=gI,bI=yI,CI=wI,NI=Cv;function RI(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=RI(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function AI(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=RI(t))&&(r&&(r+=" "),r+=e);return r}const l_=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,c_=AI,hu=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return c_(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(d=>{const h=n==null?void 0:n[d],f=i==null?void 0:i[d];if(h===null)return null;const m=l_(h)||l_(f);return s[d][m]}),a=n&&Object.entries(n).reduce((d,h)=>{let[f,m]=h;return m===void 0||(d[f]=m),d},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((d,h)=>{let{class:f,className:m,...p}=h;return Object.entries(p).every(I=>{let[v,x]=I;return Array.isArray(x)?x.includes({...i,...a}[v]):{...i,...a}[v]===x})?[...d,f,m]:d},[]);return c_(t,o,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gM=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),PI=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var yM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vM=y.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},c)=>y.createElement("svg",{ref:c,...yM,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:PI("lucide",s),...a},[...o.map(([d,h])=>y.createElement(d,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ee=(t,e)=>{const n=y.forwardRef(({className:r,...s},i)=>y.createElement(vM,{ref:i,iconNode:e,className:PI(`lucide-${gM(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wM=Ee("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u_=Ee("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lc=Ee("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xM=Ee("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mg=Ee("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bd=Ee("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nv=Ee("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kI=Ee("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _M=Ee("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EM=Ee("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jI=Ee("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fu=Ee("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ns=Ee("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rv=Ee("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d_=Ee("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mc=Ee("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DI=Ee("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TM=Ee("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oc=Ee("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lc=Ee("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SM=Ee("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vc=Ee("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Av=Ee("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $a=Ee("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IM=Ee("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sf=Ee("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h_=Ee("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jr=Ee("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f_=Ee("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bM=Ee("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CM=Ee("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NM=Ee("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Og=Ee("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RM=Ee("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pv=Ee("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cc=Ee("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pu=Ee("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),kv="-",AM=t=>{const e=kM(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(kv);return a[0]===""&&a.length!==1&&a.shift(),MI(a,e)||PM(o)},getConflictingClassGroupIds:(o,a)=>{const c=n[o]||[];return a&&r[o]?[...c,...r[o]]:c}}},MI=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?MI(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(kv);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},p_=/^\[(.+)\]$/,PM=t=>{if(p_.test(t)){const e=p_.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},kM=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return DM(Object.entries(t.classGroups),n).forEach(([i,o])=>{Lg(o,r,i,e)}),r},Lg=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:m_(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(jM(s)){Lg(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{Lg(o,m_(e,i),n,r)})})},m_=(t,e)=>{let n=t;return e.split(kv).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},jM=t=>t.isThemeGetter,DM=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,MM=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},OI="!",OM=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const c=[];let d=0,h=0,f;for(let x=0;x<a.length;x++){let E=a[x];if(d===0){if(E===s&&(r||a.slice(x,x+i)===e)){c.push(a.slice(h,x)),h=x+i;continue}if(E==="/"){f=x;continue}}E==="["?d++:E==="]"&&d--}const m=c.length===0?a:a.substring(h),p=m.startsWith(OI),I=p?m.substring(1):m,v=f&&f>h?f-h:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:I,maybePostfixModifierPosition:v}};return n?a=>n({className:a,parseClassName:o}):o},LM=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},VM=t=>({cache:MM(t.cacheSize),parseClassName:OM(t),...AM(t)}),FM=/\s+/,UM=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(FM);let a="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:h,hasImportantModifier:f,baseClassName:m,maybePostfixModifierPosition:p}=n(d);let I=!!p,v=r(I?m.substring(0,p):m);if(!v){if(!I){a=d+(a.length>0?" "+a:a);continue}if(v=r(m),!v){a=d+(a.length>0?" "+a:a);continue}I=!1}const x=LM(h).join(":"),E=f?x+OI:x,w=E+v;if(i.includes(w))continue;i.push(w);const T=s(v,I);for(let A=0;A<T.length;++A){const D=T[A];i.push(E+D)}a=d+(a.length>0?" "+a:a)}return a};function $M(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=LI(e))&&(r&&(r+=" "),r+=n);return r}const LI=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=LI(t[r]))&&(n&&(n+=" "),n+=e);return n};function BM(t,...e){let n,r,s,i=o;function o(c){const d=e.reduce((h,f)=>f(h),t());return n=VM(d),r=n.cache.get,s=n.cache.set,i=a,a(c)}function a(c){const d=r(c);if(d)return d;const h=UM(c,n);return s(c,h),h}return function(){return i($M.apply(null,arguments))}}const Xe=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},VI=/^\[(?:([a-z-]+):)?(.+)\]$/i,zM=/^\d+\/\d+$/,HM=new Set(["px","full","screen"]),WM=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,qM=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,KM=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,GM=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,QM=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Hr=t=>wa(t)||HM.has(t)||zM.test(t),Cs=t=>sl(t,"length",rO),wa=t=>!!t&&!Number.isNaN(Number(t)),fm=t=>sl(t,"number",wa),Fl=t=>!!t&&Number.isInteger(Number(t)),YM=t=>t.endsWith("%")&&wa(t.slice(0,-1)),ge=t=>VI.test(t),Ns=t=>WM.test(t),XM=new Set(["length","size","percentage"]),JM=t=>sl(t,XM,FI),ZM=t=>sl(t,"position",FI),eO=new Set(["image","url"]),tO=t=>sl(t,eO,iO),nO=t=>sl(t,"",sO),Ul=()=>!0,sl=(t,e,n)=>{const r=VI.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},rO=t=>qM.test(t)&&!KM.test(t),FI=()=>!1,sO=t=>GM.test(t),iO=t=>QM.test(t),oO=()=>{const t=Xe("colors"),e=Xe("spacing"),n=Xe("blur"),r=Xe("brightness"),s=Xe("borderColor"),i=Xe("borderRadius"),o=Xe("borderSpacing"),a=Xe("borderWidth"),c=Xe("contrast"),d=Xe("grayscale"),h=Xe("hueRotate"),f=Xe("invert"),m=Xe("gap"),p=Xe("gradientColorStops"),I=Xe("gradientColorStopPositions"),v=Xe("inset"),x=Xe("margin"),E=Xe("opacity"),w=Xe("padding"),T=Xe("saturate"),A=Xe("scale"),D=Xe("sepia"),M=Xe("skew"),b=Xe("space"),S=Xe("translate"),C=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto",ge,e],j=()=>[ge,e],P=()=>["",Hr,Cs],z=()=>["auto",wa,ge],se=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],X=()=>["solid","dashed","dotted","double","none"],re=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],V=()=>["start","end","center","between","around","evenly","stretch"],O=()=>["","0",ge],H=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ne=()=>[wa,ge];return{cacheSize:500,separator:":",theme:{colors:[Ul],spacing:[Hr,Cs],blur:["none","",Ns,ge],brightness:ne(),borderColor:[t],borderRadius:["none","","full",Ns,ge],borderSpacing:j(),borderWidth:P(),contrast:ne(),grayscale:O(),hueRotate:ne(),invert:O(),gap:j(),gradientColorStops:[t],gradientColorStopPositions:[YM,Cs],inset:k(),margin:k(),opacity:ne(),padding:j(),saturate:ne(),scale:ne(),sepia:O(),skew:ne(),space:j(),translate:j()},classGroups:{aspect:[{aspect:["auto","square","video",ge]}],container:["container"],columns:[{columns:[Ns]}],"break-after":[{"break-after":H()}],"break-before":[{"break-before":H()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...se(),ge]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Fl,ge]}],basis:[{basis:k()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ge]}],grow:[{grow:O()}],shrink:[{shrink:O()}],order:[{order:["first","last","none",Fl,ge]}],"grid-cols":[{"grid-cols":[Ul]}],"col-start-end":[{col:["auto",{span:["full",Fl,ge]},ge]}],"col-start":[{"col-start":z()}],"col-end":[{"col-end":z()}],"grid-rows":[{"grid-rows":[Ul]}],"row-start-end":[{row:["auto",{span:[Fl,ge]},ge]}],"row-start":[{"row-start":z()}],"row-end":[{"row-end":z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ge]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ge]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...V()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...V(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...V(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[b]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[b]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ge,e]}],"min-w":[{"min-w":[ge,e,"min","max","fit"]}],"max-w":[{"max-w":[ge,e,"none","full","min","max","fit","prose",{screen:[Ns]},Ns]}],h:[{h:[ge,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ge,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ge,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ge,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Ns,Cs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",fm]}],"font-family":[{font:[Ul]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ge]}],"line-clamp":[{"line-clamp":["none",wa,fm]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Hr,ge]}],"list-image":[{"list-image":["none",ge]}],"list-style-type":[{list:["none","disc","decimal",ge]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[E]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[E]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...X(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Hr,Cs]}],"underline-offset":[{"underline-offset":["auto",Hr,ge]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:j()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ge]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ge]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[E]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...se(),ZM]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",JM]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},tO]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[I]}],"gradient-via-pos":[{via:[I]}],"gradient-to-pos":[{to:[I]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[E]}],"border-style":[{border:[...X(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[E]}],"divide-style":[{divide:X()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...X()]}],"outline-offset":[{"outline-offset":[Hr,ge]}],"outline-w":[{outline:[Hr,Cs]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:P()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[E]}],"ring-offset-w":[{"ring-offset":[Hr,Cs]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Ns,nO]}],"shadow-color":[{shadow:[Ul]}],opacity:[{opacity:[E]}],"mix-blend":[{"mix-blend":[...re(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":re()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Ns,ge]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[f]}],saturate:[{saturate:[T]}],sepia:[{sepia:[D]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[E]}],"backdrop-saturate":[{"backdrop-saturate":[T]}],"backdrop-sepia":[{"backdrop-sepia":[D]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ge]}],duration:[{duration:ne()}],ease:[{ease:["linear","in","out","in-out",ge]}],delay:[{delay:ne()}],animate:[{animate:["none","spin","ping","pulse","bounce",ge]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[A]}],"scale-x":[{"scale-x":[A]}],"scale-y":[{"scale-y":[A]}],rotate:[{rotate:[Fl,ge]}],"translate-x":[{"translate-x":[S]}],"translate-y":[{"translate-y":[S]}],"skew-x":[{"skew-x":[M]}],"skew-y":[{"skew-y":[M]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ge]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ge]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":j()}],"scroll-mx":[{"scroll-mx":j()}],"scroll-my":[{"scroll-my":j()}],"scroll-ms":[{"scroll-ms":j()}],"scroll-me":[{"scroll-me":j()}],"scroll-mt":[{"scroll-mt":j()}],"scroll-mr":[{"scroll-mr":j()}],"scroll-mb":[{"scroll-mb":j()}],"scroll-ml":[{"scroll-ml":j()}],"scroll-p":[{"scroll-p":j()}],"scroll-px":[{"scroll-px":j()}],"scroll-py":[{"scroll-py":j()}],"scroll-ps":[{"scroll-ps":j()}],"scroll-pe":[{"scroll-pe":j()}],"scroll-pt":[{"scroll-pt":j()}],"scroll-pr":[{"scroll-pr":j()}],"scroll-pb":[{"scroll-pb":j()}],"scroll-pl":[{"scroll-pl":j()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ge]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Hr,Cs,fm]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},aO=BM(oO);function oe(...t){return aO(AI(t))}const lO=mM,UI=y.forwardRef(({className:t,...e},n)=>l.jsx(TI,{ref:n,className:oe("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));UI.displayName=TI.displayName;const cO=hu("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),$I=y.forwardRef(({className:t,variant:e,...n},r)=>l.jsx(SI,{ref:r,className:oe(cO({variant:e}),t),...n}));$I.displayName=SI.displayName;const uO=y.forwardRef(({className:t,...e},n)=>l.jsx(CI,{ref:n,className:oe("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));uO.displayName=CI.displayName;const BI=y.forwardRef(({className:t,...e},n)=>l.jsx(NI,{ref:n,className:oe("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:l.jsx(pu,{className:"h-4 w-4"})}));BI.displayName=NI.displayName;const zI=y.forwardRef(({className:t,...e},n)=>l.jsx(II,{ref:n,className:oe("text-sm font-semibold",t),...e}));zI.displayName=II.displayName;const HI=y.forwardRef(({className:t,...e},n)=>l.jsx(bI,{ref:n,className:oe("text-sm opacity-90",t),...e}));HI.displayName=bI.displayName;function dO(){const{toasts:t}=nl();return l.jsxs(lO,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return l.jsxs($I,{...i,children:[l.jsxs("div",{className:"grid gap-1",children:[n&&l.jsx(zI,{children:n}),r&&l.jsx(HI,{children:r})]}),s,l.jsx(BI,{})]},e)}),l.jsx(UI,{})]})}var g_=["light","dark"],hO="(prefers-color-scheme: dark)",fO=y.createContext(void 0),pO={setTheme:t=>{},themes:[]},mO=()=>{var t;return(t=y.useContext(fO))!=null?t:pO};y.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,attrs:a,nonce:c})=>{let d=i==="system",h=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(I=>`'${I}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,f=s?g_.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",m=(I,v=!1,x=!0)=>{let E=o?o[I]:I,w=v?I+"|| ''":`'${E}'`,T="";return s&&x&&!v&&g_.includes(I)&&(T+=`d.style.colorScheme = '${I}';`),n==="class"?v||E?T+=`c.add(${w})`:T+="null":E&&(T+=`d[s](n,${w})`),T},p=t?`!function(){${h}${m(t)}}()`:r?`!function(){try{${h}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${d})){var t='${hO}',m=window.matchMedia(t);if(m.media!==t||m.matches){${m("dark")}}else{${m("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${m(o?"x[e]":"e",!0)}}${d?"":"else{"+m(i,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${h}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${m(o?"x[e]":"e",!0)}}else{${m(i,!1,!1)};}${f}}catch(t){}}();`;return y.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:p}})});var gO=t=>{switch(t){case"success":return wO;case"info":return _O;case"warning":return xO;case"error":return EO;default:return null}},yO=Array(12).fill(0),vO=({visible:t,className:e})=>K.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},K.createElement("div",{className:"sonner-spinner"},yO.map((n,r)=>K.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),wO=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),xO=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),_O=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),EO=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),TO=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},K.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),K.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),SO=()=>{let[t,e]=K.useState(document.hidden);return K.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},Vg=1,IO=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;let{message:r,...s}=e,i=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:Vg++,o=this.toasts.find(c=>c.id===i),a=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),o?this.toasts=this.toasts.map(c=>c.id===i?(this.publish({...c,...e,id:i,title:r}),{...c,...e,id:i,dismissible:a,title:r}):c):this.addToast({title:r,...s,dismissible:a,id:i}),i},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:e,dismiss:!0})),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let s=e instanceof Promise?e:e(),i=r!==void 0,o,a=s.then(async d=>{if(o=["resolve",d],K.isValidElement(d))i=!1,this.create({id:r,type:"default",message:d});else if(CO(d)&&!d.ok){i=!1;let h=typeof n.error=="function"?await n.error(`HTTP error! status: ${d.status}`):n.error,f=typeof n.description=="function"?await n.description(`HTTP error! status: ${d.status}`):n.description;this.create({id:r,type:"error",message:h,description:f})}else if(n.success!==void 0){i=!1;let h=typeof n.success=="function"?await n.success(d):n.success,f=typeof n.description=="function"?await n.description(d):n.description;this.create({id:r,type:"success",message:h,description:f})}}).catch(async d=>{if(o=["reject",d],n.error!==void 0){i=!1;let h=typeof n.error=="function"?await n.error(d):n.error,f=typeof n.description=="function"?await n.description(d):n.description;this.create({id:r,type:"error",message:h,description:f})}}).finally(()=>{var d;i&&(this.dismiss(r),r=void 0),(d=n.finally)==null||d.call(n)}),c=()=>new Promise((d,h)=>a.then(()=>o[0]==="reject"?h(o[1]):d(o[1])).catch(h));return typeof r!="string"&&typeof r!="number"?{unwrap:c}:Object.assign(r,{unwrap:c})},this.custom=(e,n)=>{let r=(n==null?void 0:n.id)||Vg++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},un=new IO,bO=(t,e)=>{let n=(e==null?void 0:e.id)||Vg++;return un.addToast({title:t,...e,id:n}),n},CO=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",NO=bO,RO=()=>un.toasts,AO=()=>un.getActiveToasts();Object.assign(NO,{success:un.success,info:un.info,warning:un.warning,error:un.error,custom:un.custom,message:un.message,promise:un.promise,dismiss:un.dismiss,loading:un.loading},{getHistory:RO,getToasts:AO});function PO(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}PO(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function md(t){return t.label!==void 0}var kO=3,jO="32px",DO="16px",y_=4e3,MO=356,OO=14,LO=20,VO=200;function Gn(...t){return t.filter(Boolean).join(" ")}function FO(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var UO=t=>{var e,n,r,s,i,o,a,c,d,h,f;let{invert:m,toast:p,unstyled:I,interacting:v,setHeights:x,visibleToasts:E,heights:w,index:T,toasts:A,expanded:D,removeToast:M,defaultRichColors:b,closeButton:S,style:C,cancelButtonStyle:R,actionButtonStyle:k,className:j="",descriptionClassName:P="",duration:z,position:se,gap:X,loadingIcon:re,expandByDefault:V,classNames:O,icons:H,closeButtonAriaLabel:ne="Close toast",pauseWhenPageIsHidden:Q}=t,[te,le]=K.useState(null),[Re,Fe]=K.useState(null),[q,Ae]=K.useState(!1),[Pe,ve]=K.useState(!1),[we,Te]=K.useState(!1),[mt,Vt]=K.useState(!1),[zn,Hn]=K.useState(!1),[Vr,ki]=K.useState(0),[Fr,Oo]=K.useState(0),xs=K.useRef(p.duration||z||y_),ku=K.useRef(null),Wn=K.useRef(null),wl=T===0,ju=T+1<=E,$e=p.type,ot=p.dismissible!==!1,Lo=p.className||"",Du=p.descriptionClassName||"",ji=K.useMemo(()=>w.findIndex(he=>he.toastId===p.id)||0,[w,p.id]),Tp=K.useMemo(()=>{var he;return(he=p.closeButton)!=null?he:S},[p.closeButton,S]),_s=K.useMemo(()=>p.duration||z||y_,[p.duration,z]),Vo=K.useRef(0),Ur=K.useRef(0),Fo=K.useRef(0),Es=K.useRef(null),[Sp,xl]=se.split("-"),_l=K.useMemo(()=>w.reduce((he,De,He)=>He>=ji?he:he+De.height,0),[w,ji]),El=SO(),Di=p.invert||m,Mi=$e==="loading";Ur.current=K.useMemo(()=>ji*X+_l,[ji,_l]),K.useEffect(()=>{xs.current=_s},[_s]),K.useEffect(()=>{Ae(!0)},[]),K.useEffect(()=>{let he=Wn.current;if(he){let De=he.getBoundingClientRect().height;return Oo(De),x(He=>[{toastId:p.id,height:De,position:p.position},...He]),()=>x(He=>He.filter(Rt=>Rt.toastId!==p.id))}},[x,p.id]),K.useLayoutEffect(()=>{if(!q)return;let he=Wn.current,De=he.style.height;he.style.height="auto";let He=he.getBoundingClientRect().height;he.style.height=De,Oo(He),x(Rt=>Rt.find(ln=>ln.toastId===p.id)?Rt.map(ln=>ln.toastId===p.id?{...ln,height:He}:ln):[{toastId:p.id,height:He,position:p.position},...Rt])},[q,p.title,p.description,x,p.id]);let An=K.useCallback(()=>{ve(!0),ki(Ur.current),x(he=>he.filter(De=>De.toastId!==p.id)),setTimeout(()=>{M(p)},VO)},[p,M,x,Ur]);K.useEffect(()=>{if(p.promise&&$e==="loading"||p.duration===1/0||p.type==="loading")return;let he;return D||v||Q&&El?(()=>{if(Fo.current<Vo.current){let De=new Date().getTime()-Vo.current;xs.current=xs.current-De}Fo.current=new Date().getTime()})():xs.current!==1/0&&(Vo.current=new Date().getTime(),he=setTimeout(()=>{var De;(De=p.onAutoClose)==null||De.call(p,p),An()},xs.current)),()=>clearTimeout(he)},[D,v,p,$e,Q,El,An]),K.useEffect(()=>{p.delete&&An()},[An,p.delete]);function $r(){var he,De,He;return H!=null&&H.loading?K.createElement("div",{className:Gn(O==null?void 0:O.loader,(he=p==null?void 0:p.classNames)==null?void 0:he.loader,"sonner-loader"),"data-visible":$e==="loading"},H.loading):re?K.createElement("div",{className:Gn(O==null?void 0:O.loader,(De=p==null?void 0:p.classNames)==null?void 0:De.loader,"sonner-loader"),"data-visible":$e==="loading"},re):K.createElement(vO,{className:Gn(O==null?void 0:O.loader,(He=p==null?void 0:p.classNames)==null?void 0:He.loader),visible:$e==="loading"})}return K.createElement("li",{tabIndex:0,ref:Wn,className:Gn(j,Lo,O==null?void 0:O.toast,(e=p==null?void 0:p.classNames)==null?void 0:e.toast,O==null?void 0:O.default,O==null?void 0:O[$e],(n=p==null?void 0:p.classNames)==null?void 0:n[$e]),"data-sonner-toast":"","data-rich-colors":(r=p.richColors)!=null?r:b,"data-styled":!(p.jsx||p.unstyled||I),"data-mounted":q,"data-promise":!!p.promise,"data-swiped":zn,"data-removed":Pe,"data-visible":ju,"data-y-position":Sp,"data-x-position":xl,"data-index":T,"data-front":wl,"data-swiping":we,"data-dismissible":ot,"data-type":$e,"data-invert":Di,"data-swipe-out":mt,"data-swipe-direction":Re,"data-expanded":!!(D||V&&q),style:{"--index":T,"--toasts-before":T,"--z-index":A.length-T,"--offset":`${Pe?Vr:Ur.current}px`,"--initial-height":V?"auto":`${Fr}px`,...C,...p.style},onDragEnd:()=>{Te(!1),le(null),Es.current=null},onPointerDown:he=>{Mi||!ot||(ku.current=new Date,ki(Ur.current),he.target.setPointerCapture(he.pointerId),he.target.tagName!=="BUTTON"&&(Te(!0),Es.current={x:he.clientX,y:he.clientY}))},onPointerUp:()=>{var he,De,He,Rt;if(mt||!ot)return;Es.current=null;let ln=Number(((he=Wn.current)==null?void 0:he.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),et=Number(((De=Wn.current)==null?void 0:De.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),gr=new Date().getTime()-((He=ku.current)==null?void 0:He.getTime()),At=te==="x"?ln:et,cn=Math.abs(At)/gr;if(Math.abs(At)>=LO||cn>.11){ki(Ur.current),(Rt=p.onDismiss)==null||Rt.call(p,p),Fe(te==="x"?ln>0?"right":"left":et>0?"down":"up"),An(),Vt(!0),Hn(!1);return}Te(!1),le(null)},onPointerMove:he=>{var De,He,Rt,ln;if(!Es.current||!ot||((De=window.getSelection())==null?void 0:De.toString().length)>0)return;let et=he.clientY-Es.current.y,gr=he.clientX-Es.current.x,At=(He=t.swipeDirections)!=null?He:FO(se);!te&&(Math.abs(gr)>1||Math.abs(et)>1)&&le(Math.abs(gr)>Math.abs(et)?"x":"y");let cn={x:0,y:0};te==="y"?(At.includes("top")||At.includes("bottom"))&&(At.includes("top")&&et<0||At.includes("bottom")&&et>0)&&(cn.y=et):te==="x"&&(At.includes("left")||At.includes("right"))&&(At.includes("left")&&gr<0||At.includes("right")&&gr>0)&&(cn.x=gr),(Math.abs(cn.x)>0||Math.abs(cn.y)>0)&&Hn(!0),(Rt=Wn.current)==null||Rt.style.setProperty("--swipe-amount-x",`${cn.x}px`),(ln=Wn.current)==null||ln.style.setProperty("--swipe-amount-y",`${cn.y}px`)}},Tp&&!p.jsx?K.createElement("button",{"aria-label":ne,"data-disabled":Mi,"data-close-button":!0,onClick:Mi||!ot?()=>{}:()=>{var he;An(),(he=p.onDismiss)==null||he.call(p,p)},className:Gn(O==null?void 0:O.closeButton,(s=p==null?void 0:p.classNames)==null?void 0:s.closeButton)},(i=H==null?void 0:H.close)!=null?i:TO):null,p.jsx||y.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:K.createElement(K.Fragment,null,$e||p.icon||p.promise?K.createElement("div",{"data-icon":"",className:Gn(O==null?void 0:O.icon,(o=p==null?void 0:p.classNames)==null?void 0:o.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||$r():null,p.type!=="loading"?p.icon||(H==null?void 0:H[$e])||gO($e):null):null,K.createElement("div",{"data-content":"",className:Gn(O==null?void 0:O.content,(a=p==null?void 0:p.classNames)==null?void 0:a.content)},K.createElement("div",{"data-title":"",className:Gn(O==null?void 0:O.title,(c=p==null?void 0:p.classNames)==null?void 0:c.title)},typeof p.title=="function"?p.title():p.title),p.description?K.createElement("div",{"data-description":"",className:Gn(P,Du,O==null?void 0:O.description,(d=p==null?void 0:p.classNames)==null?void 0:d.description)},typeof p.description=="function"?p.description():p.description):null),y.isValidElement(p.cancel)?p.cancel:p.cancel&&md(p.cancel)?K.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||R,onClick:he=>{var De,He;md(p.cancel)&&ot&&((He=(De=p.cancel).onClick)==null||He.call(De,he),An())},className:Gn(O==null?void 0:O.cancelButton,(h=p==null?void 0:p.classNames)==null?void 0:h.cancelButton)},p.cancel.label):null,y.isValidElement(p.action)?p.action:p.action&&md(p.action)?K.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||k,onClick:he=>{var De,He;md(p.action)&&((He=(De=p.action).onClick)==null||He.call(De,he),!he.defaultPrevented&&An())},className:Gn(O==null?void 0:O.actionButton,(f=p==null?void 0:p.classNames)==null?void 0:f.actionButton)},p.action.label):null))};function v_(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function $O(t,e){let n={};return[t,e].forEach((r,s)=>{let i=s===1,o=i?"--mobile-offset":"--offset",a=i?DO:jO;function c(d){["top","right","bottom","left"].forEach(h=>{n[`${o}-${h}`]=typeof d=="number"?`${d}px`:d})}typeof r=="number"||typeof r=="string"?c(r):typeof r=="object"?["top","right","bottom","left"].forEach(d=>{r[d]===void 0?n[`${o}-${d}`]=a:n[`${o}-${d}`]=typeof r[d]=="number"?`${r[d]}px`:r[d]}):c(a)}),n}var BO=y.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:o,className:a,offset:c,mobileOffset:d,theme:h="light",richColors:f,duration:m,style:p,visibleToasts:I=kO,toastOptions:v,dir:x=v_(),gap:E=OO,loadingIcon:w,icons:T,containerAriaLabel:A="Notifications",pauseWhenPageIsHidden:D}=t,[M,b]=K.useState([]),S=K.useMemo(()=>Array.from(new Set([r].concat(M.filter(Q=>Q.position).map(Q=>Q.position)))),[M,r]),[C,R]=K.useState([]),[k,j]=K.useState(!1),[P,z]=K.useState(!1),[se,X]=K.useState(h!=="system"?h:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),re=K.useRef(null),V=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),O=K.useRef(null),H=K.useRef(!1),ne=K.useCallback(Q=>{b(te=>{var le;return(le=te.find(Re=>Re.id===Q.id))!=null&&le.delete||un.dismiss(Q.id),te.filter(({id:Re})=>Re!==Q.id)})},[]);return K.useEffect(()=>un.subscribe(Q=>{if(Q.dismiss){b(te=>te.map(le=>le.id===Q.id?{...le,delete:!0}:le));return}setTimeout(()=>{rI.flushSync(()=>{b(te=>{let le=te.findIndex(Re=>Re.id===Q.id);return le!==-1?[...te.slice(0,le),{...te[le],...Q},...te.slice(le+1)]:[Q,...te]})})})}),[]),K.useEffect(()=>{if(h!=="system"){X(h);return}if(h==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?X("dark"):X("light")),typeof window>"u")return;let Q=window.matchMedia("(prefers-color-scheme: dark)");try{Q.addEventListener("change",({matches:te})=>{X(te?"dark":"light")})}catch{Q.addListener(({matches:le})=>{try{X(le?"dark":"light")}catch(Re){console.error(Re)}})}},[h]),K.useEffect(()=>{M.length<=1&&j(!1)},[M]),K.useEffect(()=>{let Q=te=>{var le,Re;s.every(Fe=>te[Fe]||te.code===Fe)&&(j(!0),(le=re.current)==null||le.focus()),te.code==="Escape"&&(document.activeElement===re.current||(Re=re.current)!=null&&Re.contains(document.activeElement))&&j(!1)};return document.addEventListener("keydown",Q),()=>document.removeEventListener("keydown",Q)},[s]),K.useEffect(()=>{if(re.current)return()=>{O.current&&(O.current.focus({preventScroll:!0}),O.current=null,H.current=!1)}},[re.current]),K.createElement("section",{ref:e,"aria-label":`${A} ${V}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},S.map((Q,te)=>{var le;let[Re,Fe]=Q.split("-");return M.length?K.createElement("ol",{key:Q,dir:x==="auto"?v_():x,tabIndex:-1,ref:re,className:a,"data-sonner-toaster":!0,"data-theme":se,"data-y-position":Re,"data-lifted":k&&M.length>1&&!i,"data-x-position":Fe,style:{"--front-toast-height":`${((le=C[0])==null?void 0:le.height)||0}px`,"--width":`${MO}px`,"--gap":`${E}px`,...p,...$O(c,d)},onBlur:q=>{H.current&&!q.currentTarget.contains(q.relatedTarget)&&(H.current=!1,O.current&&(O.current.focus({preventScroll:!0}),O.current=null))},onFocus:q=>{q.target instanceof HTMLElement&&q.target.dataset.dismissible==="false"||H.current||(H.current=!0,O.current=q.relatedTarget)},onMouseEnter:()=>j(!0),onMouseMove:()=>j(!0),onMouseLeave:()=>{P||j(!1)},onDragEnd:()=>j(!1),onPointerDown:q=>{q.target instanceof HTMLElement&&q.target.dataset.dismissible==="false"||z(!0)},onPointerUp:()=>z(!1)},M.filter(q=>!q.position&&te===0||q.position===Q).map((q,Ae)=>{var Pe,ve;return K.createElement(UO,{key:q.id,icons:T,index:Ae,toast:q,defaultRichColors:f,duration:(Pe=v==null?void 0:v.duration)!=null?Pe:m,className:v==null?void 0:v.className,descriptionClassName:v==null?void 0:v.descriptionClassName,invert:n,visibleToasts:I,closeButton:(ve=v==null?void 0:v.closeButton)!=null?ve:o,interacting:P,position:Q,style:v==null?void 0:v.style,unstyled:v==null?void 0:v.unstyled,classNames:v==null?void 0:v.classNames,cancelButtonStyle:v==null?void 0:v.cancelButtonStyle,actionButtonStyle:v==null?void 0:v.actionButtonStyle,removeToast:ne,toasts:M.filter(we=>we.position==q.position),heights:C.filter(we=>we.position==q.position),setHeights:R,expandByDefault:i,gap:E,loadingIcon:w,expanded:k,pauseWhenPageIsHidden:D,swipeDirections:t.swipeDirections})})):null}))});const zO=({...t})=>{const{theme:e="system"}=mO();return l.jsx(BO,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var HO=jy[" useId ".trim().toString()]||(()=>{}),WO=0;function rs(t){const[e,n]=y.useState(HO());return xt(()=>{n(r=>r??String(WO++))},[t]),e?`radix-${e}`:""}const qO=["top","right","bottom","left"],fi=Math.min,xn=Math.max,bh=Math.round,gd=Math.floor,Nr=t=>({x:t,y:t}),KO={left:"right",right:"left",bottom:"top",top:"bottom"},GO={start:"end",end:"start"};function Fg(t,e,n){return xn(t,fi(e,n))}function ds(t,e){return typeof t=="function"?t(e):t}function hs(t){return t.split("-")[0]}function il(t){return t.split("-")[1]}function jv(t){return t==="x"?"y":"x"}function Dv(t){return t==="y"?"height":"width"}const QO=new Set(["top","bottom"]);function Ir(t){return QO.has(hs(t))?"y":"x"}function Mv(t){return jv(Ir(t))}function YO(t,e,n){n===void 0&&(n=!1);const r=il(t),s=Mv(t),i=Dv(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=Ch(o)),[o,Ch(o)]}function XO(t){const e=Ch(t);return[Ug(t),e,Ug(e)]}function Ug(t){return t.replace(/start|end/g,e=>GO[e])}const w_=["left","right"],x_=["right","left"],JO=["top","bottom"],ZO=["bottom","top"];function eL(t,e,n){switch(t){case"top":case"bottom":return n?e?x_:w_:e?w_:x_;case"left":case"right":return e?JO:ZO;default:return[]}}function tL(t,e,n,r){const s=il(t);let i=eL(hs(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(Ug)))),i}function Ch(t){return t.replace(/left|right|bottom|top/g,e=>KO[e])}function nL(t){return{top:0,right:0,bottom:0,left:0,...t}}function WI(t){return typeof t!="number"?nL(t):{top:t,right:t,bottom:t,left:t}}function Nh(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function __(t,e,n){let{reference:r,floating:s}=t;const i=Ir(e),o=Mv(e),a=Dv(o),c=hs(e),d=i==="y",h=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,m=r[a]/2-s[a]/2;let p;switch(c){case"top":p={x:h,y:r.y-s.height};break;case"bottom":p={x:h,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:f};break;case"left":p={x:r.x-s.width,y:f};break;default:p={x:r.x,y:r.y}}switch(il(e)){case"start":p[o]-=m*(n&&d?-1:1);break;case"end":p[o]+=m*(n&&d?-1:1);break}return p}const rL=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let d=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:h,y:f}=__(d,r,c),m=r,p={},I=0;for(let v=0;v<a.length;v++){const{name:x,fn:E}=a[v],{x:w,y:T,data:A,reset:D}=await E({x:h,y:f,initialPlacement:r,placement:m,strategy:s,middlewareData:p,rects:d,platform:o,elements:{reference:t,floating:e}});h=w??h,f=T??f,p={...p,[x]:{...p[x],...A}},D&&I<=50&&(I++,typeof D=="object"&&(D.placement&&(m=D.placement),D.rects&&(d=D.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):D.rects),{x:h,y:f}=__(d,m,c)),v=-1)}return{x:h,y:f,placement:m,strategy:s,middlewareData:p}};async function Fc(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:c}=t,{boundary:d="clippingAncestors",rootBoundary:h="viewport",elementContext:f="floating",altBoundary:m=!1,padding:p=0}=ds(e,t),I=WI(p),x=a[m?f==="floating"?"reference":"floating":f],E=Nh(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(x)))==null||n?x:x.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:d,rootBoundary:h,strategy:c})),w=f==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,T=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),A=await(i.isElement==null?void 0:i.isElement(T))?await(i.getScale==null?void 0:i.getScale(T))||{x:1,y:1}:{x:1,y:1},D=Nh(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:w,offsetParent:T,strategy:c}):w);return{top:(E.top-D.top+I.top)/A.y,bottom:(D.bottom-E.bottom+I.bottom)/A.y,left:(E.left-D.left+I.left)/A.x,right:(D.right-E.right+I.right)/A.x}}const sL=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:c}=e,{element:d,padding:h=0}=ds(t,e)||{};if(d==null)return{};const f=WI(h),m={x:n,y:r},p=Mv(s),I=Dv(p),v=await o.getDimensions(d),x=p==="y",E=x?"top":"left",w=x?"bottom":"right",T=x?"clientHeight":"clientWidth",A=i.reference[I]+i.reference[p]-m[p]-i.floating[I],D=m[p]-i.reference[p],M=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let b=M?M[T]:0;(!b||!await(o.isElement==null?void 0:o.isElement(M)))&&(b=a.floating[T]||i.floating[I]);const S=A/2-D/2,C=b/2-v[I]/2-1,R=fi(f[E],C),k=fi(f[w],C),j=R,P=b-v[I]-k,z=b/2-v[I]/2+S,se=Fg(j,z,P),X=!c.arrow&&il(s)!=null&&z!==se&&i.reference[I]/2-(z<j?R:k)-v[I]/2<0,re=X?z<j?z-j:z-P:0;return{[p]:m[p]+re,data:{[p]:se,centerOffset:z-se-re,...X&&{alignmentOffset:re}},reset:X}}}),iL=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:c,elements:d}=e,{mainAxis:h=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:I="none",flipAlignment:v=!0,...x}=ds(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const E=hs(s),w=Ir(a),T=hs(a)===a,A=await(c.isRTL==null?void 0:c.isRTL(d.floating)),D=m||(T||!v?[Ch(a)]:XO(a)),M=I!=="none";!m&&M&&D.push(...tL(a,v,I,A));const b=[a,...D],S=await Fc(e,x),C=[];let R=((r=i.flip)==null?void 0:r.overflows)||[];if(h&&C.push(S[E]),f){const z=YO(s,o,A);C.push(S[z[0]],S[z[1]])}if(R=[...R,{placement:s,overflows:C}],!C.every(z=>z<=0)){var k,j;const z=(((k=i.flip)==null?void 0:k.index)||0)+1,se=b[z];if(se&&(!(f==="alignment"?w!==Ir(se):!1)||R.every(V=>V.overflows[0]>0&&Ir(V.placement)===w)))return{data:{index:z,overflows:R},reset:{placement:se}};let X=(j=R.filter(re=>re.overflows[0]<=0).sort((re,V)=>re.overflows[1]-V.overflows[1])[0])==null?void 0:j.placement;if(!X)switch(p){case"bestFit":{var P;const re=(P=R.filter(V=>{if(M){const O=Ir(V.placement);return O===w||O==="y"}return!0}).map(V=>[V.placement,V.overflows.filter(O=>O>0).reduce((O,H)=>O+H,0)]).sort((V,O)=>V[1]-O[1])[0])==null?void 0:P[0];re&&(X=re);break}case"initialPlacement":X=a;break}if(s!==X)return{reset:{placement:X}}}return{}}}};function E_(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function T_(t){return qO.some(e=>t[e]>=0)}const oL=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=ds(t,e);switch(r){case"referenceHidden":{const i=await Fc(e,{...s,elementContext:"reference"}),o=E_(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:T_(o)}}}case"escaped":{const i=await Fc(e,{...s,altBoundary:!0}),o=E_(i,n.floating);return{data:{escapedOffsets:o,escaped:T_(o)}}}default:return{}}}}},qI=new Set(["left","top"]);async function aL(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=hs(n),a=il(n),c=Ir(n)==="y",d=qI.has(o)?-1:1,h=i&&c?-1:1,f=ds(e,t);let{mainAxis:m,crossAxis:p,alignmentAxis:I}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof I=="number"&&(p=a==="end"?I*-1:I),c?{x:p*h,y:m*d}:{x:m*d,y:p*h}}const lL=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,c=await aL(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:o}}}}},cL=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:x=>{let{x:E,y:w}=x;return{x:E,y:w}}},...c}=ds(t,e),d={x:n,y:r},h=await Fc(e,c),f=Ir(hs(s)),m=jv(f);let p=d[m],I=d[f];if(i){const x=m==="y"?"top":"left",E=m==="y"?"bottom":"right",w=p+h[x],T=p-h[E];p=Fg(w,p,T)}if(o){const x=f==="y"?"top":"left",E=f==="y"?"bottom":"right",w=I+h[x],T=I-h[E];I=Fg(w,I,T)}const v=a.fn({...e,[m]:p,[f]:I});return{...v,data:{x:v.x-n,y:v.y-r,enabled:{[m]:i,[f]:o}}}}}},uL=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:c=!0,crossAxis:d=!0}=ds(t,e),h={x:n,y:r},f=Ir(s),m=jv(f);let p=h[m],I=h[f];const v=ds(a,e),x=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(c){const T=m==="y"?"height":"width",A=i.reference[m]-i.floating[T]+x.mainAxis,D=i.reference[m]+i.reference[T]-x.mainAxis;p<A?p=A:p>D&&(p=D)}if(d){var E,w;const T=m==="y"?"width":"height",A=qI.has(hs(s)),D=i.reference[f]-i.floating[T]+(A&&((E=o.offset)==null?void 0:E[f])||0)+(A?0:x.crossAxis),M=i.reference[f]+i.reference[T]+(A?0:((w=o.offset)==null?void 0:w[f])||0)-(A?x.crossAxis:0);I<D?I=D:I>M&&(I=M)}return{[m]:p,[f]:I}}}},dL=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:c=()=>{},...d}=ds(t,e),h=await Fc(e,d),f=hs(s),m=il(s),p=Ir(s)==="y",{width:I,height:v}=i.floating;let x,E;f==="top"||f==="bottom"?(x=f,E=m===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(E=f,x=m==="end"?"top":"bottom");const w=v-h.top-h.bottom,T=I-h.left-h.right,A=fi(v-h[x],w),D=fi(I-h[E],T),M=!e.middlewareData.shift;let b=A,S=D;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(S=T),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(b=w),M&&!m){const R=xn(h.left,0),k=xn(h.right,0),j=xn(h.top,0),P=xn(h.bottom,0);p?S=I-2*(R!==0||k!==0?R+k:xn(h.left,h.right)):b=v-2*(j!==0||P!==0?j+P:xn(h.top,h.bottom))}await c({...e,availableWidth:S,availableHeight:b});const C=await o.getDimensions(a.floating);return I!==C.width||v!==C.height?{reset:{rects:!0}}:{}}}};function If(){return typeof window<"u"}function ol(t){return KI(t)?(t.nodeName||"").toLowerCase():"#document"}function In(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Mr(t){var e;return(e=(KI(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function KI(t){return If()?t instanceof Node||t instanceof In(t).Node:!1}function ur(t){return If()?t instanceof Element||t instanceof In(t).Element:!1}function jr(t){return If()?t instanceof HTMLElement||t instanceof In(t).HTMLElement:!1}function S_(t){return!If()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof In(t).ShadowRoot}const hL=new Set(["inline","contents"]);function mu(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=dr(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!hL.has(s)}const fL=new Set(["table","td","th"]);function pL(t){return fL.has(ol(t))}const mL=[":popover-open",":modal"];function bf(t){return mL.some(e=>{try{return t.matches(e)}catch{return!1}})}const gL=["transform","translate","scale","rotate","perspective"],yL=["transform","translate","scale","rotate","perspective","filter"],vL=["paint","layout","strict","content"];function Ov(t){const e=Lv(),n=ur(t)?dr(t):t;return gL.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||yL.some(r=>(n.willChange||"").includes(r))||vL.some(r=>(n.contain||"").includes(r))}function wL(t){let e=pi(t);for(;jr(e)&&!Ba(e);){if(Ov(e))return e;if(bf(e))return null;e=pi(e)}return null}function Lv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const xL=new Set(["html","body","#document"]);function Ba(t){return xL.has(ol(t))}function dr(t){return In(t).getComputedStyle(t)}function Cf(t){return ur(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function pi(t){if(ol(t)==="html")return t;const e=t.assignedSlot||t.parentNode||S_(t)&&t.host||Mr(t);return S_(e)?e.host:e}function GI(t){const e=pi(t);return Ba(e)?t.ownerDocument?t.ownerDocument.body:t.body:jr(e)&&mu(e)?e:GI(e)}function Uc(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=GI(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=In(s);if(i){const a=$g(o);return e.concat(o,o.visualViewport||[],mu(s)?s:[],a&&n?Uc(a):[])}return e.concat(s,Uc(s,[],n))}function $g(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function QI(t){const e=dr(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=jr(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=bh(n)!==i||bh(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function Vv(t){return ur(t)?t:t.contextElement}function xa(t){const e=Vv(t);if(!jr(e))return Nr(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=QI(e);let o=(i?bh(n.width):n.width)/r,a=(i?bh(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const _L=Nr(0);function YI(t){const e=In(t);return!Lv()||!e.visualViewport?_L:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function EL(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==In(t)?!1:e}function uo(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=Vv(t);let o=Nr(1);e&&(r?ur(r)&&(o=xa(r)):o=xa(t));const a=EL(i,n,r)?YI(i):Nr(0);let c=(s.left+a.x)/o.x,d=(s.top+a.y)/o.y,h=s.width/o.x,f=s.height/o.y;if(i){const m=In(i),p=r&&ur(r)?In(r):r;let I=m,v=$g(I);for(;v&&r&&p!==I;){const x=xa(v),E=v.getBoundingClientRect(),w=dr(v),T=E.left+(v.clientLeft+parseFloat(w.paddingLeft))*x.x,A=E.top+(v.clientTop+parseFloat(w.paddingTop))*x.y;c*=x.x,d*=x.y,h*=x.x,f*=x.y,c+=T,d+=A,I=In(v),v=$g(I)}}return Nh({width:h,height:f,x:c,y:d})}function Fv(t,e){const n=Cf(t).scrollLeft;return e?e.left+n:uo(Mr(t)).left+n}function XI(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:Fv(t,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function TL(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=Mr(r),a=e?bf(e.floating):!1;if(r===o||a&&i)return n;let c={scrollLeft:0,scrollTop:0},d=Nr(1);const h=Nr(0),f=jr(r);if((f||!f&&!i)&&((ol(r)!=="body"||mu(o))&&(c=Cf(r)),jr(r))){const p=uo(r);d=xa(r),h.x=p.x+r.clientLeft,h.y=p.y+r.clientTop}const m=o&&!f&&!i?XI(o,c,!0):Nr(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-c.scrollLeft*d.x+h.x+m.x,y:n.y*d.y-c.scrollTop*d.y+h.y+m.y}}function SL(t){return Array.from(t.getClientRects())}function IL(t){const e=Mr(t),n=Cf(t),r=t.ownerDocument.body,s=xn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=xn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Fv(t);const a=-n.scrollTop;return dr(r).direction==="rtl"&&(o+=xn(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function bL(t,e){const n=In(t),r=Mr(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,c=0;if(s){i=s.width,o=s.height;const d=Lv();(!d||d&&e==="fixed")&&(a=s.offsetLeft,c=s.offsetTop)}return{width:i,height:o,x:a,y:c}}const CL=new Set(["absolute","fixed"]);function NL(t,e){const n=uo(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=jr(t)?xa(t):Nr(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,c=s*i.x,d=r*i.y;return{width:o,height:a,x:c,y:d}}function I_(t,e,n){let r;if(e==="viewport")r=bL(t,n);else if(e==="document")r=IL(Mr(t));else if(ur(e))r=NL(e,n);else{const s=YI(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Nh(r)}function JI(t,e){const n=pi(t);return n===e||!ur(n)||Ba(n)?!1:dr(n).position==="fixed"||JI(n,e)}function RL(t,e){const n=e.get(t);if(n)return n;let r=Uc(t,[],!1).filter(a=>ur(a)&&ol(a)!=="body"),s=null;const i=dr(t).position==="fixed";let o=i?pi(t):t;for(;ur(o)&&!Ba(o);){const a=dr(o),c=Ov(o);!c&&a.position==="fixed"&&(s=null),(i?!c&&!s:!c&&a.position==="static"&&!!s&&CL.has(s.position)||mu(o)&&!c&&JI(t,o))?r=r.filter(h=>h!==o):s=a,o=pi(o)}return e.set(t,r),r}function AL(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?bf(e)?[]:RL(e,this._c):[].concat(n),r],a=o[0],c=o.reduce((d,h)=>{const f=I_(e,h,s);return d.top=xn(f.top,d.top),d.right=fi(f.right,d.right),d.bottom=fi(f.bottom,d.bottom),d.left=xn(f.left,d.left),d},I_(e,a,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function PL(t){const{width:e,height:n}=QI(t);return{width:e,height:n}}function kL(t,e,n){const r=jr(e),s=Mr(e),i=n==="fixed",o=uo(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const c=Nr(0);function d(){c.x=Fv(s)}if(r||!r&&!i)if((ol(e)!=="body"||mu(s))&&(a=Cf(e)),r){const p=uo(e,!0,i,e);c.x=p.x+e.clientLeft,c.y=p.y+e.clientTop}else s&&d();i&&!r&&s&&d();const h=s&&!r&&!i?XI(s,a):Nr(0),f=o.left+a.scrollLeft-c.x-h.x,m=o.top+a.scrollTop-c.y-h.y;return{x:f,y:m,width:o.width,height:o.height}}function pm(t){return dr(t).position==="static"}function b_(t,e){if(!jr(t)||dr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Mr(t)===n&&(n=n.ownerDocument.body),n}function ZI(t,e){const n=In(t);if(bf(t))return n;if(!jr(t)){let s=pi(t);for(;s&&!Ba(s);){if(ur(s)&&!pm(s))return s;s=pi(s)}return n}let r=b_(t,e);for(;r&&pL(r)&&pm(r);)r=b_(r,e);return r&&Ba(r)&&pm(r)&&!Ov(r)?n:r||wL(t)||n}const jL=async function(t){const e=this.getOffsetParent||ZI,n=this.getDimensions,r=await n(t.floating);return{reference:kL(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function DL(t){return dr(t).direction==="rtl"}const ML={convertOffsetParentRelativeRectToViewportRelativeRect:TL,getDocumentElement:Mr,getClippingRect:AL,getOffsetParent:ZI,getElementRects:jL,getClientRects:SL,getDimensions:PL,getScale:xa,isElement:ur,isRTL:DL};function eb(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function OL(t,e){let n=null,r;const s=Mr(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),i();const d=t.getBoundingClientRect(),{left:h,top:f,width:m,height:p}=d;if(a||e(),!m||!p)return;const I=gd(f),v=gd(s.clientWidth-(h+m)),x=gd(s.clientHeight-(f+p)),E=gd(h),T={rootMargin:-I+"px "+-v+"px "+-x+"px "+-E+"px",threshold:xn(0,fi(1,c))||1};let A=!0;function D(M){const b=M[0].intersectionRatio;if(b!==c){if(!A)return o();b?o(!1,b):r=setTimeout(()=>{o(!1,1e-7)},1e3)}b===1&&!eb(d,t.getBoundingClientRect())&&o(),A=!1}try{n=new IntersectionObserver(D,{...T,root:s.ownerDocument})}catch{n=new IntersectionObserver(D,T)}n.observe(t)}return o(!0),i}function LL(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,d=Vv(t),h=s||i?[...d?Uc(d):[],...Uc(e)]:[];h.forEach(E=>{s&&E.addEventListener("scroll",n,{passive:!0}),i&&E.addEventListener("resize",n)});const f=d&&a?OL(d,n):null;let m=-1,p=null;o&&(p=new ResizeObserver(E=>{let[w]=E;w&&w.target===d&&p&&(p.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var T;(T=p)==null||T.observe(e)})),n()}),d&&!c&&p.observe(d),p.observe(e));let I,v=c?uo(t):null;c&&x();function x(){const E=uo(t);v&&!eb(v,E)&&n(),v=E,I=requestAnimationFrame(x)}return n(),()=>{var E;h.forEach(w=>{s&&w.removeEventListener("scroll",n),i&&w.removeEventListener("resize",n)}),f==null||f(),(E=p)==null||E.disconnect(),p=null,c&&cancelAnimationFrame(I)}}const VL=lL,FL=cL,UL=iL,$L=dL,BL=oL,C_=sL,zL=uL,HL=(t,e,n)=>{const r=new Map,s={platform:ML,...n},i={...s.platform,_c:r};return rL(t,e,{...s,platform:i})};var WL=typeof document<"u",qL=function(){},zd=WL?y.useLayoutEffect:qL;function Rh(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Rh(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!Rh(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function tb(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function N_(t,e){const n=tb(t);return Math.round(e*n)/n}function mm(t){const e=y.useRef(t);return zd(()=>{e.current=t}),e}function KL(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:c,open:d}=t,[h,f]=y.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[m,p]=y.useState(r);Rh(m,r)||p(r);const[I,v]=y.useState(null),[x,E]=y.useState(null),w=y.useCallback(V=>{V!==M.current&&(M.current=V,v(V))},[]),T=y.useCallback(V=>{V!==b.current&&(b.current=V,E(V))},[]),A=i||I,D=o||x,M=y.useRef(null),b=y.useRef(null),S=y.useRef(h),C=c!=null,R=mm(c),k=mm(s),j=mm(d),P=y.useCallback(()=>{if(!M.current||!b.current)return;const V={placement:e,strategy:n,middleware:m};k.current&&(V.platform=k.current),HL(M.current,b.current,V).then(O=>{const H={...O,isPositioned:j.current!==!1};z.current&&!Rh(S.current,H)&&(S.current=H,bo.flushSync(()=>{f(H)}))})},[m,e,n,k,j]);zd(()=>{d===!1&&S.current.isPositioned&&(S.current.isPositioned=!1,f(V=>({...V,isPositioned:!1})))},[d]);const z=y.useRef(!1);zd(()=>(z.current=!0,()=>{z.current=!1}),[]),zd(()=>{if(A&&(M.current=A),D&&(b.current=D),A&&D){if(R.current)return R.current(A,D,P);P()}},[A,D,P,R,C]);const se=y.useMemo(()=>({reference:M,floating:b,setReference:w,setFloating:T}),[w,T]),X=y.useMemo(()=>({reference:A,floating:D}),[A,D]),re=y.useMemo(()=>{const V={position:n,left:0,top:0};if(!X.floating)return V;const O=N_(X.floating,h.x),H=N_(X.floating,h.y);return a?{...V,transform:"translate("+O+"px, "+H+"px)",...tb(X.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:O,top:H}},[n,a,X.floating,h.x,h.y]);return y.useMemo(()=>({...h,update:P,refs:se,elements:X,floatingStyles:re}),[h,P,se,X,re])}const GL=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?C_({element:r.current,padding:s}).fn(n):{}:r?C_({element:r,padding:s}).fn(n):{}}}},QL=(t,e)=>({...VL(t),options:[t,e]}),YL=(t,e)=>({...FL(t),options:[t,e]}),XL=(t,e)=>({...zL(t),options:[t,e]}),JL=(t,e)=>({...UL(t),options:[t,e]}),ZL=(t,e)=>({...$L(t),options:[t,e]}),e4=(t,e)=>({...BL(t),options:[t,e]}),t4=(t,e)=>({...GL(t),options:[t,e]});var n4="Arrow",nb=y.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return l.jsx(ae.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:l.jsx("polygon",{points:"0,0 30,0 15,10"})})});nb.displayName=n4;var r4=nb;function rb(t){const[e,n]=y.useState(void 0);return xt(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const c=i.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,a=d.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Uv="Popper",[sb,al]=Bn(Uv),[s4,ib]=sb(Uv),ob=t=>{const{__scopePopper:e,children:n}=t,[r,s]=y.useState(null);return l.jsx(s4,{scope:e,anchor:r,onAnchorChange:s,children:n})};ob.displayName=Uv;var ab="PopperAnchor",lb=y.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=ib(ab,n),o=y.useRef(null),a=je(e,o);return y.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:l.jsx(ae.div,{...s,ref:a})});lb.displayName=ab;var $v="PopperContent",[i4,o4]=sb($v),cb=y.forwardRef((t,e)=>{var q,Ae,Pe,ve,we,Te;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:h=0,sticky:f="partial",hideWhenDetached:m=!1,updatePositionStrategy:p="optimized",onPlaced:I,...v}=t,x=ib($v,n),[E,w]=y.useState(null),T=je(e,mt=>w(mt)),[A,D]=y.useState(null),M=rb(A),b=(M==null?void 0:M.width)??0,S=(M==null?void 0:M.height)??0,C=r+(i!=="center"?"-"+i:""),R=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},k=Array.isArray(d)?d:[d],j=k.length>0,P={padding:R,boundary:k.filter(l4),altBoundary:j},{refs:z,floatingStyles:se,placement:X,isPositioned:re,middlewareData:V}=KL({strategy:"fixed",placement:C,whileElementsMounted:(...mt)=>LL(...mt,{animationFrame:p==="always"}),elements:{reference:x.anchor},middleware:[QL({mainAxis:s+S,alignmentAxis:o}),c&&YL({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?XL():void 0,...P}),c&&JL({...P}),ZL({...P,apply:({elements:mt,rects:Vt,availableWidth:zn,availableHeight:Hn})=>{const{width:Vr,height:ki}=Vt.reference,Fr=mt.floating.style;Fr.setProperty("--radix-popper-available-width",`${zn}px`),Fr.setProperty("--radix-popper-available-height",`${Hn}px`),Fr.setProperty("--radix-popper-anchor-width",`${Vr}px`),Fr.setProperty("--radix-popper-anchor-height",`${ki}px`)}}),A&&t4({element:A,padding:a}),c4({arrowWidth:b,arrowHeight:S}),m&&e4({strategy:"referenceHidden",...P})]}),[O,H]=hb(X),ne=nn(I);xt(()=>{re&&(ne==null||ne())},[re,ne]);const Q=(q=V.arrow)==null?void 0:q.x,te=(Ae=V.arrow)==null?void 0:Ae.y,le=((Pe=V.arrow)==null?void 0:Pe.centerOffset)!==0,[Re,Fe]=y.useState();return xt(()=>{E&&Fe(window.getComputedStyle(E).zIndex)},[E]),l.jsx("div",{ref:z.setFloating,"data-radix-popper-content-wrapper":"",style:{...se,transform:re?se.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Re,"--radix-popper-transform-origin":[(ve=V.transformOrigin)==null?void 0:ve.x,(we=V.transformOrigin)==null?void 0:we.y].join(" "),...((Te=V.hide)==null?void 0:Te.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:l.jsx(i4,{scope:n,placedSide:O,onArrowChange:D,arrowX:Q,arrowY:te,shouldHideArrow:le,children:l.jsx(ae.div,{"data-side":O,"data-align":H,...v,ref:T,style:{...v.style,animation:re?void 0:"none"}})})})});cb.displayName=$v;var ub="PopperArrow",a4={top:"bottom",right:"left",bottom:"top",left:"right"},db=y.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=o4(ub,r),o=a4[i.placedSide];return l.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:l.jsx(r4,{...s,ref:n,style:{...s.style,display:"block"}})})});db.displayName=ub;function l4(t){return t!==null}var c4=t=>({name:"transformOrigin",options:t,fn(e){var x,E,w;const{placement:n,rects:r,middlewareData:s}=e,o=((x=s.arrow)==null?void 0:x.centerOffset)!==0,a=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[d,h]=hb(n),f={start:"0%",center:"50%",end:"100%"}[h],m=(((E=s.arrow)==null?void 0:E.x)??0)+a/2,p=(((w=s.arrow)==null?void 0:w.y)??0)+c/2;let I="",v="";return d==="bottom"?(I=o?f:`${m}px`,v=`${-c}px`):d==="top"?(I=o?f:`${m}px`,v=`${r.floating.height+c}px`):d==="right"?(I=`${-c}px`,v=o?f:`${p}px`):d==="left"&&(I=`${r.floating.width+c}px`,v=o?f:`${p}px`),{data:{x:I,y:v}}}});function hb(t){const[e,n="center"]=t.split("-");return[e,n]}var fb=ob,Bv=lb,zv=cb,Hv=db,[Nf,wH]=Bn("Tooltip",[al]),Wv=al(),pb="TooltipProvider",u4=700,R_="tooltip.open",[d4,mb]=Nf(pb),gb=t=>{const{__scopeTooltip:e,delayDuration:n=u4,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,o=y.useRef(!0),a=y.useRef(!1),c=y.useRef(0);return y.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),l.jsx(d4,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:y.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:y.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:y.useCallback(d=>{a.current=d},[]),disableHoverableContent:s,children:i})};gb.displayName=pb;var yb="Tooltip",[xH,Rf]=Nf(yb),Bg="TooltipTrigger",h4=y.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Rf(Bg,n),i=mb(Bg,n),o=Wv(n),a=y.useRef(null),c=je(e,a,s.onTriggerChange),d=y.useRef(!1),h=y.useRef(!1),f=y.useCallback(()=>d.current=!1,[]);return y.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),l.jsx(Bv,{asChild:!0,...o,children:l.jsx(ae.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:c,onPointerMove:Y(t.onPointerMove,m=>{m.pointerType!=="touch"&&!h.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),h.current=!0)}),onPointerLeave:Y(t.onPointerLeave,()=>{s.onTriggerLeave(),h.current=!1}),onPointerDown:Y(t.onPointerDown,()=>{s.open&&s.onClose(),d.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Y(t.onFocus,()=>{d.current||s.onOpen()}),onBlur:Y(t.onBlur,s.onClose),onClick:Y(t.onClick,s.onClose)})})});h4.displayName=Bg;var f4="TooltipPortal",[_H,p4]=Nf(f4,{forceMount:void 0}),za="TooltipContent",vb=y.forwardRef((t,e)=>{const n=p4(za,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=Rf(za,t.__scopeTooltip);return l.jsx(pr,{present:r||o.open,children:o.disableHoverableContent?l.jsx(wb,{side:s,...i,ref:e}):l.jsx(m4,{side:s,...i,ref:e})})}),m4=y.forwardRef((t,e)=>{const n=Rf(za,t.__scopeTooltip),r=mb(za,t.__scopeTooltip),s=y.useRef(null),i=je(e,s),[o,a]=y.useState(null),{trigger:c,onClose:d}=n,h=s.current,{onPointerInTransitChange:f}=r,m=y.useCallback(()=>{a(null),f(!1)},[f]),p=y.useCallback((I,v)=>{const x=I.currentTarget,E={x:I.clientX,y:I.clientY},w=x4(E,x.getBoundingClientRect()),T=_4(E,w),A=E4(v.getBoundingClientRect()),D=S4([...T,...A]);a(D),f(!0)},[f]);return y.useEffect(()=>()=>m(),[m]),y.useEffect(()=>{if(c&&h){const I=x=>p(x,h),v=x=>p(x,c);return c.addEventListener("pointerleave",I),h.addEventListener("pointerleave",v),()=>{c.removeEventListener("pointerleave",I),h.removeEventListener("pointerleave",v)}}},[c,h,p,m]),y.useEffect(()=>{if(o){const I=v=>{const x=v.target,E={x:v.clientX,y:v.clientY},w=(c==null?void 0:c.contains(x))||(h==null?void 0:h.contains(x)),T=!T4(E,o);w?m():T&&(m(),d())};return document.addEventListener("pointermove",I),()=>document.removeEventListener("pointermove",I)}},[c,h,o,d,m]),l.jsx(wb,{...t,ref:i})}),[g4,y4]=Nf(yb,{isInside:!1}),v4=RD("TooltipContent"),wb=y.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,c=Rf(za,n),d=Wv(n),{onClose:h}=c;return y.useEffect(()=>(document.addEventListener(R_,h),()=>document.removeEventListener(R_,h)),[h]),y.useEffect(()=>{if(c.trigger){const f=m=>{const p=m.target;p!=null&&p.contains(c.trigger)&&h()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,h]),l.jsx(rl,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:h,children:l.jsxs(zv,{"data-state":c.stateAttribute,...d,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[l.jsx(v4,{children:r}),l.jsx(g4,{scope:n,isInside:!0,children:l.jsx(XD,{id:c.contentId,role:"tooltip",children:s||r})})]})})});vb.displayName=za;var xb="TooltipArrow",w4=y.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Wv(n);return y4(xb,n).isInside?null:l.jsx(Hv,{...s,...r,ref:e})});w4.displayName=xb;function x4(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function _4(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function E4(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function T4(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i],c=e[o],d=a.x,h=a.y,f=c.x,m=c.y;h>r!=m>r&&n<(f-d)*(r-h)/(m-h)+d&&(s=!s)}return s}function S4(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),I4(e)}function I4(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var b4=gb,_b=vb;const C4=b4,N4=y.forwardRef(({className:t,sideOffset:e=4,...n},r)=>l.jsx(_b,{ref:r,sideOffset:e,className:oe("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));N4.displayName=_b.displayName;var Af=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Pf=typeof window>"u"||"Deno"in globalThis;function Xn(){}function R4(t,e){return typeof t=="function"?t(e):t}function A4(t){return typeof t=="number"&&t>=0&&t!==1/0}function P4(t,e){return Math.max(t+(e||0)-Date.now(),0)}function zg(t,e){return typeof t=="function"?t(e):t}function k4(t,e){return typeof t=="function"?t(e):t}function A_(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==qv(o,e.options))return!1}else if(!Bc(e.queryKey,o))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function P_(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if($c(e.options.mutationKey)!==$c(i))return!1}else if(!Bc(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function qv(t,e){return((e==null?void 0:e.queryKeyHashFn)||$c)(t)}function $c(t){return JSON.stringify(t,(e,n)=>Hg(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Bc(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Bc(t[n],e[n])):!1}function Eb(t,e){if(t===e)return t;const n=k_(t)&&k_(e);if(n||Hg(t)&&Hg(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{},c=new Set(r);let d=0;for(let h=0;h<o;h++){const f=n?h:i[h];(!n&&c.has(f)||n)&&t[f]===void 0&&e[f]===void 0?(a[f]=void 0,d++):(a[f]=Eb(t[f],e[f]),a[f]===t[f]&&t[f]!==void 0&&d++)}return s===o&&d===s?t:a}return e}function k_(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Hg(t){if(!j_(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!j_(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function j_(t){return Object.prototype.toString.call(t)==="[object Object]"}function j4(t){return new Promise(e=>{setTimeout(e,t)})}function D4(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?Eb(t,e):e}function M4(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function O4(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var Kv=Symbol();function Tb(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Kv?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Ki,Us,ba,O1,L4=(O1=class extends Af{constructor(){super();Le(this,Ki);Le(this,Us);Le(this,ba);me(this,ba,e=>{if(!Pf&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){U(this,Us)||this.setEventListener(U(this,ba))}onUnsubscribe(){var e;this.hasListeners()||((e=U(this,Us))==null||e.call(this),me(this,Us,void 0))}setEventListener(e){var n;me(this,ba,e),(n=U(this,Us))==null||n.call(this),me(this,Us,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){U(this,Ki)!==e&&(me(this,Ki,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof U(this,Ki)=="boolean"?U(this,Ki):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Ki=new WeakMap,Us=new WeakMap,ba=new WeakMap,O1),Sb=new L4,Ca,$s,Na,L1,V4=(L1=class extends Af{constructor(){super();Le(this,Ca,!0);Le(this,$s);Le(this,Na);me(this,Na,e=>{if(!Pf&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){U(this,$s)||this.setEventListener(U(this,Na))}onUnsubscribe(){var e;this.hasListeners()||((e=U(this,$s))==null||e.call(this),me(this,$s,void 0))}setEventListener(e){var n;me(this,Na,e),(n=U(this,$s))==null||n.call(this),me(this,$s,e(this.setOnline.bind(this)))}setOnline(e){U(this,Ca)!==e&&(me(this,Ca,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return U(this,Ca)}},Ca=new WeakMap,$s=new WeakMap,Na=new WeakMap,L1),Ah=new V4;function F4(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function U4(t){return Math.min(1e3*2**t,3e4)}function Ib(t){return(t??"online")==="online"?Ah.isOnline():!0}var bb=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function gm(t){return t instanceof bb}function Cb(t){let e=!1,n=0,r=!1,s;const i=F4(),o=v=>{var x;r||(m(new bb(v)),(x=t.abort)==null||x.call(t))},a=()=>{e=!0},c=()=>{e=!1},d=()=>Sb.isFocused()&&(t.networkMode==="always"||Ah.isOnline())&&t.canRun(),h=()=>Ib(t.networkMode)&&t.canRun(),f=v=>{var x;r||(r=!0,(x=t.onSuccess)==null||x.call(t,v),s==null||s(),i.resolve(v))},m=v=>{var x;r||(r=!0,(x=t.onError)==null||x.call(t,v),s==null||s(),i.reject(v))},p=()=>new Promise(v=>{var x;s=E=>{(r||d())&&v(E)},(x=t.onPause)==null||x.call(t)}).then(()=>{var v;s=void 0,r||(v=t.onContinue)==null||v.call(t)}),I=()=>{if(r)return;let v;const x=n===0?t.initialPromise:void 0;try{v=x??t.fn()}catch(E){v=Promise.reject(E)}Promise.resolve(v).then(f).catch(E=>{var M;if(r)return;const w=t.retry??(Pf?0:3),T=t.retryDelay??U4,A=typeof T=="function"?T(n,E):T,D=w===!0||typeof w=="number"&&n<w||typeof w=="function"&&w(n,E);if(e||!D){m(E);return}n++,(M=t.onFail)==null||M.call(t,n,E),j4(A).then(()=>d()?void 0:p()).then(()=>{e?m(E):I()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:c,canStart:h,start:()=>(h()?I():p().then(I),i)}}var $4=t=>setTimeout(t,0);function B4(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=$4;const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(c=>{n(c)})})})};return{batch:a=>{let c;e++;try{c=a()}finally{e--,e||o()}return c},batchCalls:a=>(...c)=>{i(()=>{a(...c)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var Zt=B4(),Gi,V1,Nb=(V1=class{constructor(){Le(this,Gi)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),A4(this.gcTime)&&me(this,Gi,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Pf?1/0:5*60*1e3))}clearGcTimeout(){U(this,Gi)&&(clearTimeout(U(this,Gi)),me(this,Gi,void 0))}},Gi=new WeakMap,V1),Ra,Qi,Pn,Yi,Wt,ru,Xi,Jn,qr,F1,z4=(F1=class extends Nb{constructor(n){super();Le(this,Jn);Le(this,Ra);Le(this,Qi);Le(this,Pn);Le(this,Yi);Le(this,Wt);Le(this,ru);Le(this,Xi);me(this,Xi,!1),me(this,ru,n.defaultOptions),this.setOptions(n.options),this.observers=[],me(this,Yi,n.client),me(this,Pn,U(this,Yi).getQueryCache()),this.queryKey=n.queryKey,this.queryHash=n.queryHash,me(this,Ra,W4(this.options)),this.state=n.state??U(this,Ra),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=U(this,Wt))==null?void 0:n.promise}setOptions(n){this.options={...U(this,ru),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&U(this,Pn).remove(this)}setData(n,r){const s=D4(this.state.data,n,this.options);return $t(this,Jn,qr).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){$t(this,Jn,qr).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=U(this,Wt))==null?void 0:s.promise;return(i=U(this,Wt))==null||i.cancel(n),r?r.then(Xn).catch(Xn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(U(this,Ra))}isActive(){return this.observers.some(n=>k4(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Kv||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(n=>zg(n.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(n=0){return this.state.data===void 0?!0:n==="static"?!1:this.state.isInvalidated?!0:!P4(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=U(this,Wt))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=U(this,Wt))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),U(this,Pn).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(U(this,Wt)&&(U(this,Xi)?U(this,Wt).cancel({revert:!0}):U(this,Wt).cancelRetry()),this.scheduleGc()),U(this,Pn).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||$t(this,Jn,qr).call(this,{type:"invalidate"})}fetch(n,r){var h,f,m;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(U(this,Wt))return U(this,Wt).continueRetry(),U(this,Wt).promise}if(n&&this.setOptions(n),!this.options.queryFn){const p=this.observers.find(I=>I.options.queryFn);p&&this.setOptions(p.options)}const s=new AbortController,i=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(me(this,Xi,!0),s.signal)})},o=()=>{const p=Tb(this.options,r),v=(()=>{const x={client:U(this,Yi),queryKey:this.queryKey,meta:this.meta};return i(x),x})();return me(this,Xi,!1),this.options.persister?this.options.persister(p,v,this):p(v)},c=(()=>{const p={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:U(this,Yi),state:this.state,fetchFn:o};return i(p),p})();(h=this.options.behavior)==null||h.onFetch(c,this),me(this,Qi,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=c.fetchOptions)==null?void 0:f.meta))&&$t(this,Jn,qr).call(this,{type:"fetch",meta:(m=c.fetchOptions)==null?void 0:m.meta});const d=p=>{var I,v,x,E;gm(p)&&p.silent||$t(this,Jn,qr).call(this,{type:"error",error:p}),gm(p)||((v=(I=U(this,Pn).config).onError)==null||v.call(I,p,this),(E=(x=U(this,Pn).config).onSettled)==null||E.call(x,this.state.data,p,this)),this.scheduleGc()};return me(this,Wt,Cb({initialPromise:r==null?void 0:r.initialPromise,fn:c.fetchFn,abort:s.abort.bind(s),onSuccess:p=>{var I,v,x,E;if(p===void 0){d(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(p)}catch(w){d(w);return}(v=(I=U(this,Pn).config).onSuccess)==null||v.call(I,p,this),(E=(x=U(this,Pn).config).onSettled)==null||E.call(x,p,this.state.error,this),this.scheduleGc()},onError:d,onFail:(p,I)=>{$t(this,Jn,qr).call(this,{type:"failed",failureCount:p,error:I})},onPause:()=>{$t(this,Jn,qr).call(this,{type:"pause"})},onContinue:()=>{$t(this,Jn,qr).call(this,{type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0})),U(this,Wt).start()}},Ra=new WeakMap,Qi=new WeakMap,Pn=new WeakMap,Yi=new WeakMap,Wt=new WeakMap,ru=new WeakMap,Xi=new WeakMap,Jn=new WeakSet,qr=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...H4(s.data,this.options),fetchMeta:n.meta??null};case"success":return me(this,Qi,void 0),{...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=n.error;return gm(i)&&i.revert&&U(this,Qi)?{...U(this,Qi),fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),Zt.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),U(this,Pn).notify({query:this,type:"updated",action:n})})},F1);function H4(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Ib(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function W4(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var xr,U1,q4=(U1=class extends Af{constructor(e={}){super();Le(this,xr);this.config=e,me(this,xr,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??qv(s,n);let o=this.get(i);return o||(o=new z4({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){U(this,xr).has(e.queryHash)||(U(this,xr).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=U(this,xr).get(e.queryHash);n&&(e.destroy(),n===e&&U(this,xr).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Zt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return U(this,xr).get(e)}getAll(){return[...U(this,xr).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>A_(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>A_(e,r)):n}notify(e){Zt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Zt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Zt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},xr=new WeakMap,U1),_r,Xt,Ji,Er,As,$1,K4=($1=class extends Nb{constructor(n){super();Le(this,Er);Le(this,_r);Le(this,Xt);Le(this,Ji);this.mutationId=n.mutationId,me(this,Xt,n.mutationCache),me(this,_r,[]),this.state=n.state||G4(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){U(this,_r).includes(n)||(U(this,_r).push(n),this.clearGcTimeout(),U(this,Xt).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){me(this,_r,U(this,_r).filter(r=>r!==n)),this.scheduleGc(),U(this,Xt).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){U(this,_r).length||(this.state.status==="pending"?this.scheduleGc():U(this,Xt).remove(this))}continue(){var n;return((n=U(this,Ji))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var o,a,c,d,h,f,m,p,I,v,x,E,w,T,A,D,M,b,S,C;const r=()=>{$t(this,Er,As).call(this,{type:"continue"})};me(this,Ji,Cb({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(R,k)=>{$t(this,Er,As).call(this,{type:"failed",failureCount:R,error:k})},onPause:()=>{$t(this,Er,As).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>U(this,Xt).canRun(this)}));const s=this.state.status==="pending",i=!U(this,Ji).canStart();try{if(s)r();else{$t(this,Er,As).call(this,{type:"pending",variables:n,isPaused:i}),await((a=(o=U(this,Xt).config).onMutate)==null?void 0:a.call(o,n,this));const k=await((d=(c=this.options).onMutate)==null?void 0:d.call(c,n));k!==this.state.context&&$t(this,Er,As).call(this,{type:"pending",context:k,variables:n,isPaused:i})}const R=await U(this,Ji).start();return await((f=(h=U(this,Xt).config).onSuccess)==null?void 0:f.call(h,R,n,this.state.context,this)),await((p=(m=this.options).onSuccess)==null?void 0:p.call(m,R,n,this.state.context)),await((v=(I=U(this,Xt).config).onSettled)==null?void 0:v.call(I,R,null,this.state.variables,this.state.context,this)),await((E=(x=this.options).onSettled)==null?void 0:E.call(x,R,null,n,this.state.context)),$t(this,Er,As).call(this,{type:"success",data:R}),R}catch(R){try{throw await((T=(w=U(this,Xt).config).onError)==null?void 0:T.call(w,R,n,this.state.context,this)),await((D=(A=this.options).onError)==null?void 0:D.call(A,R,n,this.state.context)),await((b=(M=U(this,Xt).config).onSettled)==null?void 0:b.call(M,void 0,R,this.state.variables,this.state.context,this)),await((C=(S=this.options).onSettled)==null?void 0:C.call(S,void 0,R,n,this.state.context)),R}finally{$t(this,Er,As).call(this,{type:"error",error:R})}}finally{U(this,Xt).runNext(this)}}},_r=new WeakMap,Xt=new WeakMap,Ji=new WeakMap,Er=new WeakSet,As=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Zt.batch(()=>{U(this,_r).forEach(s=>{s.onMutationUpdate(n)}),U(this,Xt).notify({mutation:this,type:"updated",action:n})})},$1);function G4(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Qr,Zn,su,B1,Q4=(B1=class extends Af{constructor(e={}){super();Le(this,Qr);Le(this,Zn);Le(this,su);this.config=e,me(this,Qr,new Set),me(this,Zn,new Map),me(this,su,0)}build(e,n,r){const s=new K4({mutationCache:this,mutationId:++Qu(this,su)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){U(this,Qr).add(e);const n=yd(e);if(typeof n=="string"){const r=U(this,Zn).get(n);r?r.push(e):U(this,Zn).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(U(this,Qr).delete(e)){const n=yd(e);if(typeof n=="string"){const r=U(this,Zn).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&U(this,Zn).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=yd(e);if(typeof n=="string"){const r=U(this,Zn).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=yd(e);if(typeof n=="string"){const s=(r=U(this,Zn).get(n))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Zt.batch(()=>{U(this,Qr).forEach(e=>{this.notify({type:"removed",mutation:e})}),U(this,Qr).clear(),U(this,Zn).clear()})}getAll(){return Array.from(U(this,Qr))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>P_(n,r))}findAll(e={}){return this.getAll().filter(n=>P_(e,n))}notify(e){Zt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Zt.batch(()=>Promise.all(e.map(n=>n.continue().catch(Xn))))}},Qr=new WeakMap,Zn=new WeakMap,su=new WeakMap,B1);function yd(t){var e;return(e=t.options.scope)==null?void 0:e.id}function D_(t){return{onFetch:(e,n)=>{var h,f,m,p,I;const r=e.options,s=(m=(f=(h=e.fetchOptions)==null?void 0:h.meta)==null?void 0:f.fetchMore)==null?void 0:m.direction,i=((p=e.state.data)==null?void 0:p.pages)||[],o=((I=e.state.data)==null?void 0:I.pageParams)||[];let a={pages:[],pageParams:[]},c=0;const d=async()=>{let v=!1;const x=T=>{Object.defineProperty(T,"signal",{enumerable:!0,get:()=>(e.signal.aborted?v=!0:e.signal.addEventListener("abort",()=>{v=!0}),e.signal)})},E=Tb(e.options,e.fetchOptions),w=async(T,A,D)=>{if(v)return Promise.reject();if(A==null&&T.pages.length)return Promise.resolve(T);const b=(()=>{const k={client:e.client,queryKey:e.queryKey,pageParam:A,direction:D?"backward":"forward",meta:e.options.meta};return x(k),k})(),S=await E(b),{maxPages:C}=e.options,R=D?O4:M4;return{pages:R(T.pages,S,C),pageParams:R(T.pageParams,A,C)}};if(s&&i.length){const T=s==="backward",A=T?Y4:M_,D={pages:i,pageParams:o},M=A(r,D);a=await w(D,M,T)}else{const T=t??i.length;do{const A=c===0?o[0]??r.initialPageParam:M_(r,a);if(c>0&&A==null)break;a=await w(a,A),c++}while(c<T)}return a};e.options.persister?e.fetchFn=()=>{var v,x;return(x=(v=e.options).persister)==null?void 0:x.call(v,d,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=d}}}function M_(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function Y4(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var lt,Bs,zs,Aa,Pa,Hs,ka,ja,z1,X4=(z1=class{constructor(t={}){Le(this,lt);Le(this,Bs);Le(this,zs);Le(this,Aa);Le(this,Pa);Le(this,Hs);Le(this,ka);Le(this,ja);me(this,lt,t.queryCache||new q4),me(this,Bs,t.mutationCache||new Q4),me(this,zs,t.defaultOptions||{}),me(this,Aa,new Map),me(this,Pa,new Map),me(this,Hs,0)}mount(){Qu(this,Hs)._++,U(this,Hs)===1&&(me(this,ka,Sb.subscribe(async t=>{t&&(await this.resumePausedMutations(),U(this,lt).onFocus())})),me(this,ja,Ah.subscribe(async t=>{t&&(await this.resumePausedMutations(),U(this,lt).onOnline())})))}unmount(){var t,e;Qu(this,Hs)._--,U(this,Hs)===0&&((t=U(this,ka))==null||t.call(this),me(this,ka,void 0),(e=U(this,ja))==null||e.call(this),me(this,ja,void 0))}isFetching(t){return U(this,lt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return U(this,Bs).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=U(this,lt).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=U(this,lt).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(zg(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return U(this,lt).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=U(this,lt).get(r.queryHash),i=s==null?void 0:s.state.data,o=R4(e,i);if(o!==void 0)return U(this,lt).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Zt.batch(()=>U(this,lt).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=U(this,lt).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=U(this,lt);Zt.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=U(this,lt);return Zt.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Zt.batch(()=>U(this,lt).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(Xn).catch(Xn)}invalidateQueries(t,e={}){return Zt.batch(()=>(U(this,lt).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Zt.batch(()=>U(this,lt).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(Xn)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(Xn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=U(this,lt).build(this,e);return n.isStaleByTime(zg(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Xn).catch(Xn)}fetchInfiniteQuery(t){return t.behavior=D_(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Xn).catch(Xn)}ensureInfiniteQueryData(t){return t.behavior=D_(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Ah.isOnline()?U(this,Bs).resumePausedMutations():Promise.resolve()}getQueryCache(){return U(this,lt)}getMutationCache(){return U(this,Bs)}getDefaultOptions(){return U(this,zs)}setDefaultOptions(t){me(this,zs,t)}setQueryDefaults(t,e){U(this,Aa).set($c(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...U(this,Aa).values()],n={};return e.forEach(r=>{Bc(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){U(this,Pa).set($c(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...U(this,Pa).values()],n={};return e.forEach(r=>{Bc(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...U(this,zs).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=qv(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Kv&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...U(this,zs).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){U(this,lt).clear(),U(this,Bs).clear()}},lt=new WeakMap,Bs=new WeakMap,zs=new WeakMap,Aa=new WeakMap,Pa=new WeakMap,Hs=new WeakMap,ka=new WeakMap,ja=new WeakMap,z1),J4=y.createContext(void 0),Z4=({client:t,children:e})=>(y.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),l.jsx(J4.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zc(){return zc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zc.apply(this,arguments)}var Ks;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ks||(Ks={}));const O_="popstate";function eV(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return Wg("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Ph(s)}return nV(e,n,null,t)}function pt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Rb(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function tV(){return Math.random().toString(36).substr(2,8)}function L_(t,e){return{usr:t.state,key:t.key,idx:e}}function Wg(t,e,n,r){return n===void 0&&(n=null),zc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ll(e):e,{state:n,key:e&&e.key||r||tV()})}function Ph(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ll(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function nV(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=Ks.Pop,c=null,d=h();d==null&&(d=0,o.replaceState(zc({},o.state,{idx:d}),""));function h(){return(o.state||{idx:null}).idx}function f(){a=Ks.Pop;let x=h(),E=x==null?null:x-d;d=x,c&&c({action:a,location:v.location,delta:E})}function m(x,E){a=Ks.Push;let w=Wg(v.location,x,E);d=h()+1;let T=L_(w,d),A=v.createHref(w);try{o.pushState(T,"",A)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;s.location.assign(A)}i&&c&&c({action:a,location:v.location,delta:1})}function p(x,E){a=Ks.Replace;let w=Wg(v.location,x,E);d=h();let T=L_(w,d),A=v.createHref(w);o.replaceState(T,"",A),i&&c&&c({action:a,location:v.location,delta:0})}function I(x){let E=s.location.origin!=="null"?s.location.origin:s.location.href,w=typeof x=="string"?x:Ph(x);return w=w.replace(/ $/,"%20"),pt(E,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,E)}let v={get action(){return a},get location(){return t(s,o)},listen(x){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(O_,f),c=x,()=>{s.removeEventListener(O_,f),c=null}},createHref(x){return e(s,x)},createURL:I,encodeLocation(x){let E=I(x);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:m,replace:p,go(x){return o.go(x)}};return v}var V_;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(V_||(V_={}));function rV(t,e,n){return n===void 0&&(n="/"),sV(t,e,n,!1)}function sV(t,e,n,r){let s=typeof e=="string"?ll(e):e,i=Gv(s.pathname||"/",n);if(i==null)return null;let o=Ab(t);iV(o);let a=null;for(let c=0;a==null&&c<o.length;++c){let d=gV(i);a=pV(o[c],d,r)}return a}function Ab(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let c={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(pt(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let d=si([r,c.relativePath]),h=n.concat(c);i.children&&i.children.length>0&&(pt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),Ab(i.children,e,h,d)),!(i.path==null&&!i.index)&&e.push({path:d,score:hV(d,i.index),routesMeta:h})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let c of Pb(i.path))s(i,o,c)}),e}function Pb(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=Pb(r.join("/")),a=[];return a.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&a.push(...o),a.map(c=>t.startsWith("/")&&c===""?"/":c)}function iV(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:fV(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const oV=/^:[\w-]+$/,aV=3,lV=2,cV=1,uV=10,dV=-2,F_=t=>t==="*";function hV(t,e){let n=t.split("/"),r=n.length;return n.some(F_)&&(r+=dV),e&&(r+=lV),n.filter(s=>!F_(s)).reduce((s,i)=>s+(oV.test(i)?aV:i===""?cV:uV),r)}function fV(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function pV(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let c=r[a],d=a===r.length-1,h=i==="/"?e:e.slice(i.length)||"/",f=U_({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},h),m=c.route;if(!f&&d&&n&&!r[r.length-1].route.index&&(f=U_({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},h)),!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:si([i,f.pathname]),pathnameBase:xV(si([i,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(i=si([i,f.pathnameBase]))}return o}function U_(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=mV(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((d,h,f)=>{let{paramName:m,isOptional:p}=h;if(m==="*"){let v=a[f]||"";o=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const I=a[f];return p&&!I?d[m]=void 0:d[m]=(I||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:t}}function mV(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Rb(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,c)=>(r.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function gV(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Rb(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Gv(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function yV(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?ll(t):t;return{pathname:n?n.startsWith("/")?n:vV(n,e):e,search:_V(r),hash:EV(s)}}function vV(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function ym(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function wV(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Qv(t,e){let n=wV(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Yv(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=ll(t):(s=zc({},t),pt(!s.pathname||!s.pathname.includes("?"),ym("?","pathname","search",s)),pt(!s.pathname||!s.pathname.includes("#"),ym("#","pathname","hash",s)),pt(!s.search||!s.search.includes("#"),ym("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),f-=1;s.pathname=m.join("/")}a=f>=0?e[f]:"/"}let c=yV(s,a),d=o&&o!=="/"&&o.endsWith("/"),h=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||h)&&(c.pathname+="/"),c}const si=t=>t.join("/").replace(/\/\/+/g,"/"),xV=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),_V=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,EV=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function TV(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const kb=["post","put","patch","delete"];new Set(kb);const SV=["get",...kb];new Set(SV);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Hc(){return Hc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hc.apply(this,arguments)}const Xv=y.createContext(null),IV=y.createContext(null),bi=y.createContext(null),kf=y.createContext(null),Ci=y.createContext({outlet:null,matches:[],isDataRoute:!1}),jb=y.createContext(null);function bV(t,e){let{relative:n}=e===void 0?{}:e;cl()||pt(!1);let{basename:r,navigator:s}=y.useContext(bi),{hash:i,pathname:o,search:a}=Mb(t,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:si([r,o])),s.createHref({pathname:c,search:a,hash:i})}function cl(){return y.useContext(kf)!=null}function Co(){return cl()||pt(!1),y.useContext(kf).location}function Db(t){y.useContext(bi).static||y.useLayoutEffect(t)}function No(){let{isDataRoute:t}=y.useContext(Ci);return t?FV():CV()}function CV(){cl()||pt(!1);let t=y.useContext(Xv),{basename:e,future:n,navigator:r}=y.useContext(bi),{matches:s}=y.useContext(Ci),{pathname:i}=Co(),o=JSON.stringify(Qv(s,n.v7_relativeSplatPath)),a=y.useRef(!1);return Db(()=>{a.current=!0}),y.useCallback(function(d,h){if(h===void 0&&(h={}),!a.current)return;if(typeof d=="number"){r.go(d);return}let f=Yv(d,JSON.parse(o),i,h.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:si([e,f.pathname])),(h.replace?r.replace:r.push)(f,h.state,h)},[e,r,o,i,t])}function Mb(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=y.useContext(bi),{matches:s}=y.useContext(Ci),{pathname:i}=Co(),o=JSON.stringify(Qv(s,r.v7_relativeSplatPath));return y.useMemo(()=>Yv(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function NV(t,e){return RV(t,e)}function RV(t,e,n,r){cl()||pt(!1);let{navigator:s}=y.useContext(bi),{matches:i}=y.useContext(Ci),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d=Co(),h;if(e){var f;let x=typeof e=="string"?ll(e):e;c==="/"||(f=x.pathname)!=null&&f.startsWith(c)||pt(!1),h=x}else h=d;let m=h.pathname||"/",p=m;if(c!=="/"){let x=c.replace(/^\//,"").split("/");p="/"+m.replace(/^\//,"").split("/").slice(x.length).join("/")}let I=rV(t,{pathname:p}),v=DV(I&&I.map(x=>Object.assign({},x,{params:Object.assign({},a,x.params),pathname:si([c,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?c:si([c,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),i,n,r);return e&&v?y.createElement(kf.Provider,{value:{location:Hc({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Ks.Pop}},v):v}function AV(){let t=VV(),e=TV(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},e),n?y.createElement("pre",{style:s},n):null,null)}const PV=y.createElement(AV,null);class kV extends y.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?y.createElement(Ci.Provider,{value:this.props.routeContext},y.createElement(jb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function jV(t){let{routeContext:e,match:n,children:r}=t,s=y.useContext(Xv);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),y.createElement(Ci.Provider,{value:e},r)}function DV(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let h=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);h>=0||pt(!1),o=o.slice(0,Math.min(o.length,h+1))}let c=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<o.length;h++){let f=o[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(d=h),f.route.id){let{loaderData:m,errors:p}=n,I=f.route.loader&&m[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||I){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((h,f,m)=>{let p,I=!1,v=null,x=null;n&&(p=a&&f.route.id?a[f.route.id]:void 0,v=f.route.errorElement||PV,c&&(d<0&&m===0?(I=!0,x=null):d===m&&(I=!0,x=f.route.hydrateFallbackElement||null)));let E=e.concat(o.slice(0,m+1)),w=()=>{let T;return p?T=v:I?T=x:f.route.Component?T=y.createElement(f.route.Component,null):f.route.element?T=f.route.element:T=h,y.createElement(jV,{match:f,routeContext:{outlet:h,matches:E,isDataRoute:n!=null},children:T})};return n&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?y.createElement(kV,{location:n.location,revalidation:n.revalidation,component:v,error:p,children:w(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):w()},null)}var Ob=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Ob||{}),kh=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(kh||{});function MV(t){let e=y.useContext(Xv);return e||pt(!1),e}function OV(t){let e=y.useContext(IV);return e||pt(!1),e}function LV(t){let e=y.useContext(Ci);return e||pt(!1),e}function Lb(t){let e=LV(),n=e.matches[e.matches.length-1];return n.route.id||pt(!1),n.route.id}function VV(){var t;let e=y.useContext(jb),n=OV(kh.UseRouteError),r=Lb(kh.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function FV(){let{router:t}=MV(Ob.UseNavigateStable),e=Lb(kh.UseNavigateStable),n=y.useRef(!1);return Db(()=>{n.current=!0}),y.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Hc({fromRouteId:e},i)))},[t,e])}function UV(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function uc(t){let{to:e,replace:n,state:r,relative:s}=t;cl()||pt(!1);let{future:i,static:o}=y.useContext(bi),{matches:a}=y.useContext(Ci),{pathname:c}=Co(),d=No(),h=Yv(e,Qv(a,i.v7_relativeSplatPath),c,s==="path"),f=JSON.stringify(h);return y.useEffect(()=>d(JSON.parse(f),{replace:n,state:r,relative:s}),[d,f,s,n,r]),null}function vn(t){pt(!1)}function $V(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Ks.Pop,navigator:i,static:o=!1,future:a}=t;cl()&&pt(!1);let c=e.replace(/^\/*/,"/"),d=y.useMemo(()=>({basename:c,navigator:i,static:o,future:Hc({v7_relativeSplatPath:!1},a)}),[c,a,i,o]);typeof r=="string"&&(r=ll(r));let{pathname:h="/",search:f="",hash:m="",state:p=null,key:I="default"}=r,v=y.useMemo(()=>{let x=Gv(h,c);return x==null?null:{location:{pathname:x,search:f,hash:m,state:p,key:I},navigationType:s}},[c,h,f,m,p,I,s]);return v==null?null:y.createElement(bi.Provider,{value:d},y.createElement(kf.Provider,{children:n,value:v}))}function BV(t){let{children:e,location:n}=t;return NV(qg(e),n)}new Promise(()=>{});function qg(t,e){e===void 0&&(e=[]);let n=[];return y.Children.forEach(t,(r,s)=>{if(!y.isValidElement(r))return;let i=[...e,s];if(r.type===y.Fragment){n.push.apply(n,qg(r.props.children,i));return}r.type!==vn&&pt(!1),!r.props.index||!r.props.children||pt(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=qg(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Kg(){return Kg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kg.apply(this,arguments)}function zV(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function HV(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function WV(t,e){return t.button===0&&(!e||e==="_self")&&!HV(t)}const qV=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],KV="6";try{window.__reactRouterVersion=KV}catch{}const GV="startTransition",$_=jy[GV];function QV(t){let{basename:e,children:n,future:r,window:s}=t,i=y.useRef();i.current==null&&(i.current=eV({window:s,v5Compat:!0}));let o=i.current,[a,c]=y.useState({action:o.action,location:o.location}),{v7_startTransition:d}=r||{},h=y.useCallback(f=>{d&&$_?$_(()=>c(f)):c(f)},[c,d]);return y.useLayoutEffect(()=>o.listen(h),[o,h]),y.useEffect(()=>UV(r),[r]),y.createElement($V,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const YV=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",XV=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Dt=y.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:c,to:d,preventScrollReset:h,viewTransition:f}=e,m=zV(e,qV),{basename:p}=y.useContext(bi),I,v=!1;if(typeof d=="string"&&XV.test(d)&&(I=d,YV))try{let T=new URL(window.location.href),A=d.startsWith("//")?new URL(T.protocol+d):new URL(d),D=Gv(A.pathname,p);A.origin===T.origin&&D!=null?d=D+A.search+A.hash:v=!0}catch{}let x=bV(d,{relative:s}),E=JV(d,{replace:o,state:a,target:c,preventScrollReset:h,relative:s,viewTransition:f});function w(T){r&&r(T),T.defaultPrevented||E(T)}return y.createElement("a",Kg({},m,{href:I||x,onClick:v||i?r:w,ref:n,target:c}))});var B_;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(B_||(B_={}));var z_;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(z_||(z_={}));function JV(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,c=No(),d=Co(),h=Mb(t,{relative:o});return y.useCallback(f=>{if(WV(f,n)){f.preventDefault();let m=r!==void 0?r:Ph(d)===Ph(h);c(t,{replace:m,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[d,c,h,r,s,n,t,i,o,a])}const ZV=()=>{};var H_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vb=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},eF=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],c=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},Fb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,c=s+2<t.length,d=c?t[s+2]:0,h=i>>2,f=(i&3)<<4|a>>4;let m=(a&15)<<2|d>>6,p=d&63;c||(p=64,o||(m=64)),r.push(n[h],n[f],n[m],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Vb(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):eF(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const d=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||d==null||f==null)throw new tF;const m=i<<2|a>>4;if(r.push(m),d!==64){const p=a<<4&240|d>>2;if(r.push(p),f!==64){const I=d<<6&192|f;r.push(I)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class tF extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const nF=function(t){const e=Vb(t);return Fb.encodeByteArray(e,!0)},jh=function(t){return nF(t).replace(/\./g,"")},Ub=function(t){try{return Fb.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rF(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sF=()=>rF().__FIREBASE_DEFAULTS__,iF=()=>{if(typeof process>"u"||typeof H_>"u")return;const t=H_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},oF=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Ub(t[1]);return e&&JSON.parse(e)},jf=()=>{try{return ZV()||sF()||iF()||oF()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},$b=t=>{var e,n;return(n=(e=jf())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},aF=t=>{const e=$b(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Bb=()=>{var t;return(t=jf())==null?void 0:t.config},zb=t=>{var e;return(e=jf())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lF{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ul(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Hb(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cF(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[jh(JSON.stringify(n)),jh(JSON.stringify(o)),""].join(".")}const dc={};function uF(){const t={prod:[],emulator:[]};for(const e of Object.keys(dc))dc[e]?t.emulator.push(e):t.prod.push(e);return t}function dF(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let W_=!1;function Wb(t,e){if(typeof window>"u"||typeof document>"u"||!ul(window.location.host)||dc[t]===e||dc[t]||W_)return;dc[t]=e;function n(m){return`__firebase__banner__${m}`}const r="__firebase__banner",i=uF().prod.length>0;function o(){const m=document.getElementById(r);m&&m.remove()}function a(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function c(m,p){m.setAttribute("width","24"),m.setAttribute("id",p),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function d(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{W_=!0,o()},m}function h(m,p){m.setAttribute("id",p),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function f(){const m=dF(r),p=n("text"),I=document.getElementById(p)||document.createElement("span"),v=n("learnmore"),x=document.getElementById(v)||document.createElement("a"),E=n("preprendIcon"),w=document.getElementById(E)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const T=m.element;a(T),h(x,v);const A=d();c(w,E),T.append(w,I,x,A),document.body.appendChild(T)}i?(I.innerText="Preview backend disconnected.",w.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(w.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,I.innerText="Preview backend running in this workspace."),I.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function hF(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Yt())}function fF(){var e;const t=(e=jf())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function pF(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function mF(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function gF(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function yF(){const t=Yt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function vF(){return!fF()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function wF(){try{return typeof indexedDB=="object"}catch{return!1}}function xF(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _F="FirebaseError";class ws extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=_F,Object.setPrototypeOf(this,ws.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gu.prototype.create)}}class gu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?EF(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new ws(s,a,r)}}function EF(t,e){return t.replace(TF,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const TF=/\{\$([^}]+)}/g;function SF(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ho(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(q_(i)&&q_(o)){if(!ho(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function q_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Wl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function ql(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function IF(t,e){const n=new bF(t,e);return n.subscribe.bind(n)}class bF{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");CF(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=vm),s.error===void 0&&(s.error=vm),s.complete===void 0&&(s.complete=vm);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function CF(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function vm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(t){return t&&t._delegate?t._delegate:t}class fo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NF{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new lF;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(AF(e))try{this.getOrInitializeService({instanceIdentifier:Bi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Bi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Bi){return this.instances.has(e)}getOptions(e=Bi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:RF(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Bi){return this.component?this.component.multipleInstances?e:Bi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function RF(t){return t===Bi?void 0:t}function AF(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PF{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new NF(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ie;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ie||(Ie={}));const kF={debug:Ie.DEBUG,verbose:Ie.VERBOSE,info:Ie.INFO,warn:Ie.WARN,error:Ie.ERROR,silent:Ie.SILENT},jF=Ie.INFO,DF={[Ie.DEBUG]:"log",[Ie.VERBOSE]:"log",[Ie.INFO]:"info",[Ie.WARN]:"warn",[Ie.ERROR]:"error"},MF=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=DF[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Jv{constructor(e){this.name=e,this._logLevel=jF,this._logHandler=MF,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ie))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?kF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ie.DEBUG,...e),this._logHandler(this,Ie.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ie.VERBOSE,...e),this._logHandler(this,Ie.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ie.INFO,...e),this._logHandler(this,Ie.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ie.WARN,...e),this._logHandler(this,Ie.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ie.ERROR,...e),this._logHandler(this,Ie.ERROR,...e)}}const OF=(t,e)=>e.some(n=>t instanceof n);let K_,G_;function LF(){return K_||(K_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function VF(){return G_||(G_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const qb=new WeakMap,Gg=new WeakMap,Kb=new WeakMap,wm=new WeakMap,Zv=new WeakMap;function FF(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(ii(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&qb.set(n,t)}).catch(()=>{}),Zv.set(e,t),e}function UF(t){if(Gg.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Gg.set(t,e)}let Qg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Gg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Kb.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ii(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function $F(t){Qg=t(Qg)}function BF(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(xm(this),e,...n);return Kb.set(r,e.sort?e.sort():[e]),ii(r)}:VF().includes(t)?function(...e){return t.apply(xm(this),e),ii(qb.get(this))}:function(...e){return ii(t.apply(xm(this),e))}}function zF(t){return typeof t=="function"?BF(t):(t instanceof IDBTransaction&&UF(t),OF(t,LF())?new Proxy(t,Qg):t)}function ii(t){if(t instanceof IDBRequest)return FF(t);if(wm.has(t))return wm.get(t);const e=zF(t);return e!==t&&(wm.set(t,e),Zv.set(e,t)),e}const xm=t=>Zv.get(t);function HF(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=ii(o);return r&&o.addEventListener("upgradeneeded",c=>{r(ii(o.result),c.oldVersion,c.newVersion,ii(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),a}const WF=["get","getKey","getAll","getAllKeys","count"],qF=["put","add","delete","clear"],_m=new Map;function Q_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(_m.get(e))return _m.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=qF.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||WF.includes(n)))return;const i=async function(o,...a){const c=this.transaction(o,s?"readwrite":"readonly");let d=c.store;return r&&(d=d.index(a.shift())),(await Promise.all([d[n](...a),s&&c.done]))[0]};return _m.set(e,i),i}$F(t=>({...t,get:(e,n,r)=>Q_(e,n)||t.get(e,n,r),has:(e,n)=>!!Q_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KF{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(GF(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function GF(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Yg="@firebase/app",Y_="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fs=new Jv("@firebase/app"),QF="@firebase/app-compat",YF="@firebase/analytics-compat",XF="@firebase/analytics",JF="@firebase/app-check-compat",ZF="@firebase/app-check",e3="@firebase/auth",t3="@firebase/auth-compat",n3="@firebase/database",r3="@firebase/data-connect",s3="@firebase/database-compat",i3="@firebase/functions",o3="@firebase/functions-compat",a3="@firebase/installations",l3="@firebase/installations-compat",c3="@firebase/messaging",u3="@firebase/messaging-compat",d3="@firebase/performance",h3="@firebase/performance-compat",f3="@firebase/remote-config",p3="@firebase/remote-config-compat",m3="@firebase/storage",g3="@firebase/storage-compat",y3="@firebase/firestore",v3="@firebase/ai",w3="@firebase/firestore-compat",x3="firebase",_3="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xg="[DEFAULT]",E3={[Yg]:"fire-core",[QF]:"fire-core-compat",[XF]:"fire-analytics",[YF]:"fire-analytics-compat",[ZF]:"fire-app-check",[JF]:"fire-app-check-compat",[e3]:"fire-auth",[t3]:"fire-auth-compat",[n3]:"fire-rtdb",[r3]:"fire-data-connect",[s3]:"fire-rtdb-compat",[i3]:"fire-fn",[o3]:"fire-fn-compat",[a3]:"fire-iid",[l3]:"fire-iid-compat",[c3]:"fire-fcm",[u3]:"fire-fcm-compat",[d3]:"fire-perf",[h3]:"fire-perf-compat",[f3]:"fire-rc",[p3]:"fire-rc-compat",[m3]:"fire-gcs",[g3]:"fire-gcs-compat",[y3]:"fire-fst",[w3]:"fire-fst-compat",[v3]:"fire-vertex","fire-js":"fire-js",[x3]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dh=new Map,T3=new Map,Jg=new Map;function X_(t,e){try{t.container.addComponent(e)}catch(n){fs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ha(t){const e=t.name;if(Jg.has(e))return fs.debug(`There were multiple attempts to register component ${e}.`),!1;Jg.set(e,t);for(const n of Dh.values())X_(n,t);for(const n of T3.values())X_(n,t);return!0}function ew(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Mn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},oi=new gu("app","Firebase",S3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I3{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new fo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw oi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dl=_3;function Gb(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Xg,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw oi.create("bad-app-name",{appName:String(s)});if(n||(n=Bb()),!n)throw oi.create("no-options");const i=Dh.get(s);if(i){if(ho(n,i.options)&&ho(r,i.config))return i;throw oi.create("duplicate-app",{appName:s})}const o=new PF(s);for(const c of Jg.values())o.addComponent(c);const a=new I3(n,r,o);return Dh.set(s,a),a}function Qb(t=Xg){const e=Dh.get(t);if(!e&&t===Xg&&Bb())return Gb();if(!e)throw oi.create("no-app",{appName:t});return e}function ai(t,e,n){let r=E3[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),fs.warn(o.join(" "));return}Ha(new fo(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b3="firebase-heartbeat-database",C3=1,Wc="firebase-heartbeat-store";let Em=null;function Yb(){return Em||(Em=HF(b3,C3,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Wc)}catch(n){console.warn(n)}}}}).catch(t=>{throw oi.create("idb-open",{originalErrorMessage:t.message})})),Em}async function N3(t){try{const n=(await Yb()).transaction(Wc),r=await n.objectStore(Wc).get(Xb(t));return await n.done,r}catch(e){if(e instanceof ws)fs.warn(e.message);else{const n=oi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});fs.warn(n.message)}}}async function J_(t,e){try{const r=(await Yb()).transaction(Wc,"readwrite");await r.objectStore(Wc).put(e,Xb(t)),await r.done}catch(n){if(n instanceof ws)fs.warn(n.message);else{const r=oi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});fs.warn(r.message)}}}function Xb(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R3=1024,A3=30;class P3{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new j3(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Z_();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>A3){const o=D3(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){fs.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Z_(),{heartbeatsToSend:r,unsentEntries:s}=k3(this._heartbeatsCache.heartbeats),i=jh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return fs.warn(n),""}}}function Z_(){return new Date().toISOString().substring(0,10)}function k3(t,e=R3){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),eE(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),eE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class j3{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return wF()?xF().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await N3(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return J_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return J_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function eE(t){return jh(JSON.stringify({version:2,heartbeats:t})).length}function D3(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M3(t){Ha(new fo("platform-logger",e=>new KF(e),"PRIVATE")),Ha(new fo("heartbeat",e=>new P3(e),"PRIVATE")),ai(Yg,Y_,t),ai(Yg,Y_,"esm2020"),ai("fire-js","")}M3("");var O3="firebase",L3="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ai(O3,L3,"app");var tE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var li,Jb;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(b,S){function C(){}C.prototype=S.prototype,b.D=S.prototype,b.prototype=new C,b.prototype.constructor=b,b.C=function(R,k,j){for(var P=Array(arguments.length-2),z=2;z<arguments.length;z++)P[z-2]=arguments[z];return S.prototype[k].apply(R,P)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(b,S,C){C||(C=0);var R=Array(16);if(typeof S=="string")for(var k=0;16>k;++k)R[k]=S.charCodeAt(C++)|S.charCodeAt(C++)<<8|S.charCodeAt(C++)<<16|S.charCodeAt(C++)<<24;else for(k=0;16>k;++k)R[k]=S[C++]|S[C++]<<8|S[C++]<<16|S[C++]<<24;S=b.g[0],C=b.g[1],k=b.g[2];var j=b.g[3],P=S+(j^C&(k^j))+R[0]+3614090360&4294967295;S=C+(P<<7&4294967295|P>>>25),P=j+(k^S&(C^k))+R[1]+3905402710&4294967295,j=S+(P<<12&4294967295|P>>>20),P=k+(C^j&(S^C))+R[2]+606105819&4294967295,k=j+(P<<17&4294967295|P>>>15),P=C+(S^k&(j^S))+R[3]+3250441966&4294967295,C=k+(P<<22&4294967295|P>>>10),P=S+(j^C&(k^j))+R[4]+4118548399&4294967295,S=C+(P<<7&4294967295|P>>>25),P=j+(k^S&(C^k))+R[5]+1200080426&4294967295,j=S+(P<<12&4294967295|P>>>20),P=k+(C^j&(S^C))+R[6]+2821735955&4294967295,k=j+(P<<17&4294967295|P>>>15),P=C+(S^k&(j^S))+R[7]+4249261313&4294967295,C=k+(P<<22&4294967295|P>>>10),P=S+(j^C&(k^j))+R[8]+1770035416&4294967295,S=C+(P<<7&4294967295|P>>>25),P=j+(k^S&(C^k))+R[9]+2336552879&4294967295,j=S+(P<<12&4294967295|P>>>20),P=k+(C^j&(S^C))+R[10]+4294925233&4294967295,k=j+(P<<17&4294967295|P>>>15),P=C+(S^k&(j^S))+R[11]+2304563134&4294967295,C=k+(P<<22&4294967295|P>>>10),P=S+(j^C&(k^j))+R[12]+1804603682&4294967295,S=C+(P<<7&4294967295|P>>>25),P=j+(k^S&(C^k))+R[13]+4254626195&4294967295,j=S+(P<<12&4294967295|P>>>20),P=k+(C^j&(S^C))+R[14]+2792965006&4294967295,k=j+(P<<17&4294967295|P>>>15),P=C+(S^k&(j^S))+R[15]+1236535329&4294967295,C=k+(P<<22&4294967295|P>>>10),P=S+(k^j&(C^k))+R[1]+4129170786&4294967295,S=C+(P<<5&4294967295|P>>>27),P=j+(C^k&(S^C))+R[6]+3225465664&4294967295,j=S+(P<<9&4294967295|P>>>23),P=k+(S^C&(j^S))+R[11]+643717713&4294967295,k=j+(P<<14&4294967295|P>>>18),P=C+(j^S&(k^j))+R[0]+3921069994&4294967295,C=k+(P<<20&4294967295|P>>>12),P=S+(k^j&(C^k))+R[5]+3593408605&4294967295,S=C+(P<<5&4294967295|P>>>27),P=j+(C^k&(S^C))+R[10]+38016083&4294967295,j=S+(P<<9&4294967295|P>>>23),P=k+(S^C&(j^S))+R[15]+3634488961&4294967295,k=j+(P<<14&4294967295|P>>>18),P=C+(j^S&(k^j))+R[4]+3889429448&4294967295,C=k+(P<<20&4294967295|P>>>12),P=S+(k^j&(C^k))+R[9]+568446438&4294967295,S=C+(P<<5&4294967295|P>>>27),P=j+(C^k&(S^C))+R[14]+3275163606&4294967295,j=S+(P<<9&4294967295|P>>>23),P=k+(S^C&(j^S))+R[3]+4107603335&4294967295,k=j+(P<<14&4294967295|P>>>18),P=C+(j^S&(k^j))+R[8]+1163531501&4294967295,C=k+(P<<20&4294967295|P>>>12),P=S+(k^j&(C^k))+R[13]+2850285829&4294967295,S=C+(P<<5&4294967295|P>>>27),P=j+(C^k&(S^C))+R[2]+4243563512&4294967295,j=S+(P<<9&4294967295|P>>>23),P=k+(S^C&(j^S))+R[7]+1735328473&4294967295,k=j+(P<<14&4294967295|P>>>18),P=C+(j^S&(k^j))+R[12]+2368359562&4294967295,C=k+(P<<20&4294967295|P>>>12),P=S+(C^k^j)+R[5]+4294588738&4294967295,S=C+(P<<4&4294967295|P>>>28),P=j+(S^C^k)+R[8]+2272392833&4294967295,j=S+(P<<11&4294967295|P>>>21),P=k+(j^S^C)+R[11]+1839030562&4294967295,k=j+(P<<16&4294967295|P>>>16),P=C+(k^j^S)+R[14]+4259657740&4294967295,C=k+(P<<23&4294967295|P>>>9),P=S+(C^k^j)+R[1]+2763975236&4294967295,S=C+(P<<4&4294967295|P>>>28),P=j+(S^C^k)+R[4]+1272893353&4294967295,j=S+(P<<11&4294967295|P>>>21),P=k+(j^S^C)+R[7]+4139469664&4294967295,k=j+(P<<16&4294967295|P>>>16),P=C+(k^j^S)+R[10]+3200236656&4294967295,C=k+(P<<23&4294967295|P>>>9),P=S+(C^k^j)+R[13]+681279174&4294967295,S=C+(P<<4&4294967295|P>>>28),P=j+(S^C^k)+R[0]+3936430074&4294967295,j=S+(P<<11&4294967295|P>>>21),P=k+(j^S^C)+R[3]+3572445317&4294967295,k=j+(P<<16&4294967295|P>>>16),P=C+(k^j^S)+R[6]+76029189&4294967295,C=k+(P<<23&4294967295|P>>>9),P=S+(C^k^j)+R[9]+3654602809&4294967295,S=C+(P<<4&4294967295|P>>>28),P=j+(S^C^k)+R[12]+3873151461&4294967295,j=S+(P<<11&4294967295|P>>>21),P=k+(j^S^C)+R[15]+530742520&4294967295,k=j+(P<<16&4294967295|P>>>16),P=C+(k^j^S)+R[2]+3299628645&4294967295,C=k+(P<<23&4294967295|P>>>9),P=S+(k^(C|~j))+R[0]+4096336452&4294967295,S=C+(P<<6&4294967295|P>>>26),P=j+(C^(S|~k))+R[7]+1126891415&4294967295,j=S+(P<<10&4294967295|P>>>22),P=k+(S^(j|~C))+R[14]+2878612391&4294967295,k=j+(P<<15&4294967295|P>>>17),P=C+(j^(k|~S))+R[5]+4237533241&4294967295,C=k+(P<<21&4294967295|P>>>11),P=S+(k^(C|~j))+R[12]+1700485571&4294967295,S=C+(P<<6&4294967295|P>>>26),P=j+(C^(S|~k))+R[3]+2399980690&4294967295,j=S+(P<<10&4294967295|P>>>22),P=k+(S^(j|~C))+R[10]+4293915773&4294967295,k=j+(P<<15&4294967295|P>>>17),P=C+(j^(k|~S))+R[1]+2240044497&4294967295,C=k+(P<<21&4294967295|P>>>11),P=S+(k^(C|~j))+R[8]+1873313359&4294967295,S=C+(P<<6&4294967295|P>>>26),P=j+(C^(S|~k))+R[15]+4264355552&4294967295,j=S+(P<<10&4294967295|P>>>22),P=k+(S^(j|~C))+R[6]+2734768916&4294967295,k=j+(P<<15&4294967295|P>>>17),P=C+(j^(k|~S))+R[13]+1309151649&4294967295,C=k+(P<<21&4294967295|P>>>11),P=S+(k^(C|~j))+R[4]+4149444226&4294967295,S=C+(P<<6&4294967295|P>>>26),P=j+(C^(S|~k))+R[11]+3174756917&4294967295,j=S+(P<<10&4294967295|P>>>22),P=k+(S^(j|~C))+R[2]+718787259&4294967295,k=j+(P<<15&4294967295|P>>>17),P=C+(j^(k|~S))+R[9]+3951481745&4294967295,b.g[0]=b.g[0]+S&4294967295,b.g[1]=b.g[1]+(k+(P<<21&4294967295|P>>>11))&4294967295,b.g[2]=b.g[2]+k&4294967295,b.g[3]=b.g[3]+j&4294967295}r.prototype.u=function(b,S){S===void 0&&(S=b.length);for(var C=S-this.blockSize,R=this.B,k=this.h,j=0;j<S;){if(k==0)for(;j<=C;)s(this,b,j),j+=this.blockSize;if(typeof b=="string"){for(;j<S;)if(R[k++]=b.charCodeAt(j++),k==this.blockSize){s(this,R),k=0;break}}else for(;j<S;)if(R[k++]=b[j++],k==this.blockSize){s(this,R),k=0;break}}this.h=k,this.o+=S},r.prototype.v=function(){var b=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);b[0]=128;for(var S=1;S<b.length-8;++S)b[S]=0;var C=8*this.o;for(S=b.length-8;S<b.length;++S)b[S]=C&255,C/=256;for(this.u(b),b=Array(16),S=C=0;4>S;++S)for(var R=0;32>R;R+=8)b[C++]=this.g[S]>>>R&255;return b};function i(b,S){var C=a;return Object.prototype.hasOwnProperty.call(C,b)?C[b]:C[b]=S(b)}function o(b,S){this.h=S;for(var C=[],R=!0,k=b.length-1;0<=k;k--){var j=b[k]|0;R&&j==S||(C[k]=j,R=!1)}this.g=C}var a={};function c(b){return-128<=b&&128>b?i(b,function(S){return new o([S|0],0>S?-1:0)}):new o([b|0],0>b?-1:0)}function d(b){if(isNaN(b)||!isFinite(b))return f;if(0>b)return x(d(-b));for(var S=[],C=1,R=0;b>=C;R++)S[R]=b/C|0,C*=4294967296;return new o(S,0)}function h(b,S){if(b.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(b.charAt(0)=="-")return x(h(b.substring(1),S));if(0<=b.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=d(Math.pow(S,8)),R=f,k=0;k<b.length;k+=8){var j=Math.min(8,b.length-k),P=parseInt(b.substring(k,k+j),S);8>j?(j=d(Math.pow(S,j)),R=R.j(j).add(d(P))):(R=R.j(C),R=R.add(d(P)))}return R}var f=c(0),m=c(1),p=c(16777216);t=o.prototype,t.m=function(){if(v(this))return-x(this).m();for(var b=0,S=1,C=0;C<this.g.length;C++){var R=this.i(C);b+=(0<=R?R:4294967296+R)*S,S*=4294967296}return b},t.toString=function(b){if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(I(this))return"0";if(v(this))return"-"+x(this).toString(b);for(var S=d(Math.pow(b,6)),C=this,R="";;){var k=A(C,S).g;C=E(C,k.j(S));var j=((0<C.g.length?C.g[0]:C.h)>>>0).toString(b);if(C=k,I(C))return j+R;for(;6>j.length;)j="0"+j;R=j+R}},t.i=function(b){return 0>b?0:b<this.g.length?this.g[b]:this.h};function I(b){if(b.h!=0)return!1;for(var S=0;S<b.g.length;S++)if(b.g[S]!=0)return!1;return!0}function v(b){return b.h==-1}t.l=function(b){return b=E(this,b),v(b)?-1:I(b)?0:1};function x(b){for(var S=b.g.length,C=[],R=0;R<S;R++)C[R]=~b.g[R];return new o(C,~b.h).add(m)}t.abs=function(){return v(this)?x(this):this},t.add=function(b){for(var S=Math.max(this.g.length,b.g.length),C=[],R=0,k=0;k<=S;k++){var j=R+(this.i(k)&65535)+(b.i(k)&65535),P=(j>>>16)+(this.i(k)>>>16)+(b.i(k)>>>16);R=P>>>16,j&=65535,P&=65535,C[k]=P<<16|j}return new o(C,C[C.length-1]&-2147483648?-1:0)};function E(b,S){return b.add(x(S))}t.j=function(b){if(I(this)||I(b))return f;if(v(this))return v(b)?x(this).j(x(b)):x(x(this).j(b));if(v(b))return x(this.j(x(b)));if(0>this.l(p)&&0>b.l(p))return d(this.m()*b.m());for(var S=this.g.length+b.g.length,C=[],R=0;R<2*S;R++)C[R]=0;for(R=0;R<this.g.length;R++)for(var k=0;k<b.g.length;k++){var j=this.i(R)>>>16,P=this.i(R)&65535,z=b.i(k)>>>16,se=b.i(k)&65535;C[2*R+2*k]+=P*se,w(C,2*R+2*k),C[2*R+2*k+1]+=j*se,w(C,2*R+2*k+1),C[2*R+2*k+1]+=P*z,w(C,2*R+2*k+1),C[2*R+2*k+2]+=j*z,w(C,2*R+2*k+2)}for(R=0;R<S;R++)C[R]=C[2*R+1]<<16|C[2*R];for(R=S;R<2*S;R++)C[R]=0;return new o(C,0)};function w(b,S){for(;(b[S]&65535)!=b[S];)b[S+1]+=b[S]>>>16,b[S]&=65535,S++}function T(b,S){this.g=b,this.h=S}function A(b,S){if(I(S))throw Error("division by zero");if(I(b))return new T(f,f);if(v(b))return S=A(x(b),S),new T(x(S.g),x(S.h));if(v(S))return S=A(b,x(S)),new T(x(S.g),S.h);if(30<b.g.length){if(v(b)||v(S))throw Error("slowDivide_ only works with positive integers.");for(var C=m,R=S;0>=R.l(b);)C=D(C),R=D(R);var k=M(C,1),j=M(R,1);for(R=M(R,2),C=M(C,2);!I(R);){var P=j.add(R);0>=P.l(b)&&(k=k.add(C),j=P),R=M(R,1),C=M(C,1)}return S=E(b,k.j(S)),new T(k,S)}for(k=f;0<=b.l(S);){for(C=Math.max(1,Math.floor(b.m()/S.m())),R=Math.ceil(Math.log(C)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),j=d(C),P=j.j(S);v(P)||0<P.l(b);)C-=R,j=d(C),P=j.j(S);I(j)&&(j=m),k=k.add(j),b=E(b,P)}return new T(k,b)}t.A=function(b){return A(this,b).h},t.and=function(b){for(var S=Math.max(this.g.length,b.g.length),C=[],R=0;R<S;R++)C[R]=this.i(R)&b.i(R);return new o(C,this.h&b.h)},t.or=function(b){for(var S=Math.max(this.g.length,b.g.length),C=[],R=0;R<S;R++)C[R]=this.i(R)|b.i(R);return new o(C,this.h|b.h)},t.xor=function(b){for(var S=Math.max(this.g.length,b.g.length),C=[],R=0;R<S;R++)C[R]=this.i(R)^b.i(R);return new o(C,this.h^b.h)};function D(b){for(var S=b.g.length+1,C=[],R=0;R<S;R++)C[R]=b.i(R)<<1|b.i(R-1)>>>31;return new o(C,b.h)}function M(b,S){var C=S>>5;S%=32;for(var R=b.g.length-C,k=[],j=0;j<R;j++)k[j]=0<S?b.i(j+C)>>>S|b.i(j+C+1)<<32-S:b.i(j+C);return new o(k,b.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Jb=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=h,li=o}).apply(typeof tE<"u"?tE:typeof self<"u"?self:typeof window<"u"?window:{});var vd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Zb,Kl,eC,Hd,Zg,tC,nC,rC;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,g,_){return u==Array.prototype||u==Object.prototype||(u[g]=_.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof vd=="object"&&vd];for(var g=0;g<u.length;++g){var _=u[g];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=n(this);function s(u,g){if(g)e:{var _=r;u=u.split(".");for(var N=0;N<u.length-1;N++){var L=u[N];if(!(L in _))break e;_=_[L]}u=u[u.length-1],N=_[u],g=g(N),g!=N&&g!=null&&e(_,u,{configurable:!0,writable:!0,value:g})}}function i(u,g){u instanceof String&&(u+="");var _=0,N=!1,L={next:function(){if(!N&&_<u.length){var F=_++;return{value:g(F,u[F]),done:!1}}return N=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}s("Array.prototype.values",function(u){return u||function(){return i(this,function(g,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function c(u){var g=typeof u;return g=g!="object"?g:u?Array.isArray(u)?"array":g:"null",g=="array"||g=="object"&&typeof u.length=="number"}function d(u){var g=typeof u;return g=="object"&&u!=null||g=="function"}function h(u,g,_){return u.call.apply(u.bind,arguments)}function f(u,g,_){if(!u)throw Error();if(2<arguments.length){var N=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,N),u.apply(g,L)}}return function(){return u.apply(g,arguments)}}function m(u,g,_){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:f,m.apply(null,arguments)}function p(u,g){var _=Array.prototype.slice.call(arguments,1);return function(){var N=_.slice();return N.push.apply(N,arguments),u.apply(this,N)}}function I(u,g){function _(){}_.prototype=g.prototype,u.aa=g.prototype,u.prototype=new _,u.prototype.constructor=u,u.Qb=function(N,L,F){for(var G=Array(arguments.length-2),We=2;We<arguments.length;We++)G[We-2]=arguments[We];return g.prototype[L].apply(N,G)}}function v(u){const g=u.length;if(0<g){const _=Array(g);for(let N=0;N<g;N++)_[N]=u[N];return _}return[]}function x(u,g){for(let _=1;_<arguments.length;_++){const N=arguments[_];if(c(N)){const L=u.length||0,F=N.length||0;u.length=L+F;for(let G=0;G<F;G++)u[L+G]=N[G]}else u.push(N)}}class E{constructor(g,_){this.i=g,this.j=_,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function w(u){return/^[\s\xa0]*$/.test(u)}function T(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function A(u){return A[" "](u),u}A[" "]=function(){};var D=T().indexOf("Gecko")!=-1&&!(T().toLowerCase().indexOf("webkit")!=-1&&T().indexOf("Edge")==-1)&&!(T().indexOf("Trident")!=-1||T().indexOf("MSIE")!=-1)&&T().indexOf("Edge")==-1;function M(u,g,_){for(const N in u)g.call(_,u[N],N,u)}function b(u,g){for(const _ in u)g.call(void 0,u[_],_,u)}function S(u){const g={};for(const _ in u)g[_]=u[_];return g}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(u,g){let _,N;for(let L=1;L<arguments.length;L++){N=arguments[L];for(_ in N)u[_]=N[_];for(let F=0;F<C.length;F++)_=C[F],Object.prototype.hasOwnProperty.call(N,_)&&(u[_]=N[_])}}function k(u){var g=1;u=u.split(":");const _=[];for(;0<g&&u.length;)_.push(u.shift()),g--;return u.length&&_.push(u.join(":")),_}function j(u){a.setTimeout(()=>{throw u},0)}function P(){var u=O;let g=null;return u.g&&(g=u.g,u.g=u.g.next,u.g||(u.h=null),g.next=null),g}class z{constructor(){this.h=this.g=null}add(g,_){const N=se.get();N.set(g,_),this.h?this.h.next=N:this.g=N,this.h=N}}var se=new E(()=>new X,u=>u.reset());class X{constructor(){this.next=this.g=this.h=null}set(g,_){this.h=g,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let re,V=!1,O=new z,H=()=>{const u=a.Promise.resolve(void 0);re=()=>{u.then(ne)}};var ne=()=>{for(var u;u=P();){try{u.h.call(u.g)}catch(_){j(_)}var g=se;g.j(u),100>g.h&&(g.h++,u.next=g.g,g.g=u)}V=!1};function Q(){this.s=this.s,this.C=this.C}Q.prototype.s=!1,Q.prototype.ma=function(){this.s||(this.s=!0,this.N())},Q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function te(u,g){this.type=u,this.g=this.target=g,this.defaultPrevented=!1}te.prototype.h=function(){this.defaultPrevented=!0};var le=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,g=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};a.addEventListener("test",_,g),a.removeEventListener("test",_,g)}catch{}return u}();function Re(u,g){if(te.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var _=this.type=u.type,N=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=g,g=u.relatedTarget){if(D){e:{try{A(g.nodeName);var L=!0;break e}catch{}L=!1}L||(g=null)}}else _=="mouseover"?g=u.fromElement:_=="mouseout"&&(g=u.toElement);this.relatedTarget=g,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Fe[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Re.aa.h.call(this)}}I(Re,te);var Fe={2:"touch",3:"pen",4:"mouse"};Re.prototype.h=function(){Re.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var q="closure_listenable_"+(1e6*Math.random()|0),Ae=0;function Pe(u,g,_,N,L){this.listener=u,this.proxy=null,this.src=g,this.type=_,this.capture=!!N,this.ha=L,this.key=++Ae,this.da=this.fa=!1}function ve(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function we(u){this.src=u,this.g={},this.h=0}we.prototype.add=function(u,g,_,N,L){var F=u.toString();u=this.g[F],u||(u=this.g[F]=[],this.h++);var G=mt(u,g,N,L);return-1<G?(g=u[G],_||(g.fa=!1)):(g=new Pe(g,this.src,F,!!N,L),g.fa=_,u.push(g)),g};function Te(u,g){var _=g.type;if(_ in u.g){var N=u.g[_],L=Array.prototype.indexOf.call(N,g,void 0),F;(F=0<=L)&&Array.prototype.splice.call(N,L,1),F&&(ve(g),u.g[_].length==0&&(delete u.g[_],u.h--))}}function mt(u,g,_,N){for(var L=0;L<u.length;++L){var F=u[L];if(!F.da&&F.listener==g&&F.capture==!!_&&F.ha==N)return L}return-1}var Vt="closure_lm_"+(1e6*Math.random()|0),zn={};function Hn(u,g,_,N,L){if(Array.isArray(g)){for(var F=0;F<g.length;F++)Hn(u,g[F],_,N,L);return null}return _=ju(_),u&&u[q]?u.K(g,_,d(N)?!!N.capture:!!N,L):Vr(u,g,_,!1,N,L)}function Vr(u,g,_,N,L,F){if(!g)throw Error("Invalid event type");var G=d(L)?!!L.capture:!!L,We=Wn(u);if(We||(u[Vt]=We=new we(u)),_=We.add(g,_,N,G,F),_.proxy)return _;if(N=ki(),_.proxy=N,N.src=u,N.listener=_,u.addEventListener)le||(L=G),L===void 0&&(L=!1),u.addEventListener(g.toString(),N,L);else if(u.attachEvent)u.attachEvent(xs(g.toString()),N);else if(u.addListener&&u.removeListener)u.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return _}function ki(){function u(_){return g.call(u.src,u.listener,_)}const g=ku;return u}function Fr(u,g,_,N,L){if(Array.isArray(g))for(var F=0;F<g.length;F++)Fr(u,g[F],_,N,L);else N=d(N)?!!N.capture:!!N,_=ju(_),u&&u[q]?(u=u.i,g=String(g).toString(),g in u.g&&(F=u.g[g],_=mt(F,_,N,L),-1<_&&(ve(F[_]),Array.prototype.splice.call(F,_,1),F.length==0&&(delete u.g[g],u.h--)))):u&&(u=Wn(u))&&(g=u.g[g.toString()],u=-1,g&&(u=mt(g,_,N,L)),(_=-1<u?g[u]:null)&&Oo(_))}function Oo(u){if(typeof u!="number"&&u&&!u.da){var g=u.src;if(g&&g[q])Te(g.i,u);else{var _=u.type,N=u.proxy;g.removeEventListener?g.removeEventListener(_,N,u.capture):g.detachEvent?g.detachEvent(xs(_),N):g.addListener&&g.removeListener&&g.removeListener(N),(_=Wn(g))?(Te(_,u),_.h==0&&(_.src=null,g[Vt]=null)):ve(u)}}}function xs(u){return u in zn?zn[u]:zn[u]="on"+u}function ku(u,g){if(u.da)u=!0;else{g=new Re(g,this);var _=u.listener,N=u.ha||u.src;u.fa&&Oo(u),u=_.call(N,g)}return u}function Wn(u){return u=u[Vt],u instanceof we?u:null}var wl="__closure_events_fn_"+(1e9*Math.random()>>>0);function ju(u){return typeof u=="function"?u:(u[wl]||(u[wl]=function(g){return u.handleEvent(g)}),u[wl])}function $e(){Q.call(this),this.i=new we(this),this.M=this,this.F=null}I($e,Q),$e.prototype[q]=!0,$e.prototype.removeEventListener=function(u,g,_,N){Fr(this,u,g,_,N)};function ot(u,g){var _,N=u.F;if(N)for(_=[];N;N=N.F)_.push(N);if(u=u.M,N=g.type||g,typeof g=="string")g=new te(g,u);else if(g instanceof te)g.target=g.target||u;else{var L=g;g=new te(N,u),R(g,L)}if(L=!0,_)for(var F=_.length-1;0<=F;F--){var G=g.g=_[F];L=Lo(G,N,!0,g)&&L}if(G=g.g=u,L=Lo(G,N,!0,g)&&L,L=Lo(G,N,!1,g)&&L,_)for(F=0;F<_.length;F++)G=g.g=_[F],L=Lo(G,N,!1,g)&&L}$e.prototype.N=function(){if($e.aa.N.call(this),this.i){var u=this.i,g;for(g in u.g){for(var _=u.g[g],N=0;N<_.length;N++)ve(_[N]);delete u.g[g],u.h--}}this.F=null},$e.prototype.K=function(u,g,_,N){return this.i.add(String(u),g,!1,_,N)},$e.prototype.L=function(u,g,_,N){return this.i.add(String(u),g,!0,_,N)};function Lo(u,g,_,N){if(g=u.i.g[String(g)],!g)return!0;g=g.concat();for(var L=!0,F=0;F<g.length;++F){var G=g[F];if(G&&!G.da&&G.capture==_){var We=G.listener,Pt=G.ha||G.src;G.fa&&Te(u.i,G),L=We.call(Pt,N)!==!1&&L}}return L&&!N.defaultPrevented}function Du(u,g,_){if(typeof u=="function")_&&(u=m(u,_));else if(u&&typeof u.handleEvent=="function")u=m(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:a.setTimeout(u,g||0)}function ji(u){u.g=Du(()=>{u.g=null,u.i&&(u.i=!1,ji(u))},u.l);const g=u.h;u.h=null,u.m.apply(null,g)}class Tp extends Q{constructor(g,_){super(),this.m=g,this.l=_,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:ji(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _s(u){Q.call(this),this.h=u,this.g={}}I(_s,Q);var Vo=[];function Ur(u){M(u.g,function(g,_){this.g.hasOwnProperty(_)&&Oo(g)},u),u.g={}}_s.prototype.N=function(){_s.aa.N.call(this),Ur(this)},_s.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Fo=a.JSON.stringify,Es=a.JSON.parse,Sp=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function xl(){}xl.prototype.h=null;function _l(u){return u.h||(u.h=u.i())}function El(){}var Di={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Mi(){te.call(this,"d")}I(Mi,te);function An(){te.call(this,"c")}I(An,te);var $r={},he=null;function De(){return he=he||new $e}$r.La="serverreachability";function He(u){te.call(this,$r.La,u)}I(He,te);function Rt(u){const g=De();ot(g,new He(g))}$r.STAT_EVENT="statevent";function ln(u,g){te.call(this,$r.STAT_EVENT,u),this.stat=g}I(ln,te);function et(u){const g=De();ot(g,new ln(g,u))}$r.Ma="timingevent";function gr(u,g){te.call(this,$r.Ma,u),this.size=g}I(gr,te);function At(u,g){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},g)}function cn(){this.g=!0}cn.prototype.xa=function(){this.g=!1};function Ik(u,g,_,N,L,F){u.info(function(){if(u.g)if(F)for(var G="",We=F.split("&"),Pt=0;Pt<We.length;Pt++){var Oe=We[Pt].split("=");if(1<Oe.length){var Ft=Oe[0];Oe=Oe[1];var Ut=Ft.split("_");G=2<=Ut.length&&Ut[1]=="type"?G+(Ft+"="+Oe+"&"):G+(Ft+"=redacted&")}}else G=null;else G=F;return"XMLHTTP REQ ("+N+") [attempt "+L+"]: "+g+`
`+_+`
`+G})}function bk(u,g,_,N,L,F,G){u.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+L+"]: "+g+`
`+_+`
`+F+" "+G})}function Uo(u,g,_,N){u.info(function(){return"XMLHTTP TEXT ("+g+"): "+Nk(u,_)+(N?" "+N:"")})}function Ck(u,g){u.info(function(){return"TIMEOUT: "+g})}cn.prototype.info=function(){};function Nk(u,g){if(!u.g)return g;if(!g)return null;try{var _=JSON.parse(g);if(_){for(u=0;u<_.length;u++)if(Array.isArray(_[u])){var N=_[u];if(!(2>N.length)){var L=N[1];if(Array.isArray(L)&&!(1>L.length)){var F=L[0];if(F!="noop"&&F!="stop"&&F!="close")for(var G=1;G<L.length;G++)L[G]=""}}}}return Fo(_)}catch{return g}}var Mu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},lx={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ip;function Ou(){}I(Ou,xl),Ou.prototype.g=function(){return new XMLHttpRequest},Ou.prototype.i=function(){return{}},Ip=new Ou;function Ts(u,g,_,N){this.j=u,this.i=g,this.l=_,this.R=N||1,this.U=new _s(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new cx}function cx(){this.i=null,this.g="",this.h=!1}var ux={},bp={};function Cp(u,g,_){u.L=1,u.v=Uu(Br(g)),u.m=_,u.P=!0,dx(u,null)}function dx(u,g){u.F=Date.now(),Lu(u),u.A=Br(u.v);var _=u.A,N=u.R;Array.isArray(N)||(N=[String(N)]),Ix(_.i,"t",N),u.C=0,_=u.j.J,u.h=new cx,u.g=zx(u.j,_?g:null,!u.m),0<u.O&&(u.M=new Tp(m(u.Y,u,u.g),u.O)),g=u.U,_=u.g,N=u.ca;var L="readystatechange";Array.isArray(L)||(L&&(Vo[0]=L.toString()),L=Vo);for(var F=0;F<L.length;F++){var G=Hn(_,L[F],N||g.handleEvent,!1,g.h||g);if(!G)break;g.g[G.key]=G}g=u.H?S(u.H):{},u.m?(u.u||(u.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,g)):(u.u="GET",u.g.ea(u.A,u.u,null,g)),Rt(),Ik(u.i,u.u,u.A,u.l,u.R,u.m)}Ts.prototype.ca=function(u){u=u.target;const g=this.M;g&&zr(u)==3?g.j():this.Y(u)},Ts.prototype.Y=function(u){try{if(u==this.g)e:{const Ut=zr(this.g);var g=this.g.Ba();const zo=this.g.Z();if(!(3>Ut)&&(Ut!=3||this.g&&(this.h.h||this.g.oa()||kx(this.g)))){this.J||Ut!=4||g==7||(g==8||0>=zo?Rt(3):Rt(2)),Np(this);var _=this.g.Z();this.X=_;t:if(hx(this)){var N=kx(this.g);u="";var L=N.length,F=zr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Oi(this),Tl(this);var G="";break t}this.h.i=new a.TextDecoder}for(g=0;g<L;g++)this.h.h=!0,u+=this.h.i.decode(N[g],{stream:!(F&&g==L-1)});N.length=0,this.h.g+=u,this.C=0,G=this.h.g}else G=this.g.oa();if(this.o=_==200,bk(this.i,this.u,this.A,this.l,this.R,Ut,_),this.o){if(this.T&&!this.K){t:{if(this.g){var We,Pt=this.g;if((We=Pt.g?Pt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(We)){var Oe=We;break t}}Oe=null}if(_=Oe)Uo(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Rp(this,_);else{this.o=!1,this.s=3,et(12),Oi(this),Tl(this);break e}}if(this.P){_=!0;let qn;for(;!this.J&&this.C<G.length;)if(qn=Rk(this,G),qn==bp){Ut==4&&(this.s=4,et(14),_=!1),Uo(this.i,this.l,null,"[Incomplete Response]");break}else if(qn==ux){this.s=4,et(15),Uo(this.i,this.l,G,"[Invalid Chunk]"),_=!1;break}else Uo(this.i,this.l,qn,null),Rp(this,qn);if(hx(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ut!=4||G.length!=0||this.h.h||(this.s=1,et(16),_=!1),this.o=this.o&&_,!_)Uo(this.i,this.l,G,"[Invalid Chunked Response]"),Oi(this),Tl(this);else if(0<G.length&&!this.W){this.W=!0;var Ft=this.j;Ft.g==this&&Ft.ba&&!Ft.M&&(Ft.j.info("Great, no buffering proxy detected. Bytes received: "+G.length),Mp(Ft),Ft.M=!0,et(11))}}else Uo(this.i,this.l,G,null),Rp(this,G);Ut==4&&Oi(this),this.o&&!this.J&&(Ut==4?Fx(this.j,this):(this.o=!1,Lu(this)))}else qk(this.g),_==400&&0<G.indexOf("Unknown SID")?(this.s=3,et(12)):(this.s=0,et(13)),Oi(this),Tl(this)}}}catch{}finally{}};function hx(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Rk(u,g){var _=u.C,N=g.indexOf(`
`,_);return N==-1?bp:(_=Number(g.substring(_,N)),isNaN(_)?ux:(N+=1,N+_>g.length?bp:(g=g.slice(N,N+_),u.C=N+_,g)))}Ts.prototype.cancel=function(){this.J=!0,Oi(this)};function Lu(u){u.S=Date.now()+u.I,fx(u,u.I)}function fx(u,g){if(u.B!=null)throw Error("WatchDog timer not null");u.B=At(m(u.ba,u),g)}function Np(u){u.B&&(a.clearTimeout(u.B),u.B=null)}Ts.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Ck(this.i,this.A),this.L!=2&&(Rt(),et(17)),Oi(this),this.s=2,Tl(this)):fx(this,this.S-u)};function Tl(u){u.j.G==0||u.J||Fx(u.j,u)}function Oi(u){Np(u);var g=u.M;g&&typeof g.ma=="function"&&g.ma(),u.M=null,Ur(u.U),u.g&&(g=u.g,u.g=null,g.abort(),g.ma())}function Rp(u,g){try{var _=u.j;if(_.G!=0&&(_.g==u||Ap(_.h,u))){if(!u.K&&Ap(_.h,u)&&_.G==3){try{var N=_.Da.g.parse(g)}catch{N=null}if(Array.isArray(N)&&N.length==3){var L=N;if(L[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<u.F)qu(_),Hu(_);else break e;Dp(_),et(18)}}else _.za=L[1],0<_.za-_.T&&37500>L[2]&&_.F&&_.v==0&&!_.C&&(_.C=At(m(_.Za,_),6e3));if(1>=gx(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Vi(_,11)}else if((u.K||_.g==u)&&qu(_),!w(g))for(L=_.Da.g.parse(g),g=0;g<L.length;g++){let Oe=L[g];if(_.T=Oe[0],Oe=Oe[1],_.G==2)if(Oe[0]=="c"){_.K=Oe[1],_.ia=Oe[2];const Ft=Oe[3];Ft!=null&&(_.la=Ft,_.j.info("VER="+_.la));const Ut=Oe[4];Ut!=null&&(_.Aa=Ut,_.j.info("SVER="+_.Aa));const zo=Oe[5];zo!=null&&typeof zo=="number"&&0<zo&&(N=1.5*zo,_.L=N,_.j.info("backChannelRequestTimeoutMs_="+N)),N=_;const qn=u.g;if(qn){const Gu=qn.g?qn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Gu){var F=N.h;F.g||Gu.indexOf("spdy")==-1&&Gu.indexOf("quic")==-1&&Gu.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(Pp(F,F.h),F.h=null))}if(N.D){const Op=qn.g?qn.g.getResponseHeader("X-HTTP-Session-Id"):null;Op&&(N.ya=Op,Ye(N.I,N.D,Op))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-u.F,_.j.info("Handshake RTT: "+_.R+"ms")),N=_;var G=u;if(N.qa=Bx(N,N.J?N.ia:null,N.W),G.K){yx(N.h,G);var We=G,Pt=N.L;Pt&&(We.I=Pt),We.B&&(Np(We),Lu(We)),N.g=G}else Lx(N);0<_.i.length&&Wu(_)}else Oe[0]!="stop"&&Oe[0]!="close"||Vi(_,7);else _.G==3&&(Oe[0]=="stop"||Oe[0]=="close"?Oe[0]=="stop"?Vi(_,7):jp(_):Oe[0]!="noop"&&_.l&&_.l.ta(Oe),_.v=0)}}Rt(4)}catch{}}var Ak=class{constructor(u,g){this.g=u,this.map=g}};function px(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function mx(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function gx(u){return u.h?1:u.g?u.g.size:0}function Ap(u,g){return u.h?u.h==g:u.g?u.g.has(g):!1}function Pp(u,g){u.g?u.g.add(g):u.h=g}function yx(u,g){u.h&&u.h==g?u.h=null:u.g&&u.g.has(g)&&u.g.delete(g)}px.prototype.cancel=function(){if(this.i=vx(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function vx(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let g=u.i;for(const _ of u.g.values())g=g.concat(_.D);return g}return v(u.i)}function Pk(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(c(u)){for(var g=[],_=u.length,N=0;N<_;N++)g.push(u[N]);return g}g=[],_=0;for(N in u)g[_++]=u[N];return g}function kk(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(c(u)||typeof u=="string"){var g=[];u=u.length;for(var _=0;_<u;_++)g.push(_);return g}g=[],_=0;for(const N in u)g[_++]=N;return g}}}function wx(u,g){if(u.forEach&&typeof u.forEach=="function")u.forEach(g,void 0);else if(c(u)||typeof u=="string")Array.prototype.forEach.call(u,g,void 0);else for(var _=kk(u),N=Pk(u),L=N.length,F=0;F<L;F++)g.call(void 0,N[F],_&&_[F],u)}var xx=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function jk(u,g){if(u){u=u.split("&");for(var _=0;_<u.length;_++){var N=u[_].indexOf("="),L=null;if(0<=N){var F=u[_].substring(0,N);L=u[_].substring(N+1)}else F=u[_];g(F,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function Li(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Li){this.h=u.h,Vu(this,u.j),this.o=u.o,this.g=u.g,Fu(this,u.s),this.l=u.l;var g=u.i,_=new bl;_.i=g.i,g.g&&(_.g=new Map(g.g),_.h=g.h),_x(this,_),this.m=u.m}else u&&(g=String(u).match(xx))?(this.h=!1,Vu(this,g[1]||"",!0),this.o=Sl(g[2]||""),this.g=Sl(g[3]||"",!0),Fu(this,g[4]),this.l=Sl(g[5]||"",!0),_x(this,g[6]||"",!0),this.m=Sl(g[7]||"")):(this.h=!1,this.i=new bl(null,this.h))}Li.prototype.toString=function(){var u=[],g=this.j;g&&u.push(Il(g,Ex,!0),":");var _=this.g;return(_||g=="file")&&(u.push("//"),(g=this.o)&&u.push(Il(g,Ex,!0),"@"),u.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&u.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(Il(_,_.charAt(0)=="/"?Ok:Mk,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",Il(_,Vk)),u.join("")};function Br(u){return new Li(u)}function Vu(u,g,_){u.j=_?Sl(g,!0):g,u.j&&(u.j=u.j.replace(/:$/,""))}function Fu(u,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);u.s=g}else u.s=null}function _x(u,g,_){g instanceof bl?(u.i=g,Fk(u.i,u.h)):(_||(g=Il(g,Lk)),u.i=new bl(g,u.h))}function Ye(u,g,_){u.i.set(g,_)}function Uu(u){return Ye(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Sl(u,g){return u?g?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Il(u,g,_){return typeof u=="string"?(u=encodeURI(u).replace(g,Dk),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Dk(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Ex=/[#\/\?@]/g,Mk=/[#\?:]/g,Ok=/[#\?]/g,Lk=/[#\?@]/g,Vk=/#/g;function bl(u,g){this.h=this.g=null,this.i=u||null,this.j=!!g}function Ss(u){u.g||(u.g=new Map,u.h=0,u.i&&jk(u.i,function(g,_){u.add(decodeURIComponent(g.replace(/\+/g," ")),_)}))}t=bl.prototype,t.add=function(u,g){Ss(this),this.i=null,u=$o(this,u);var _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(g),this.h+=1,this};function Tx(u,g){Ss(u),g=$o(u,g),u.g.has(g)&&(u.i=null,u.h-=u.g.get(g).length,u.g.delete(g))}function Sx(u,g){return Ss(u),g=$o(u,g),u.g.has(g)}t.forEach=function(u,g){Ss(this),this.g.forEach(function(_,N){_.forEach(function(L){u.call(g,L,N,this)},this)},this)},t.na=function(){Ss(this);const u=Array.from(this.g.values()),g=Array.from(this.g.keys()),_=[];for(let N=0;N<g.length;N++){const L=u[N];for(let F=0;F<L.length;F++)_.push(g[N])}return _},t.V=function(u){Ss(this);let g=[];if(typeof u=="string")Sx(this,u)&&(g=g.concat(this.g.get($o(this,u))));else{u=Array.from(this.g.values());for(let _=0;_<u.length;_++)g=g.concat(u[_])}return g},t.set=function(u,g){return Ss(this),this.i=null,u=$o(this,u),Sx(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[g]),this.h+=1,this},t.get=function(u,g){return u?(u=this.V(u),0<u.length?String(u[0]):g):g};function Ix(u,g,_){Tx(u,g),0<_.length&&(u.i=null,u.g.set($o(u,g),v(_)),u.h+=_.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],g=Array.from(this.g.keys());for(var _=0;_<g.length;_++){var N=g[_];const F=encodeURIComponent(String(N)),G=this.V(N);for(N=0;N<G.length;N++){var L=F;G[N]!==""&&(L+="="+encodeURIComponent(String(G[N]))),u.push(L)}}return this.i=u.join("&")};function $o(u,g){return g=String(g),u.j&&(g=g.toLowerCase()),g}function Fk(u,g){g&&!u.j&&(Ss(u),u.i=null,u.g.forEach(function(_,N){var L=N.toLowerCase();N!=L&&(Tx(this,N),Ix(this,L,_))},u)),u.j=g}function Uk(u,g){const _=new cn;if(a.Image){const N=new Image;N.onload=p(Is,_,"TestLoadImage: loaded",!0,g,N),N.onerror=p(Is,_,"TestLoadImage: error",!1,g,N),N.onabort=p(Is,_,"TestLoadImage: abort",!1,g,N),N.ontimeout=p(Is,_,"TestLoadImage: timeout",!1,g,N),a.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=u}else g(!1)}function $k(u,g){const _=new cn,N=new AbortController,L=setTimeout(()=>{N.abort(),Is(_,"TestPingServer: timeout",!1,g)},1e4);fetch(u,{signal:N.signal}).then(F=>{clearTimeout(L),F.ok?Is(_,"TestPingServer: ok",!0,g):Is(_,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(L),Is(_,"TestPingServer: error",!1,g)})}function Is(u,g,_,N,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),N(_)}catch{}}function Bk(){this.g=new Sp}function zk(u,g,_){const N=_||"";try{wx(u,function(L,F){let G=L;d(L)&&(G=Fo(L)),g.push(N+F+"="+encodeURIComponent(G))})}catch(L){throw g.push(N+"type="+encodeURIComponent("_badmap")),L}}function $u(u){this.l=u.Ub||null,this.j=u.eb||!1}I($u,xl),$u.prototype.g=function(){return new Bu(this.l,this.j)},$u.prototype.i=function(u){return function(){return u}}({});function Bu(u,g){$e.call(this),this.D=u,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}I(Bu,$e),t=Bu.prototype,t.open=function(u,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=g,this.readyState=1,Nl(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(g.body=u),(this.D||a).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Cl(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Nl(this)),this.g&&(this.readyState=3,Nl(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;bx(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function bx(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var g=u.value?u.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!u.done}))&&(this.response=this.responseText+=g)}u.done?Cl(this):Nl(this),this.readyState==3&&bx(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,Cl(this))},t.Qa=function(u){this.g&&(this.response=u,Cl(this))},t.ga=function(){this.g&&Cl(this)};function Cl(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Nl(u)}t.setRequestHeader=function(u,g){this.u.append(u,g)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],g=this.h.entries();for(var _=g.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=g.next();return u.join(`\r
`)};function Nl(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Bu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Cx(u){let g="";return M(u,function(_,N){g+=N,g+=":",g+=_,g+=`\r
`}),g}function kp(u,g,_){e:{for(N in _){var N=!1;break e}N=!0}N||(_=Cx(_),typeof u=="string"?_!=null&&encodeURIComponent(String(_)):Ye(u,g,_))}function at(u){$e.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}I(at,$e);var Hk=/^https?$/i,Wk=["POST","PUT"];t=at.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,g,_,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);g=g?g.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ip.g(),this.v=this.o?_l(this.o):_l(Ip),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(g,String(u),!0),this.B=!1}catch(F){Nx(this,F);return}if(u=_||"",_=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var L in N)_.set(L,N[L]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const F of N.keys())_.set(F,N.get(F));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(_.keys()).find(F=>F.toLowerCase()=="content-type"),L=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Wk,g,void 0))||N||L||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,G]of _)this.g.setRequestHeader(F,G);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Px(this),this.u=!0,this.g.send(u),this.u=!1}catch(F){Nx(this,F)}};function Nx(u,g){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=g,u.m=5,Rx(u),zu(u)}function Rx(u){u.A||(u.A=!0,ot(u,"complete"),ot(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,ot(this,"complete"),ot(this,"abort"),zu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),zu(this,!0)),at.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Ax(this):this.bb())},t.bb=function(){Ax(this)};function Ax(u){if(u.h&&typeof o<"u"&&(!u.v[1]||zr(u)!=4||u.Z()!=2)){if(u.u&&zr(u)==4)Du(u.Ea,0,u);else if(ot(u,"readystatechange"),zr(u)==4){u.h=!1;try{const G=u.Z();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var _;if(!(_=g)){var N;if(N=G===0){var L=String(u.D).match(xx)[1]||null;!L&&a.self&&a.self.location&&(L=a.self.location.protocol.slice(0,-1)),N=!Hk.test(L?L.toLowerCase():"")}_=N}if(_)ot(u,"complete"),ot(u,"success");else{u.m=6;try{var F=2<zr(u)?u.g.statusText:""}catch{F=""}u.l=F+" ["+u.Z()+"]",Rx(u)}}finally{zu(u)}}}}function zu(u,g){if(u.g){Px(u);const _=u.g,N=u.v[0]?()=>{}:null;u.g=null,u.v=null,g||ot(u,"ready");try{_.onreadystatechange=N}catch{}}}function Px(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function zr(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<zr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var g=this.g.responseText;return u&&g.indexOf(u)==0&&(g=g.substring(u.length)),Es(g)}};function kx(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function qk(u){const g={};u=(u.g&&2<=zr(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<u.length;N++){if(w(u[N]))continue;var _=k(u[N]);const L=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const F=g[L]||[];g[L]=F,F.push(_)}b(g,function(N){return N.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Rl(u,g,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||g}function jx(u){this.Aa=0,this.i=[],this.j=new cn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Rl("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Rl("baseRetryDelayMs",5e3,u),this.cb=Rl("retryDelaySeedMs",1e4,u),this.Wa=Rl("forwardChannelMaxRetries",2,u),this.wa=Rl("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new px(u&&u.concurrentRequestLimit),this.Da=new Bk,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=jx.prototype,t.la=8,t.G=1,t.connect=function(u,g,_,N){et(0),this.W=u,this.H=g||{},_&&N!==void 0&&(this.H.OSID=_,this.H.OAID=N),this.F=this.X,this.I=Bx(this,null,this.W),Wu(this)};function jp(u){if(Dx(u),u.G==3){var g=u.U++,_=Br(u.I);if(Ye(_,"SID",u.K),Ye(_,"RID",g),Ye(_,"TYPE","terminate"),Al(u,_),g=new Ts(u,u.j,g),g.L=2,g.v=Uu(Br(_)),_=!1,a.navigator&&a.navigator.sendBeacon)try{_=a.navigator.sendBeacon(g.v.toString(),"")}catch{}!_&&a.Image&&(new Image().src=g.v,_=!0),_||(g.g=zx(g.j,null),g.g.ea(g.v)),g.F=Date.now(),Lu(g)}$x(u)}function Hu(u){u.g&&(Mp(u),u.g.cancel(),u.g=null)}function Dx(u){Hu(u),u.u&&(a.clearTimeout(u.u),u.u=null),qu(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function Wu(u){if(!mx(u.h)&&!u.s){u.s=!0;var g=u.Ga;re||H(),V||(re(),V=!0),O.add(g,u),u.B=0}}function Kk(u,g){return gx(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=g.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=At(m(u.Ga,u,g),Ux(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const L=new Ts(this,this.j,u);let F=this.o;if(this.S&&(F?(F=S(F),R(F,this.S)):F=this.S),this.m!==null||this.O||(L.H=F,F=null),this.P)e:{for(var g=0,_=0;_<this.i.length;_++){t:{var N=this.i[_];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break t}N=void 0}if(N===void 0)break;if(g+=N,4096<g){g=_;break e}if(g===4096||_===this.i.length-1){g=_+1;break e}}g=1e3}else g=1e3;g=Ox(this,L,g),_=Br(this.I),Ye(_,"RID",u),Ye(_,"CVER",22),this.D&&Ye(_,"X-HTTP-Session-Id",this.D),Al(this,_),F&&(this.O?g="headers="+encodeURIComponent(String(Cx(F)))+"&"+g:this.m&&kp(_,this.m,F)),Pp(this.h,L),this.Ua&&Ye(_,"TYPE","init"),this.P?(Ye(_,"$req",g),Ye(_,"SID","null"),L.T=!0,Cp(L,_,null)):Cp(L,_,g),this.G=2}}else this.G==3&&(u?Mx(this,u):this.i.length==0||mx(this.h)||Mx(this))};function Mx(u,g){var _;g?_=g.l:_=u.U++;const N=Br(u.I);Ye(N,"SID",u.K),Ye(N,"RID",_),Ye(N,"AID",u.T),Al(u,N),u.m&&u.o&&kp(N,u.m,u.o),_=new Ts(u,u.j,_,u.B+1),u.m===null&&(_.H=u.o),g&&(u.i=g.D.concat(u.i)),g=Ox(u,_,1e3),_.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Pp(u.h,_),Cp(_,N,g)}function Al(u,g){u.H&&M(u.H,function(_,N){Ye(g,N,_)}),u.l&&wx({},function(_,N){Ye(g,N,_)})}function Ox(u,g,_){_=Math.min(u.i.length,_);var N=u.l?m(u.l.Na,u.l,u):null;e:{var L=u.i;let F=-1;for(;;){const G=["count="+_];F==-1?0<_?(F=L[0].g,G.push("ofs="+F)):F=0:G.push("ofs="+F);let We=!0;for(let Pt=0;Pt<_;Pt++){let Oe=L[Pt].g;const Ft=L[Pt].map;if(Oe-=F,0>Oe)F=Math.max(0,L[Pt].g-100),We=!1;else try{zk(Ft,G,"req"+Oe+"_")}catch{N&&N(Ft)}}if(We){N=G.join("&");break e}}}return u=u.i.splice(0,_),g.D=u,N}function Lx(u){if(!u.g&&!u.u){u.Y=1;var g=u.Fa;re||H(),V||(re(),V=!0),O.add(g,u),u.v=0}}function Dp(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=At(m(u.Fa,u),Ux(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,Vx(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=At(m(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,et(10),Hu(this),Vx(this))};function Mp(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function Vx(u){u.g=new Ts(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var g=Br(u.qa);Ye(g,"RID","rpc"),Ye(g,"SID",u.K),Ye(g,"AID",u.T),Ye(g,"CI",u.F?"0":"1"),!u.F&&u.ja&&Ye(g,"TO",u.ja),Ye(g,"TYPE","xmlhttp"),Al(u,g),u.m&&u.o&&kp(g,u.m,u.o),u.L&&(u.g.I=u.L);var _=u.g;u=u.ia,_.L=1,_.v=Uu(Br(g)),_.m=null,_.P=!0,dx(_,u)}t.Za=function(){this.C!=null&&(this.C=null,Hu(this),Dp(this),et(19))};function qu(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function Fx(u,g){var _=null;if(u.g==g){qu(u),Mp(u),u.g=null;var N=2}else if(Ap(u.h,g))_=g.D,yx(u.h,g),N=1;else return;if(u.G!=0){if(g.o)if(N==1){_=g.m?g.m.length:0,g=Date.now()-g.F;var L=u.B;N=De(),ot(N,new gr(N,_)),Wu(u)}else Lx(u);else if(L=g.s,L==3||L==0&&0<g.X||!(N==1&&Kk(u,g)||N==2&&Dp(u)))switch(_&&0<_.length&&(g=u.h,g.i=g.i.concat(_)),L){case 1:Vi(u,5);break;case 4:Vi(u,10);break;case 3:Vi(u,6);break;default:Vi(u,2)}}}function Ux(u,g){let _=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(_*=2),_*g}function Vi(u,g){if(u.j.info("Error code "+g),g==2){var _=m(u.fb,u),N=u.Xa;const L=!N;N=new Li(N||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Vu(N,"https"),Uu(N),L?Uk(N.toString(),_):$k(N.toString(),_)}else et(2);u.G=0,u.l&&u.l.sa(g),$x(u),Dx(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),et(2)):(this.j.info("Failed to ping google.com"),et(1))};function $x(u){if(u.G=0,u.ka=[],u.l){const g=vx(u.h);(g.length!=0||u.i.length!=0)&&(x(u.ka,g),x(u.ka,u.i),u.h.i.length=0,v(u.i),u.i.length=0),u.l.ra()}}function Bx(u,g,_){var N=_ instanceof Li?Br(_):new Li(_);if(N.g!="")g&&(N.g=g+"."+N.g),Fu(N,N.s);else{var L=a.location;N=L.protocol,g=g?g+"."+L.hostname:L.hostname,L=+L.port;var F=new Li(null);N&&Vu(F,N),g&&(F.g=g),L&&Fu(F,L),_&&(F.l=_),N=F}return _=u.D,g=u.ya,_&&g&&Ye(N,_,g),Ye(N,"VER",u.la),Al(u,N),N}function zx(u,g,_){if(g&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=u.Ca&&!u.pa?new at(new $u({eb:_})):new at(u.pa),g.Ha(u.J),g}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Hx(){}t=Hx.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ku(){}Ku.prototype.g=function(u,g){return new yn(u,g)};function yn(u,g){$e.call(this),this.g=new jx(g),this.l=u,this.h=g&&g.messageUrlParams||null,u=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(u?u["X-WebChannel-Content-Type"]=g.messageContentType:u={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(u?u["X-WebChannel-Client-Profile"]=g.va:u={"X-WebChannel-Client-Profile":g.va}),this.g.S=u,(u=g&&g.Sb)&&!w(u)&&(this.g.m=u),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!w(g)&&(this.g.D=g,u=this.h,u!==null&&g in u&&(u=this.h,g in u&&delete u[g])),this.j=new Bo(this)}I(yn,$e),yn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},yn.prototype.close=function(){jp(this.g)},yn.prototype.o=function(u){var g=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.u&&(_={},_.__data__=Fo(u),u=_);g.i.push(new Ak(g.Ya++,u)),g.G==3&&Wu(g)},yn.prototype.N=function(){this.g.l=null,delete this.j,jp(this.g),delete this.g,yn.aa.N.call(this)};function Wx(u){Mi.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var g=u.__sm__;if(g){e:{for(const _ in g){u=_;break e}u=void 0}(this.i=u)&&(u=this.i,g=g!==null&&u in g?g[u]:void 0),this.data=g}else this.data=u}I(Wx,Mi);function qx(){An.call(this),this.status=1}I(qx,An);function Bo(u){this.g=u}I(Bo,Hx),Bo.prototype.ua=function(){ot(this.g,"a")},Bo.prototype.ta=function(u){ot(this.g,new Wx(u))},Bo.prototype.sa=function(u){ot(this.g,new qx)},Bo.prototype.ra=function(){ot(this.g,"b")},Ku.prototype.createWebChannel=Ku.prototype.g,yn.prototype.send=yn.prototype.o,yn.prototype.open=yn.prototype.m,yn.prototype.close=yn.prototype.close,rC=function(){return new Ku},nC=function(){return De()},tC=$r,Zg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Mu.NO_ERROR=0,Mu.TIMEOUT=8,Mu.HTTP_ERROR=6,Hd=Mu,lx.COMPLETE="complete",eC=lx,El.EventType=Di,Di.OPEN="a",Di.CLOSE="b",Di.ERROR="c",Di.MESSAGE="d",$e.prototype.listen=$e.prototype.K,Kl=El,at.prototype.listenOnce=at.prototype.L,at.prototype.getLastError=at.prototype.Ka,at.prototype.getLastErrorCode=at.prototype.Ba,at.prototype.getStatus=at.prototype.Z,at.prototype.getResponseJson=at.prototype.Oa,at.prototype.getResponseText=at.prototype.oa,at.prototype.send=at.prototype.ea,at.prototype.setWithCredentials=at.prototype.Ha,Zb=at}).apply(typeof vd<"u"?vd:typeof self<"u"?self:typeof window<"u"?window:{});const nE="@firebase/firestore",rE="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}qt.UNAUTHENTICATED=new qt(null),qt.GOOGLE_CREDENTIALS=new qt("google-credentials-uid"),qt.FIRST_PARTY=new qt("first-party-uid"),qt.MOCK_USER=new qt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hl="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const po=new Jv("@firebase/firestore");function Go(){return po.logLevel}function Z(t,...e){if(po.logLevel<=Ie.DEBUG){const n=e.map(tw);po.debug(`Firestore (${hl}): ${t}`,...n)}}function ps(t,...e){if(po.logLevel<=Ie.ERROR){const n=e.map(tw);po.error(`Firestore (${hl}): ${t}`,...n)}}function mo(t,...e){if(po.logLevel<=Ie.WARN){const n=e.map(tw);po.warn(`Firestore (${hl}): ${t}`,...n)}}function tw(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ue(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,sC(t,r,n)}function sC(t,e,n){let r=`FIRESTORE (${hl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ps(r),new Error(r)}function Ue(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||sC(e,s,r)}function pe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class J extends ws{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class oC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(qt.UNAUTHENTICATED))}shutdown(){}}class V3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class F3{constructor(e){this.t=e,this.currentUser=qt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ue(this.o===void 0,42304);let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let i=new ss;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new ss,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const c=i;e.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},a=c=>{Z("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?a(c):(Z("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new ss)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Z("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ue(typeof r.accessToken=="string",31837,{l:r}),new iC(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ue(e===null||typeof e=="string",2055,{h:e}),new qt(e)}}class U3{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=qt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class $3{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new U3(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(qt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class sE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class B3{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Mn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ue(this.o===void 0,3512);const r=i=>{i.error!=null&&Z("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,Z("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{Z("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):Z("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new sE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ue(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new sE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z3(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=z3(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function be(t,e){return t<e?-1:t>e?1:0}function ey(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return Tm(s)===Tm(i)?be(s,i):Tm(s)?1:-1}return be(t.length,e.length)}const H3=55296,W3=57343;function Tm(t){const e=t.charCodeAt(0);return e>=H3&&e<=W3}function Wa(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iE="__name__";class wr{constructor(e,n,r){n===void 0?n=0:n>e.length&&ue(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ue(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return wr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof wr?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=wr.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return be(e.length,n.length)}static compareSegments(e,n){const r=wr.isNumericId(e),s=wr.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?wr.extractNumericId(e).compare(wr.extractNumericId(n)):ey(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return li.fromString(e.substring(4,e.length-2))}}class Ke extends wr{construct(e,n,r){return new Ke(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new J($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Ke(n)}static emptyPath(){return new Ke([])}}const q3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class bt extends wr{construct(e,n,r){return new bt(e,n,r)}static isValidIdentifier(e){return q3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),bt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===iE}static keyField(){return new bt([iE])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new J($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new J($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new J($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new J($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new bt(n)}static emptyPath(){return new bt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.path=e}static fromPath(e){return new ie(Ke.fromString(e))}static fromName(e){return new ie(Ke.fromString(e).popFirst(5))}static empty(){return new ie(Ke.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ke.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ke.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ie(new Ke(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aC(t,e,n){if(!n)throw new J($.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function lC(t,e,n,r){if(e===!0&&r===!0)throw new J($.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function oE(t){if(!ie.isDocumentKey(t))throw new J($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function aE(t){if(ie.isDocumentKey(t))throw new J($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function cC(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Mf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ue(12329,{type:typeof t})}function bn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new J($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Mf(t);throw new J($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wt(t,e){const n={typeString:t};return e&&(n.value=e),n}function vu(t,e){if(!cC(t))throw new J($.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new J($.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lE=-62135596800,cE=1e6;class Ge{static now(){return Ge.fromMillis(Date.now())}static fromDate(e){return Ge.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*cE);return new Ge(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new J($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new J($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<lE)throw new J($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new J($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/cE}_compareTo(e){return this.seconds===e.seconds?be(this.nanoseconds,e.nanoseconds):be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ge._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(vu(e,Ge._jsonSchema))return new Ge(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-lE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ge._jsonSchemaVersion="firestore/timestamp/1.0",Ge._jsonSchema={type:wt("string",Ge._jsonSchemaVersion),seconds:wt("number"),nanoseconds:wt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{static fromTimestamp(e){return new fe(e)}static min(){return new fe(new Ge(0,0))}static max(){return new fe(new Ge(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qc=-1;function K3(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=fe.fromTimestamp(r===1e9?new Ge(n+1,0):new Ge(n,r));return new mi(s,ie.empty(),e)}function G3(t){return new mi(t.readTime,t.key,qc)}class mi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new mi(fe.min(),ie.empty(),qc)}static max(){return new mi(fe.max(),ie.empty(),qc)}}function Q3(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ie.comparator(t.documentKey,e.documentKey),n!==0?n:be(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class X3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fl(t){if(t.code!==$.FAILED_PRECONDITION||t.message!==Y3)throw t;Z("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ue(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new B((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof B?n:B.resolve(n)}catch(n){return B.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):B.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):B.reject(n)}static resolve(e){return new B((n,r)=>{n(e)})}static reject(e){return new B((n,r)=>{r(e)})}static waitFor(e){return new B((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},c=>r(c))}),o=!0,i===s&&n()})}static or(e){let n=B.resolve(!1);for(const r of e)n=n.next(s=>s?B.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new B((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let c=0;c<i;c++){const d=c;n(e[d]).next(h=>{o[d]=h,++a,a===i&&r(o)},h=>s(h))}})}static doWhile(e,n){return new B((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function J3(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function pl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Of{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Of.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nw=-1;function Lf(t){return t==null}function Mh(t){return t===0&&1/t==-1/0}function Z3(t){return typeof t=="number"&&Number.isInteger(t)&&!Mh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uC="";function e6(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=uE(e)),e=t6(t.get(n),e);return uE(e)}function t6(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case uC:n+="";break;default:n+=i}}return n}function uE(t){return t+uC+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ro(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function dC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(e,n){this.comparator=e,this.root=n||jt.EMPTY}insert(e,n){return new it(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,jt.BLACK,null,null))}remove(e){return new it(this.comparator,this.root.remove(e,this.comparator).copy(null,null,jt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new wd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new wd(this.root,e,this.comparator,!1)}getReverseIterator(){return new wd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new wd(this.root,e,this.comparator,!0)}}class wd{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class jt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??jt.RED,this.left=s??jt.EMPTY,this.right=i??jt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new jt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return jt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return jt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,jt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,jt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ue(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ue(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ue(27949);return e+(this.isRed()?0:1)}}jt.EMPTY=null,jt.RED=!0,jt.BLACK=!1;jt.EMPTY=new class{constructor(){this.size=0}get key(){throw ue(57766)}get value(){throw ue(16141)}get color(){throw ue(16727)}get left(){throw ue(29726)}get right(){throw ue(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new jt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e){this.comparator=e,this.data=new it(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new hE(this.data.getIterator())}getIteratorFrom(e){return new hE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Tt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Tt(this.comparator);return n.data=e,n}}class hE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(e){this.fields=e,e.sort(bt.comparator)}static empty(){return new nr([])}unionWith(e){let n=new Tt(bt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new nr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Wa(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new hC("Invalid base64 string: "+i):i}}(e);return new Nt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new Nt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Nt.EMPTY_BYTE_STRING=new Nt("");const n6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gi(t){if(Ue(!!t,39018),typeof t=="string"){let e=0;const n=n6.exec(t);if(Ue(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ht(t.seconds),nanos:ht(t.nanos)}}function ht(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function yi(t){return typeof t=="string"?Nt.fromBase64String(t):Nt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fC="server_timestamp",pC="__type__",mC="__previous_value__",gC="__local_write_time__";function rw(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[pC])==null?void 0:r.stringValue)===fC}function Vf(t){const e=t.mapValue.fields[mC];return rw(e)?Vf(e):e}function Kc(t){const e=gi(t.mapValue.fields[gC].timestampValue);return new Ge(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r6{constructor(e,n,r,s,i,o,a,c,d,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=d,this.isUsingEmulator=h}}const Oh="(default)";class qa{constructor(e,n){this.projectId=e,this.database=n||Oh}static empty(){return new qa("","")}get isDefaultDatabase(){return this.database===Oh}isEqual(e){return e instanceof qa&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yC="__type__",vC="__max__",xd={mapValue:{fields:{__type__:{stringValue:vC}}}},wC="__vector__",Lh="value";function vi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?rw(t)?4:i6(t)?9007199254740991:s6(t)?10:11:ue(28295,{value:t})}function Dr(t,e){if(t===e)return!0;const n=vi(t);if(n!==vi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Kc(t).isEqual(Kc(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=gi(s.timestampValue),a=gi(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return yi(s.bytesValue).isEqual(yi(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return ht(s.geoPointValue.latitude)===ht(i.geoPointValue.latitude)&&ht(s.geoPointValue.longitude)===ht(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return ht(s.integerValue)===ht(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=ht(s.doubleValue),a=ht(i.doubleValue);return o===a?Mh(o)===Mh(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Wa(t.arrayValue.values||[],e.arrayValue.values||[],Dr);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(dE(o)!==dE(a))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!Dr(o[c],a[c])))return!1;return!0}(t,e);default:return ue(52216,{left:t})}}function Gc(t,e){return(t.values||[]).find(n=>Dr(n,e))!==void 0}function Ka(t,e){if(t===e)return 0;const n=vi(t),r=vi(e);if(n!==r)return be(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return be(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=ht(i.integerValue||i.doubleValue),c=ht(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return fE(t.timestampValue,e.timestampValue);case 4:return fE(Kc(t),Kc(e));case 5:return ey(t.stringValue,e.stringValue);case 6:return function(i,o){const a=yi(i),c=yi(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),c=o.split("/");for(let d=0;d<a.length&&d<c.length;d++){const h=be(a[d],c[d]);if(h!==0)return h}return be(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=be(ht(i.latitude),ht(o.latitude));return a!==0?a:be(ht(i.longitude),ht(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return pE(t.arrayValue,e.arrayValue);case 10:return function(i,o){var m,p,I,v;const a=i.fields||{},c=o.fields||{},d=(m=a[Lh])==null?void 0:m.arrayValue,h=(p=c[Lh])==null?void 0:p.arrayValue,f=be(((I=d==null?void 0:d.values)==null?void 0:I.length)||0,((v=h==null?void 0:h.values)==null?void 0:v.length)||0);return f!==0?f:pE(d,h)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===xd.mapValue&&o===xd.mapValue)return 0;if(i===xd.mapValue)return 1;if(o===xd.mapValue)return-1;const a=i.fields||{},c=Object.keys(a),d=o.fields||{},h=Object.keys(d);c.sort(),h.sort();for(let f=0;f<c.length&&f<h.length;++f){const m=ey(c[f],h[f]);if(m!==0)return m;const p=Ka(a[c[f]],d[h[f]]);if(p!==0)return p}return be(c.length,h.length)}(t.mapValue,e.mapValue);default:throw ue(23264,{he:n})}}function fE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return be(t,e);const n=gi(t),r=gi(e),s=be(n.seconds,r.seconds);return s!==0?s:be(n.nanos,r.nanos)}function pE(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Ka(n[s],r[s]);if(i)return i}return be(n.length,r.length)}function Ga(t){return ty(t)}function ty(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=gi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return yi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ie.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=ty(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${ty(n.fields[o])}`;return s+"}"}(t.mapValue):ue(61005,{value:t})}function Wd(t){switch(vi(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Vf(t);return e?16+Wd(e):16;case 5:return 2*t.stringValue.length;case 6:return yi(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+Wd(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return Ro(r.fields,(i,o)=>{s+=i.length+Wd(o)}),s}(t.mapValue);default:throw ue(13486,{value:t})}}function mE(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function ny(t){return!!t&&"integerValue"in t}function sw(t){return!!t&&"arrayValue"in t}function gE(t){return!!t&&"nullValue"in t}function yE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function qd(t){return!!t&&"mapValue"in t}function s6(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[yC])==null?void 0:r.stringValue)===wC}function hc(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Ro(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=hc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=hc(t.arrayValue.values[n]);return e}return{...t}}function i6(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===vC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this.value=e}static empty(){return new On({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!qd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=hc(n)}setAll(e){let n=bt.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=hc(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());qd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Dr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];qd(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Ro(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new On(hc(this.value))}}function xC(t){const e=[];return Ro(t.fields,(n,r)=>{const s=new bt([n]);if(qd(r)){const i=xC(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new nr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Gt(e,0,fe.min(),fe.min(),fe.min(),On.empty(),0)}static newFoundDocument(e,n,r,s){return new Gt(e,1,n,fe.min(),r,s,0)}static newNoDocument(e,n){return new Gt(e,2,n,fe.min(),fe.min(),On.empty(),0)}static newUnknownDocument(e,n){return new Gt(e,3,n,fe.min(),fe.min(),On.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(fe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=On.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=On.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=fe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Gt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Gt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(e,n){this.position=e,this.inclusive=n}}function vE(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=ie.comparator(ie.fromName(o.referenceValue),n.key):r=Ka(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function wE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Dr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(e,n="asc"){this.field=e,this.dir=n}}function o6(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{}class vt extends _C{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new l6(e,n,r):n==="array-contains"?new d6(e,r):n==="in"?new h6(e,r):n==="not-in"?new f6(e,r):n==="array-contains-any"?new p6(e,r):new vt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new c6(e,r):new u6(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ka(n,this.value)):n!==null&&vi(this.value)===vi(n)&&this.matchesComparison(Ka(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ue(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class hr extends _C{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new hr(e,n)}matches(e){return EC(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function EC(t){return t.op==="and"}function TC(t){return a6(t)&&EC(t)}function a6(t){for(const e of t.filters)if(e instanceof hr)return!1;return!0}function ry(t){if(t instanceof vt)return t.field.canonicalString()+t.op.toString()+Ga(t.value);if(TC(t))return t.filters.map(e=>ry(e)).join(",");{const e=t.filters.map(n=>ry(n)).join(",");return`${t.op}(${e})`}}function SC(t,e){return t instanceof vt?function(r,s){return s instanceof vt&&r.op===s.op&&r.field.isEqual(s.field)&&Dr(r.value,s.value)}(t,e):t instanceof hr?function(r,s){return s instanceof hr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&SC(o,s.filters[a]),!0):!1}(t,e):void ue(19439)}function IC(t){return t instanceof vt?function(n){return`${n.field.canonicalString()} ${n.op} ${Ga(n.value)}`}(t):t instanceof hr?function(n){return n.op.toString()+" {"+n.getFilters().map(IC).join(" ,")+"}"}(t):"Filter"}class l6 extends vt{constructor(e,n,r){super(e,n,r),this.key=ie.fromName(r.referenceValue)}matches(e){const n=ie.comparator(e.key,this.key);return this.matchesComparison(n)}}class c6 extends vt{constructor(e,n){super(e,"in",n),this.keys=bC("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class u6 extends vt{constructor(e,n){super(e,"not-in",n),this.keys=bC("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function bC(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>ie.fromName(r.referenceValue))}class d6 extends vt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return sw(n)&&Gc(n.arrayValue,this.value)}}class h6 extends vt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Gc(this.value.arrayValue,n)}}class f6 extends vt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Gc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Gc(this.value.arrayValue,n)}}class p6 extends vt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!sw(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Gc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m6{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.Te=null}}function xE(t,e=null,n=[],r=[],s=null,i=null,o=null){return new m6(t,e,n,r,s,i,o)}function iw(t){const e=pe(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>ry(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Lf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ga(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ga(r)).join(",")),e.Te=n}return e.Te}function ow(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!o6(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!SC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!wE(t.startAt,e.startAt)&&wE(t.endAt,e.endAt)}function sy(t){return ie.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function g6(t,e,n,r,s,i,o,a){return new ml(t,e,n,r,s,i,o,a)}function Ff(t){return new ml(t)}function _E(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function CC(t){return t.collectionGroup!==null}function fc(t){const e=pe(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Tt(bt.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(d=>{d.isInequality()&&(a=a.add(d.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new Qc(i,r))}),n.has(bt.keyField().canonicalString())||e.Ie.push(new Qc(bt.keyField(),r))}return e.Ie}function Rr(t){const e=pe(t);return e.Ee||(e.Ee=y6(e,fc(t))),e.Ee}function y6(t,e){if(t.limitType==="F")return xE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Qc(s.field,i)});const n=t.endAt?new Vh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Vh(t.startAt.position,t.startAt.inclusive):null;return xE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function iy(t,e){const n=t.filters.concat([e]);return new ml(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Fh(t,e,n){return new ml(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Uf(t,e){return ow(Rr(t),Rr(e))&&t.limitType===e.limitType}function NC(t){return`${iw(Rr(t))}|lt:${t.limitType}`}function Qo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>IC(s)).join(", ")}]`),Lf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Ga(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Ga(s)).join(",")),`Target(${r})`}(Rr(t))}; limitType=${t.limitType})`}function $f(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):ie.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of fc(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,c){const d=vE(o,a,c);return o.inclusive?d<=0:d<0}(r.startAt,fc(r),s)||r.endAt&&!function(o,a,c){const d=vE(o,a,c);return o.inclusive?d>=0:d>0}(r.endAt,fc(r),s))}(t,e)}function v6(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function RC(t){return(e,n)=>{let r=!1;for(const s of fc(t)){const i=w6(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function w6(t,e,n){const r=t.field.isKeyField()?ie.comparator(e.key,n.key):function(i,o,a){const c=o.data.field(i),d=a.data.field(i);return c!==null&&d!==null?Ka(c,d):ue(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ue(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Ro(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return dC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x6=new it(ie.comparator);function ms(){return x6}const AC=new it(ie.comparator);function Gl(...t){let e=AC;for(const n of t)e=e.insert(n.key,n);return e}function PC(t){let e=AC;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function qi(){return pc()}function kC(){return pc()}function pc(){return new Ao(t=>t.toString(),(t,e)=>t.isEqual(e))}const _6=new it(ie.comparator),E6=new Tt(ie.comparator);function Ne(...t){let e=E6;for(const n of t)e=e.add(n);return e}const T6=new Tt(be);function S6(){return T6}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aw(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Mh(e)?"-0":e}}function jC(t){return{integerValue:""+t}}function I6(t,e){return Z3(e)?jC(e):aw(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bf{constructor(){this._=void 0}}function b6(t,e,n){return t instanceof Yc?function(s,i){const o={fields:{[pC]:{stringValue:fC},[gC]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&rw(i)&&(i=Vf(i)),i&&(o.fields[mC]=i),{mapValue:o}}(n,e):t instanceof Xc?MC(t,e):t instanceof Jc?OC(t,e):function(s,i){const o=DC(s,i),a=EE(o)+EE(s.Ae);return ny(o)&&ny(s.Ae)?jC(a):aw(s.serializer,a)}(t,e)}function C6(t,e,n){return t instanceof Xc?MC(t,e):t instanceof Jc?OC(t,e):n}function DC(t,e){return t instanceof Uh?function(r){return ny(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Yc extends Bf{}class Xc extends Bf{constructor(e){super(),this.elements=e}}function MC(t,e){const n=LC(e);for(const r of t.elements)n.some(s=>Dr(s,r))||n.push(r);return{arrayValue:{values:n}}}class Jc extends Bf{constructor(e){super(),this.elements=e}}function OC(t,e){let n=LC(e);for(const r of t.elements)n=n.filter(s=>!Dr(s,r));return{arrayValue:{values:n}}}class Uh extends Bf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function EE(t){return ht(t.integerValue||t.doubleValue)}function LC(t){return sw(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N6{constructor(e,n){this.field=e,this.transform=n}}function R6(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Xc&&s instanceof Xc||r instanceof Jc&&s instanceof Jc?Wa(r.elements,s.elements,Dr):r instanceof Uh&&s instanceof Uh?Dr(r.Ae,s.Ae):r instanceof Yc&&s instanceof Yc}(t.transform,e.transform)}class A6{constructor(e,n){this.version=e,this.transformResults=n}}class or{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new or}static exists(e){return new or(void 0,e)}static updateTime(e){return new or(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Kd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class zf{}function VC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new lw(t.key,or.none()):new wu(t.key,t.data,or.none());{const n=t.data,r=On.empty();let s=new Tt(bt.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Po(t.key,r,new nr(s.toArray()),or.none())}}function P6(t,e,n){t instanceof wu?function(s,i,o){const a=s.value.clone(),c=SE(s.fieldTransforms,i,o.transformResults);a.setAll(c),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Po?function(s,i,o){if(!Kd(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=SE(s.fieldTransforms,i,o.transformResults),c=i.data;c.setAll(FC(s)),c.setAll(a),i.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function mc(t,e,n,r){return t instanceof wu?function(i,o,a,c){if(!Kd(i.precondition,o))return a;const d=i.value.clone(),h=IE(i.fieldTransforms,c,o);return d.setAll(h),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof Po?function(i,o,a,c){if(!Kd(i.precondition,o))return a;const d=IE(i.fieldTransforms,c,o),h=o.data;return h.setAll(FC(i)),h.setAll(d),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,o,a){return Kd(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function k6(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=DC(r.transform,s||null);i!=null&&(n===null&&(n=On.empty()),n.set(r.field,i))}return n||null}function TE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Wa(r,s,(i,o)=>R6(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class wu extends zf{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Po extends zf{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function FC(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function SE(t,e,n){const r=new Map;Ue(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,C6(o,a,n[s]))}return r}function IE(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,b6(i,o,e))}return r}class lw extends zf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class j6 extends zf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D6{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&P6(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=mc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=mc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=kC();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const c=VC(o,a);c!==null&&r.set(s.key,c),o.isValidDocument()||o.convertToNoDocument(fe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ne())}isEqual(e){return this.batchId===e.batchId&&Wa(this.mutations,e.mutations,(n,r)=>TE(n,r))&&Wa(this.baseMutations,e.baseMutations,(n,r)=>TE(n,r))}}class cw{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Ue(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=function(){return _6}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new cw(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let M6=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O6{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gt,ke;function L6(t){switch(t){case $.OK:return ue(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return ue(15467,{code:t})}}function UC(t){if(t===void 0)return ps("GRPC error has no .code"),$.UNKNOWN;switch(t){case gt.OK:return $.OK;case gt.CANCELLED:return $.CANCELLED;case gt.UNKNOWN:return $.UNKNOWN;case gt.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case gt.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case gt.INTERNAL:return $.INTERNAL;case gt.UNAVAILABLE:return $.UNAVAILABLE;case gt.UNAUTHENTICATED:return $.UNAUTHENTICATED;case gt.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case gt.NOT_FOUND:return $.NOT_FOUND;case gt.ALREADY_EXISTS:return $.ALREADY_EXISTS;case gt.PERMISSION_DENIED:return $.PERMISSION_DENIED;case gt.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case gt.ABORTED:return $.ABORTED;case gt.OUT_OF_RANGE:return $.OUT_OF_RANGE;case gt.UNIMPLEMENTED:return $.UNIMPLEMENTED;case gt.DATA_LOSS:return $.DATA_LOSS;default:return ue(39323,{code:t})}}(ke=gt||(gt={}))[ke.OK=0]="OK",ke[ke.CANCELLED=1]="CANCELLED",ke[ke.UNKNOWN=2]="UNKNOWN",ke[ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ke[ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ke[ke.NOT_FOUND=5]="NOT_FOUND",ke[ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",ke[ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",ke[ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",ke[ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ke[ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ke[ke.ABORTED=10]="ABORTED",ke[ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",ke[ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",ke[ke.INTERNAL=13]="INTERNAL",ke[ke.UNAVAILABLE=14]="UNAVAILABLE",ke[ke.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V6(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F6=new li([4294967295,4294967295],0);function bE(t){const e=V6().encode(t),n=new Jb;return n.update(e),new Uint8Array(n.digest())}function CE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new li([n,r],0),new li([s,i],0)]}class uw{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ql(`Invalid padding: ${n}`);if(r<0)throw new Ql(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ql(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ql(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=li.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(li.fromNumber(r)));return s.compare(F6)===1&&(s=new li([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=bE(e),[r,s]=CE(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);if(!this.we(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new uw(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.ge===0)return;const n=bE(e),[r,s]=CE(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ql extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,xu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Hf(fe.min(),s,new it(be),ms(),Ne())}}class xu{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new xu(r,n,Ne(),Ne(),Ne())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class $C{constructor(e,n){this.targetId=e,this.Ce=n}}class BC{constructor(e,n,r=Nt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class NE{constructor(){this.ve=0,this.Fe=RE(),this.Me=Nt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ne(),n=Ne(),r=Ne();return this.Fe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:ue(38017,{changeType:i})}}),new xu(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=RE()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ue(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class U6{constructor(e){this.Ge=e,this.ze=new Map,this.je=ms(),this.Je=_d(),this.He=_d(),this.Ye=new it(be)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:ue(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(sy(i))if(r===0){const o=new ie(i.path);this.et(n,o,Gt.newNoDocument(o,fe.min()))}else Ue(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(e),c=a?this.ct(a,e,o):1;if(c!==0){this.it(n);const d=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,d)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=yi(r).toUint8Array()}catch(c){if(c instanceof hC)return mo("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new uw(o,s,i)}catch(c){return mo(c instanceof Ql?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.et(n,i,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((i,o)=>{const a=this.ot(o);if(a){if(i.current&&sy(a.target)){const c=new ie(a.target.path);this.It(c).has(o)||this.Et(o,c)||this.et(o,c,Gt.newNoDocument(c,e))}i.Be&&(n.set(o,i.ke()),i.qe())}});let r=Ne();this.He.forEach((i,o)=>{let a=!0;o.forEachWhile(c=>{const d=this.ot(c);return!d||d.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.je.forEach((i,o)=>o.setReadTime(e));const s=new Hf(e,n,this.Ye,this.je,r);return this.je=ms(),this.Je=_d(),this.He=_d(),this.Ye=new it(be),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new NE,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Tt(be),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Tt(be),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Z("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new NE),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function _d(){return new it(ie.comparator)}function RE(){return new it(ie.comparator)}const $6={asc:"ASCENDING",desc:"DESCENDING"},B6={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},z6={and:"AND",or:"OR"};class H6{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function oy(t,e){return t.useProto3Json||Lf(e)?e:{value:e}}function $h(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function zC(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function W6(t,e){return $h(t,e.toTimestamp())}function Ar(t){return Ue(!!t,49232),fe.fromTimestamp(function(n){const r=gi(n);return new Ge(r.seconds,r.nanos)}(t))}function dw(t,e){return ay(t,e).canonicalString()}function ay(t,e){const n=function(s){return new Ke(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function HC(t){const e=Ke.fromString(t);return Ue(QC(e),10190,{key:e.toString()}),e}function ly(t,e){return dw(t.databaseId,e.path)}function Sm(t,e){const n=HC(e);if(n.get(1)!==t.databaseId.projectId)throw new J($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new J($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ie(qC(n))}function WC(t,e){return dw(t.databaseId,e)}function q6(t){const e=HC(t);return e.length===4?Ke.emptyPath():qC(e)}function cy(t){return new Ke(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function qC(t){return Ue(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function AE(t,e,n){return{name:ly(t,e),fields:n.value.mapValue.fields}}function K6(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:ue(39313,{state:d})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(d,h){return d.useProto3Json?(Ue(h===void 0||typeof h=="string",58123),Nt.fromBase64String(h||"")):(Ue(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Nt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(d){const h=d.code===void 0?$.UNKNOWN:UC(d.code);return new J(h,d.message||"")}(o);n=new BC(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Sm(t,r.document.name),i=Ar(r.document.updateTime),o=r.document.createTime?Ar(r.document.createTime):fe.min(),a=new On({mapValue:{fields:r.document.fields}}),c=Gt.newFoundDocument(s,i,o,a),d=r.targetIds||[],h=r.removedTargetIds||[];n=new Gd(d,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Sm(t,r.document),i=r.readTime?Ar(r.readTime):fe.min(),o=Gt.newNoDocument(s,i),a=r.removedTargetIds||[];n=new Gd([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Sm(t,r.document),i=r.removedTargetIds||[];n=new Gd([],i,s,null)}else{if(!("filter"in e))return ue(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new O6(s,i),a=r.targetId;n=new $C(a,o)}}return n}function G6(t,e){let n;if(e instanceof wu)n={update:AE(t,e.key,e.value)};else if(e instanceof lw)n={delete:ly(t,e.key)};else if(e instanceof Po)n={update:AE(t,e.key,e.data),updateMask:r5(e.fieldMask)};else{if(!(e instanceof j6))return ue(16599,{Vt:e.type});n={verify:ly(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof Yc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Xc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Jc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Uh)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw ue(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:W6(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ue(27497)}(t,e.precondition)),n}function Q6(t,e){return t&&t.length>0?(Ue(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?Ar(s.updateTime):Ar(i);return o.isEqual(fe.min())&&(o=Ar(i)),new A6(o,s.transformResults||[])}(n,e))):[]}function Y6(t,e){return{documents:[WC(t,e.path)]}}function X6(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=WC(t,s);const i=function(d){if(d.length!==0)return GC(hr.create(d,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(d){if(d.length!==0)return d.map(h=>function(m){return{field:Yo(m.field),direction:e5(m.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=oy(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{ft:n,parent:s}}function J6(t){let e=q6(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Ue(r===1,65062);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=function(f){const m=KC(f);return m instanceof hr&&TC(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(m=>function(I){return new Qc(Xo(I.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(f){let m;return m=typeof f=="object"?f.value:f,Lf(m)?null:m}(n.limit));let c=null;n.startAt&&(c=function(f){const m=!!f.before,p=f.values||[];return new Vh(p,m)}(n.startAt));let d=null;return n.endAt&&(d=function(f){const m=!f.before,p=f.values||[];return new Vh(p,m)}(n.endAt)),g6(e,s,o,i,a,"F",c,d)}function Z6(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ue(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function KC(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Xo(n.unaryFilter.field);return vt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Xo(n.unaryFilter.field);return vt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Xo(n.unaryFilter.field);return vt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Xo(n.unaryFilter.field);return vt.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ue(61313);default:return ue(60726)}}(t):t.fieldFilter!==void 0?function(n){return vt.create(Xo(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ue(58110);default:return ue(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return hr.create(n.compositeFilter.filters.map(r=>KC(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ue(1026)}}(n.compositeFilter.op))}(t):ue(30097,{filter:t})}function e5(t){return $6[t]}function t5(t){return B6[t]}function n5(t){return z6[t]}function Yo(t){return{fieldPath:t.canonicalString()}}function Xo(t){return bt.fromServerFormat(t.fieldPath)}function GC(t){return t instanceof vt?function(n){if(n.op==="=="){if(yE(n.value))return{unaryFilter:{field:Yo(n.field),op:"IS_NAN"}};if(gE(n.value))return{unaryFilter:{field:Yo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(yE(n.value))return{unaryFilter:{field:Yo(n.field),op:"IS_NOT_NAN"}};if(gE(n.value))return{unaryFilter:{field:Yo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Yo(n.field),op:t5(n.op),value:n.value}}}(t):t instanceof hr?function(n){const r=n.getFilters().map(s=>GC(s));return r.length===1?r[0]:{compositeFilter:{op:n5(n.op),filters:r}}}(t):ue(54877,{filter:t})}function r5(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function QC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(e,n,r,s,i=fe.min(),o=fe.min(),a=Nt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new Gs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Gs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Gs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Gs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s5{constructor(e){this.yt=e}}function i5(t){const e=J6({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Fh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o5{constructor(){this.Cn=new a5}addToCollectionParentIndex(e,n){return this.Cn.add(n),B.resolve()}getCollectionParents(e,n){return B.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return B.resolve()}deleteFieldIndex(e,n){return B.resolve()}deleteAllFieldIndexes(e){return B.resolve()}createTargetIndexes(e,n){return B.resolve()}getDocumentsMatchingTarget(e,n){return B.resolve(null)}getIndexType(e,n){return B.resolve(0)}getFieldIndexes(e,n){return B.resolve([])}getNextCollectionGroupToUpdate(e){return B.resolve(null)}getMinOffset(e,n){return B.resolve(mi.min())}getMinOffsetFromCollectionGroup(e,n){return B.resolve(mi.min())}updateCollectionGroup(e,n,r){return B.resolve()}updateIndexEntries(e,n){return B.resolve()}}class a5{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Tt(Ke.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Tt(Ke.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},YC=41943040;class dn{static withCacheSize(e){return new dn(e,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */dn.DEFAULT_COLLECTION_PERCENTILE=10,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,dn.DEFAULT=new dn(YC,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),dn.DISABLED=new dn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Qa(0)}static cr(){return new Qa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE="LruGarbageCollector",l5=1048576;function jE([t,e],[n,r]){const s=be(t,n);return s===0?be(e,r):s}class c5{constructor(e){this.Ir=e,this.buffer=new Tt(jE),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();jE(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class u5{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Z(kE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){pl(n)?Z(kE,"Ignoring IndexedDB error during garbage collection: ",n):await fl(n)}await this.Vr(3e5)})}}class d5{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return B.resolve(Of.ce);const r=new c5(n);return this.mr.forEachTarget(e,s=>r.Ar(s.sequenceNumber)).next(()=>this.mr.pr(e,s=>r.Ar(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Z("LruGarbageCollector","Garbage collection skipped; disabled"),B.resolve(PE)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Z("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),PE):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,i,o,a,c,d;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(Z("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),s=this.params.maximumSequenceNumbersToCollect):s=f,o=Date.now(),this.nthSequenceNumber(e,s))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(i=f,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(d=Date.now(),Go()<=Ie.DEBUG&&Z("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(c-a)+`ms
	Removed ${f} documents in `+(d-c)+`ms
Total Duration: ${d-h}ms`),B.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:f})))}}function h5(t,e){return new d5(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f5{constructor(){this.changes=new Ao(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Gt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?B.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p5{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m5{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&mc(r.mutation,s,nr.empty(),Ge.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ne()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ne()){const s=qi();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=Gl();return i.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=qi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ne()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=ms();const o=pc(),a=function(){return pc()}();return n.forEach((c,d)=>{const h=r.get(d.key);s.has(d.key)&&(h===void 0||h.mutation instanceof Po)?i=i.insert(d.key,d):h!==void 0?(o.set(d.key,h.mutation.getFieldMask()),mc(h.mutation,d,h.mutation.getFieldMask(),Ge.now())):o.set(d.key,nr.empty())}),this.recalculateAndSaveOverlays(e,i).next(c=>(c.forEach((d,h)=>o.set(d,h)),n.forEach((d,h)=>a.set(d,new p5(h,o.get(d)??null))),a))}recalculateAndSaveOverlays(e,n){const r=pc();let s=new it((o,a)=>o-a),i=Ne();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(c=>{const d=n.get(c);if(d===null)return;let h=r.get(c)||nr.empty();h=a.applyToLocalView(d,h),r.set(c,h);const f=(s.get(a.batchId)||Ne()).add(c);s=s.insert(a.batchId,f)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),d=c.key,h=c.value,f=kC();h.forEach(m=>{if(!i.has(m)){const p=VC(n.get(m),r.get(m));p!==null&&f.set(m,p),i=i.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,d,f))}return B.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return ie.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):CC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):B.resolve(qi());let a=qc,c=i;return o.next(d=>B.forEach(d,(h,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),i.get(h)?B.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{c=c.insert(h,m)}))).next(()=>this.populateOverlays(e,d,i)).next(()=>this.computeViews(e,c,d,Ne())).next(h=>({batchId:a,changes:PC(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ie(n)).next(r=>{let s=Gl();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=Gl();return this.indexManager.getCollectionParents(e,i).next(a=>B.forEach(a,c=>{const d=function(f,m){return new ml(m,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,d,r,s).next(h=>{h.forEach((f,m)=>{o=o.insert(f,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((c,d)=>{const h=d.getKey();o.get(h)===null&&(o=o.insert(h,Gt.newInvalidDocument(h)))});let a=Gl();return o.forEach((c,d)=>{const h=i.get(c);h!==void 0&&mc(h.mutation,d,nr.empty(),Ge.now()),$f(n,d)&&(a=a.insert(c,d))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g5{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return B.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Ar(s.createTime)}}(n)),B.resolve()}getNamedQuery(e,n){return B.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(s){return{name:s.name,query:i5(s.bundledQuery),readTime:Ar(s.readTime)}}(n)),B.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y5{constructor(){this.overlays=new it(ie.comparator),this.qr=new Map}getOverlay(e,n){return B.resolve(this.overlays.get(n))}getOverlays(e,n){const r=qi();return B.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.St(e,n,i)}),B.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.qr.delete(r)),B.resolve()}getOverlaysForCollection(e,n,r){const s=qi(),i=n.length+1,o=new ie(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const c=a.getNext().value,d=c.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===i&&c.largestBatchId>r&&s.set(c.getKey(),c)}return B.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new it((d,h)=>d-h);const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let h=i.get(d.largestBatchId);h===null&&(h=qi(),i=i.insert(d.largestBatchId,h)),h.set(d.getKey(),d)}}const a=qi(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((d,h)=>a.set(d,h)),!(a.size()>=s)););return B.resolve(a)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new M6(n,r));let i=this.qr.get(n);i===void 0&&(i=Ne(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v5{constructor(){this.sessionToken=Nt.EMPTY_BYTE_STRING}getSessionToken(e){return B.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,B.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{constructor(){this.Qr=new Tt(St.$r),this.Ur=new Tt(St.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new St(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new St(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new ie(new Ke([])),r=new St(n,e),s=new St(n,e+1),i=[];return this.Ur.forEachInRange([r,s],o=>{this.Gr(o),i.push(o.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ie(new Ke([])),r=new St(n,e),s=new St(n,e+1);let i=Ne();return this.Ur.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new St(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class St{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ie.comparator(e.key,n.key)||be(e.Yr,n.Yr)}static Kr(e,n){return be(e.Yr,n.Yr)||ie.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w5{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Tt(St.$r)}checkEmpty(e){return B.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new D6(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Zr=this.Zr.add(new St(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return B.resolve(o)}lookupMutationBatch(e,n){return B.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),i=s<0?0:s;return B.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(this.mutationQueue.length===0?nw:this.tr-1)}getAllMutationBatches(e){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new St(n,0),s=new St(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],o=>{const a=this.Xr(o.Yr);i.push(a)}),B.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Tt(be);return n.forEach(s=>{const i=new St(s,0),o=new St(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,o],a=>{r=r.add(a.Yr)})}),B.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;ie.isDocumentKey(i)||(i=i.child(""));const o=new St(new ie(i),0);let a=new Tt(be);return this.Zr.forEachWhile(c=>{const d=c.key.path;return!!r.isPrefixOf(d)&&(d.length===s&&(a=a.add(c.Yr)),!0)},o),B.resolve(this.ti(a))}ti(e){const n=[];return e.forEach(r=>{const s=this.Xr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Ue(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return B.forEach(n.mutations,s=>{const i=new St(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new St(n,0),s=this.Zr.firstAfterOrEqual(r);return B.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,B.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x5{constructor(e){this.ri=e,this.docs=function(){return new it(ie.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return B.resolve(r?r.document.mutableCopy():Gt.newInvalidDocument(n))}getEntries(e,n){let r=ms();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Gt.newInvalidDocument(s))}),B.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=ms();const o=n.path,a=new ie(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:d,value:{document:h}}=c.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||Q3(G3(h),r)<=0||(s.has(h.key)||$f(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return B.resolve(i)}getAllFromCollectionGroup(e,n,r,s){ue(9500)}ii(e,n){return B.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new _5(this)}getSize(e){return B.resolve(this.size)}}class _5 extends f5{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)}),B.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E5{constructor(e){this.persistence=e,this.si=new Ao(n=>iw(n),ow),this.lastRemoteSnapshotVersion=fe.min(),this.highestTargetId=0,this.oi=0,this._i=new hw,this.targetCount=0,this.ai=Qa.ur()}forEachTarget(e,n){return this.si.forEach((r,s)=>n(s)),B.resolve()}getLastRemoteSnapshotVersion(e){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return B.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),B.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Qa(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,B.resolve()}updateTargetData(e,n){return this.Pr(n),B.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,B.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.si.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),B.waitFor(i).next(()=>s)}getTargetCount(e){return B.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return B.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),B.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),B.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),B.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return B.resolve(r)}containsKey(e,n){return B.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(e,n){this.ui={},this.overlays={},this.ci=new Of(0),this.li=!1,this.li=!0,this.hi=new v5,this.referenceDelegate=e(this),this.Pi=new E5(this),this.indexManager=new o5,this.remoteDocumentCache=function(s){return new x5(s)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new s5(n),this.Ii=new g5(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new y5,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new w5(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Z("MemoryPersistence","Starting transaction:",e);const s=new T5(this.ci.next());return this.referenceDelegate.Ei(),r(s).next(i=>this.referenceDelegate.di(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ai(e,n){return B.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class T5 extends X3{constructor(e){super(),this.currentSequenceNumber=e}}class fw{constructor(e){this.persistence=e,this.Ri=new hw,this.Vi=null}static mi(e){return new fw(e)}get fi(){if(this.Vi)return this.Vi;throw ue(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),B.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),B.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),B.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(s=>this.fi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.fi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.fi,r=>{const s=ie.fromPath(r);return this.gi(e,s).next(i=>{i||n.removeEntry(s,fe.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return B.or([()=>B.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Bh{constructor(e,n){this.persistence=e,this.pi=new Ao(r=>e6(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=h5(this,n)}static mi(e,n){return new Bh(e,n)}Ei(){}di(e){return B.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return B.forEach(this.pi,(r,s)=>this.br(e,r,s).next(i=>i?B.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,o=>this.br(e,o,n).next(a=>{a||(r++,i.removeEntry(o,fe.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),B.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),B.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),B.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),B.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Wd(e.data.value)),n}br(e,n,r){return B.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return B.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=Ne(),s=Ne();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new pw(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S5{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I5{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return vF()?8:J3(Yt())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ys(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ws(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new S5;return this.Ss(e,n,o).next(a=>{if(i.result=a,this.Vs)return this.bs(e,n,o,a.size)})}).next(()=>i.result)}bs(e,n,r,s){return r.documentReadCount<this.fs?(Go()<=Ie.DEBUG&&Z("QueryEngine","SDK will not create cache indexes for query:",Qo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),B.resolve()):(Go()<=Ie.DEBUG&&Z("QueryEngine","Query:",Qo(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(Go()<=Ie.DEBUG&&Z("QueryEngine","The SDK decides to create cache indexes for query:",Qo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Rr(n))):B.resolve())}ys(e,n){if(_E(n))return B.resolve(null);let r=Rr(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Fh(n,null,"F"),r=Rr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=Ne(...i);return this.ps.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{const d=this.Ds(n,a);return this.Cs(n,d,o,c.readTime)?this.ys(e,Fh(n,null,"F")):this.vs(e,d,n,c)}))})))}ws(e,n,r,s){return _E(n)||s.isEqual(fe.min())?B.resolve(null):this.ps.getDocuments(e,r).next(i=>{const o=this.Ds(n,i);return this.Cs(n,o,r,s)?B.resolve(null):(Go()<=Ie.DEBUG&&Z("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Qo(n)),this.vs(e,o,n,K3(s,qc)).next(a=>a))})}Ds(e,n){let r=new Tt(RC(e));return n.forEach((s,i)=>{$f(e,i)&&(r=r.add(i))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return Go()<=Ie.DEBUG&&Z("QueryEngine","Using full collection scan to execute query:",Qo(n)),this.ps.getDocumentsMatchingQuery(e,n,mi.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mw="LocalStore",b5=3e8;class C5{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new it(be),this.xs=new Ao(i=>iw(i),ow),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new m5(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function N5(t,e,n,r){return new C5(t,e,n,r)}async function JC(t,e){const n=pe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let c=Ne();for(const d of s){o.push(d.batchId);for(const h of d.mutations)c=c.add(h.key)}for(const d of i){a.push(d.batchId);for(const h of d.mutations)c=c.add(h.key)}return n.localDocuments.getDocuments(r,c).next(d=>({Ls:d,removedBatchIds:o,addedBatchIds:a}))})})}function R5(t,e){const n=pe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,c,d,h){const f=d.batch,m=f.keys();let p=B.resolve();return m.forEach(I=>{p=p.next(()=>h.getEntry(c,I)).next(v=>{const x=d.docVersions.get(I);Ue(x!==null,48541),v.version.compareTo(x)<0&&(f.applyToRemoteDocument(v,d),v.isValidDocument()&&(v.setReadTime(d.commitVersion),h.addEntry(v)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(c,f))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=Ne();for(let d=0;d<a.mutationResults.length;++d)a.mutationResults[d].transformResults.length>0&&(c=c.add(a.batch.mutations[d].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function ZC(t){const e=pe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function A5(t,e){const n=pe(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const a=[];e.targetChanges.forEach((h,f)=>{const m=s.get(f);if(!m)return;a.push(n.Pi.removeMatchingKeys(i,h.removedDocuments,f).next(()=>n.Pi.addMatchingKeys(i,h.addedDocuments,f)));let p=m.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?p=p.withResumeToken(Nt.EMPTY_BYTE_STRING,fe.min()).withLastLimboFreeSnapshotVersion(fe.min()):h.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(h.resumeToken,r)),s=s.insert(f,p),function(v,x,E){return v.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=b5?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(m,p,h)&&a.push(n.Pi.updateTargetData(i,p))});let c=ms(),d=Ne();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))}),a.push(P5(i,o,e.documentUpdates).next(h=>{c=h.ks,d=h.qs})),!r.isEqual(fe.min())){const h=n.Pi.getLastRemoteSnapshotVersion(i).next(f=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(h)}return B.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,c,d)).next(()=>c)}).then(i=>(n.Ms=s,i))}function P5(t,e,n){let r=Ne(),s=Ne();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=ms();return n.forEach((a,c)=>{const d=i.get(a);c.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(a)),c.isNoDocument()&&c.version.isEqual(fe.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!d.isValidDocument()||c.version.compareTo(d.version)>0||c.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):Z(mw,"Ignoring outdated watch update for ",a,". Current version:",d.version," Watch version:",c.version)}),{ks:o,qs:s}})}function k5(t,e){const n=pe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=nw),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function j5(t,e){const n=pe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Pi.getTargetData(r,e).next(i=>i?(s=i,B.resolve(s)):n.Pi.allocateTargetId(r).next(o=>(s=new Gs(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function uy(t,e,n){const r=pe(t),s=r.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!pl(o))throw o;Z(mw,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function DE(t,e,n){const r=pe(t);let s=fe.min(),i=Ne();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,d,h){const f=pe(c),m=f.xs.get(h);return m!==void 0?B.resolve(f.Ms.get(m)):f.Pi.getTargetData(d,h)}(r,o,Rr(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,a.targetId).next(c=>{i=c})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,n?s:fe.min(),n?i:Ne())).next(a=>(D5(r,v6(e),a),{documents:a,Qs:i})))}function D5(t,e,n){let r=t.Os.get(e)||fe.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Os.set(e,r)}class ME{constructor(){this.activeTargetIds=S6()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class M5{constructor(){this.Mo=new ME,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new ME,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O5{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OE="ConnectivityMonitor";class LE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Z(OE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Z(OE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ed=null;function dy(){return Ed===null?Ed=function(){return 268435456+Math.round(2147483648*Math.random())}():Ed++,"0x"+Ed.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Im="RestConnection",L5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class V5{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===Oh?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,i){const o=dy(),a=this.zo(e,n.toUriEncodedString());Z(Im,`Sending RPC '${e}' ${o}:`,a,r);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,s,i);const{host:d}=new URL(a),h=ul(d);return this.Jo(e,a,c,r,h).then(f=>(Z(Im,`Received RPC '${e}' ${o}: `,f),f),f=>{throw mo(Im,`RPC '${e}' ${o} failed with error: `,f,"url: ",a,"request:",r),f})}Ho(e,n,r,s,i,o){return this.Go(e,n,r,s,i)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+hl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}zo(e,n){const r=L5[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F5{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ht="WebChannelConnection";class U5 extends V5{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const o=dy();return new Promise((a,c)=>{const d=new Zb;d.setWithCredentials(!0),d.listenOnce(eC.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case Hd.NO_ERROR:const f=d.getResponseJson();Z(Ht,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),a(f);break;case Hd.TIMEOUT:Z(Ht,`RPC '${e}' ${o} timed out`),c(new J($.DEADLINE_EXCEEDED,"Request time out"));break;case Hd.HTTP_ERROR:const m=d.getStatus();if(Z(Ht,`RPC '${e}' ${o} failed with status:`,m,"response text:",d.getResponseText()),m>0){let p=d.getResponseJson();Array.isArray(p)&&(p=p[0]);const I=p==null?void 0:p.error;if(I&&I.status&&I.message){const v=function(E){const w=E.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(w)>=0?w:$.UNKNOWN}(I.status);c(new J(v,I.message))}else c(new J($.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new J($.UNAVAILABLE,"Connection failed."));break;default:ue(9055,{l_:e,streamId:o,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{Z(Ht,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(s);Z(Ht,`RPC '${e}' ${o} sending request:`,s),d.send(n,"POST",h,r,15)})}T_(e,n,r){const s=dy(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=rC(),a=nC(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(c.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const h=i.join("");Z(Ht,`Creating RPC '${e}' stream ${s}: ${h}`,c);const f=o.createWebChannel(h,c);this.I_(f);let m=!1,p=!1;const I=new F5({Yo:x=>{p?Z(Ht,`Not sending because RPC '${e}' stream ${s} is closed:`,x):(m||(Z(Ht,`Opening RPC '${e}' stream ${s} transport.`),f.open(),m=!0),Z(Ht,`RPC '${e}' stream ${s} sending:`,x),f.send(x))},Zo:()=>f.close()}),v=(x,E,w)=>{x.listen(E,T=>{try{w(T)}catch(A){setTimeout(()=>{throw A},0)}})};return v(f,Kl.EventType.OPEN,()=>{p||(Z(Ht,`RPC '${e}' stream ${s} transport opened.`),I.o_())}),v(f,Kl.EventType.CLOSE,()=>{p||(p=!0,Z(Ht,`RPC '${e}' stream ${s} transport closed`),I.a_(),this.E_(f))}),v(f,Kl.EventType.ERROR,x=>{p||(p=!0,mo(Ht,`RPC '${e}' stream ${s} transport errored. Name:`,x.name,"Message:",x.message),I.a_(new J($.UNAVAILABLE,"The operation could not be completed")))}),v(f,Kl.EventType.MESSAGE,x=>{var E;if(!p){const w=x.data[0];Ue(!!w,16349);const T=w,A=(T==null?void 0:T.error)||((E=T[0])==null?void 0:E.error);if(A){Z(Ht,`RPC '${e}' stream ${s} received error:`,A);const D=A.status;let M=function(C){const R=gt[C];if(R!==void 0)return UC(R)}(D),b=A.message;M===void 0&&(M=$.INTERNAL,b="Unknown error status: "+D+" with message "+A.message),p=!0,I.a_(new J(M,b)),f.close()}else Z(Ht,`RPC '${e}' stream ${s} received:`,w),I.u_(w)}}),v(a,tC.STAT_EVENT,x=>{x.stat===Zg.PROXY?Z(Ht,`RPC '${e}' stream ${s} detected buffering proxy`):x.stat===Zg.NOPROXY&&Z(Ht,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{I.__()},0),I}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function bm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wf(t){return new H6(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&Z("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VE="PersistentStream";class tN{constructor(e,n,r,s,i,o,a,c){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new eN(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===$.RESOURCE_EXHAUSTED?(ps(n.toString()),ps("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{const s=new J($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return Z(VE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(Z(VE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class $5 extends tN{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=K6(this.serializer,e),r=function(i){if(!("targetChange"in i))return fe.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?fe.min():o.readTime?Ar(o.readTime):fe.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=cy(this.serializer),n.addTarget=function(i,o){let a;const c=o.target;if(a=sy(c)?{documents:Y6(i,c)}:{query:X6(i,c).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=zC(i,o.resumeToken);const d=oy(i,o.expectedCount);d!==null&&(a.expectedCount=d)}else if(o.snapshotVersion.compareTo(fe.min())>0){a.readTime=$h(i,o.snapshotVersion.toTimestamp());const d=oy(i,o.expectedCount);d!==null&&(a.expectedCount=d)}return a}(this.serializer,e);const r=Z6(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=cy(this.serializer),n.removeTarget=e,this.q_(n)}}class B5 extends tN{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ue(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ue(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ue(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=Q6(e.writeResults,e.commitTime),r=Ar(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=cy(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>G6(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z5{}class H5 extends z5{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new J($.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Go(e,ay(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new J($.UNKNOWN,i.toString())})}Ho(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Ho(e,ay(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new J($.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class W5{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ps(n),this.aa=!1):Z("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const go="RemoteStore";class q5{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{ko(this)&&(Z(go,"Restarting streams for network reachability change."),await async function(c){const d=pe(c);d.Ea.add(4),await _u(d),d.Ra.set("Unknown"),d.Ea.delete(4),await qf(d)}(this))})}),this.Ra=new W5(r,s)}}async function qf(t){if(ko(t))for(const e of t.da)await e(!0)}async function _u(t){for(const e of t.da)await e(!1)}function nN(t,e){const n=pe(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),ww(n)?vw(n):gl(n).O_()&&yw(n,e))}function gw(t,e){const n=pe(t),r=gl(n);n.Ia.delete(e),r.O_()&&rN(n,e),n.Ia.size===0&&(r.O_()?r.L_():ko(n)&&n.Ra.set("Unknown"))}function yw(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(fe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}gl(t).Y_(e)}function rN(t,e){t.Va.Ue(e),gl(t).Z_(e)}function vw(t){t.Va=new U6({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),gl(t).start(),t.Ra.ua()}function ww(t){return ko(t)&&!gl(t).x_()&&t.Ia.size>0}function ko(t){return pe(t).Ea.size===0}function sN(t){t.Va=void 0}async function K5(t){t.Ra.set("Online")}async function G5(t){t.Ia.forEach((e,n)=>{yw(t,e)})}async function Q5(t,e){sN(t),ww(t)?(t.Ra.ha(e),vw(t)):t.Ra.set("Unknown")}async function Y5(t,e,n){if(t.Ra.set("Online"),e instanceof BC&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.Ia.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.Ia.delete(a),s.Va.removeTarget(a))}(t,e)}catch(r){Z(go,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await zh(t,r)}else if(e instanceof Gd?t.Va.Ze(e):e instanceof $C?t.Va.st(e):t.Va.tt(e),!n.isEqual(fe.min()))try{const r=await ZC(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Va.Tt(o);return a.targetChanges.forEach((c,d)=>{if(c.resumeToken.approximateByteSize()>0){const h=i.Ia.get(d);h&&i.Ia.set(d,h.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,d)=>{const h=i.Ia.get(c);if(!h)return;i.Ia.set(c,h.withResumeToken(Nt.EMPTY_BYTE_STRING,h.snapshotVersion)),rN(i,c);const f=new Gs(h.target,c,d,h.sequenceNumber);yw(i,f)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Z(go,"Failed to raise snapshot:",r),await zh(t,r)}}async function zh(t,e,n){if(!pl(e))throw e;t.Ea.add(1),await _u(t),t.Ra.set("Offline"),n||(n=()=>ZC(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Z(go,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await qf(t)})}function iN(t,e){return e().catch(n=>zh(t,n,e))}async function Kf(t){const e=pe(t),n=wi(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:nw;for(;X5(e);)try{const s=await k5(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,J5(e,s)}catch(s){await zh(e,s)}oN(e)&&aN(e)}function X5(t){return ko(t)&&t.Ta.length<10}function J5(t,e){t.Ta.push(e);const n=wi(t);n.O_()&&n.X_&&n.ea(e.mutations)}function oN(t){return ko(t)&&!wi(t).x_()&&t.Ta.length>0}function aN(t){wi(t).start()}async function Z5(t){wi(t).ra()}async function eU(t){const e=wi(t);for(const n of t.Ta)e.ea(n.mutations)}async function tU(t,e,n){const r=t.Ta.shift(),s=cw.from(r,e,n);await iN(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Kf(t)}async function nU(t,e){e&&wi(t).X_&&await async function(r,s){if(function(o){return L6(o)&&o!==$.ABORTED}(s.code)){const i=r.Ta.shift();wi(r).B_(),await iN(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Kf(r)}}(t,e),oN(t)&&aN(t)}async function FE(t,e){const n=pe(t);n.asyncQueue.verifyOperationInProgress(),Z(go,"RemoteStore received new credentials");const r=ko(n);n.Ea.add(3),await _u(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await qf(n)}async function rU(t,e){const n=pe(t);e?(n.Ea.delete(2),await qf(n)):e||(n.Ea.add(2),await _u(n),n.Ra.set("Unknown"))}function gl(t){return t.ma||(t.ma=function(n,r,s){const i=pe(n);return i.sa(),new $5(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:K5.bind(null,t),t_:G5.bind(null,t),r_:Q5.bind(null,t),H_:Y5.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),ww(t)?vw(t):t.Ra.set("Unknown")):(await t.ma.stop(),sN(t))})),t.ma}function wi(t){return t.fa||(t.fa=function(n,r,s){const i=pe(n);return i.sa(),new B5(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:Z5.bind(null,t),r_:nU.bind(null,t),ta:eU.bind(null,t),na:tU.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await Kf(t)):(await t.fa.stop(),t.Ta.length>0&&(Z(go,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new ss,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new xw(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new J($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _w(t,e){if(ps("AsyncQueue",`${e}: ${t}`),pl(t))return new J($.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{static emptySet(e){return new _a(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ie.comparator(n.key,r.key):(n,r)=>ie.comparator(n.key,r.key),this.keyedMap=Gl(),this.sortedSet=new it(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof _a)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new _a;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UE{constructor(){this.ga=new it(ie.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ue(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ya{constructor(e,n,r,s,i,o,a,c,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Ya(e,n,_a.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Uf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sU{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class iU{constructor(){this.queries=$E(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=pe(n),i=s.queries;s.queries=$E(),i.forEach((o,a)=>{for(const c of a.Sa)c.onError(r)})})(this,new J($.ABORTED,"Firestore shutting down"))}}function $E(){return new Ao(t=>NC(t),Uf)}async function Ew(t,e){const n=pe(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new sU,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=_w(o,`Initialization of query '${Qo(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&Sw(n)}async function Tw(t,e){const n=pe(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Sa.indexOf(e);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function oU(t,e){const n=pe(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.Sa)a.Fa(s)&&(r=!0);o.wa=s}}r&&Sw(n)}function aU(t,e,n){const r=pe(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function Sw(t){t.Ca.forEach(e=>{e.next()})}var hy,BE;(BE=hy||(hy={})).Ma="default",BE.Cache="cache";class Iw{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Ya(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Ya.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==hy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(e){this.key=e}}class cN{constructor(e){this.key=e}}class lU{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ne(),this.mutatedKeys=Ne(),this.eu=RC(e),this.tu=new _a(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new UE,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,f)=>{const m=s.get(h),p=$f(this.query,f)?f:null,I=!!m&&this.mutatedKeys.has(m.key),v=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let x=!1;m&&p?m.data.isEqual(p.data)?I!==v&&(r.track({type:3,doc:p}),x=!0):this.su(m,p)||(r.track({type:2,doc:p}),x=!0,(c&&this.eu(p,c)>0||d&&this.eu(p,d)<0)&&(a=!0)):!m&&p?(r.track({type:0,doc:p}),x=!0):m&&!p&&(r.track({type:1,doc:m}),x=!0,(c||d)&&(a=!0)),x&&(p?(o=o.add(p),i=v?i.add(h):i.delete(h)):(o=o.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{tu:o,iu:r,Cs:a,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((h,f)=>function(p,I){const v=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ue(20277,{Rt:x})}};return v(p)-v(I)}(h.type,f.type)||this.eu(h.doc,f.doc)),this.ou(r),s=s??!1;const a=n&&!s?this._u():[],c=this.Xa.size===0&&this.current&&!s?1:0,d=c!==this.Za;return this.Za=c,o.length!==0||d?{snapshot:new Ya(this.query,e.tu,i,o,e.mutatedKeys,c===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new UE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ne(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new cN(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new lN(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=Ne();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Ya.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const bw="SyncEngine";class cU{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class uU{constructor(e){this.key=e,this.hu=!1}}class dU{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Ao(a=>NC(a),Uf),this.Iu=new Map,this.Eu=new Set,this.du=new it(ie.comparator),this.Au=new Map,this.Ru=new hw,this.Vu={},this.mu=new Map,this.fu=Qa.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function hU(t,e,n=!0){const r=mN(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await uN(r,e,n,!0),s}async function fU(t,e){const n=mN(t);await uN(n,e,!0,!1)}async function uN(t,e,n,r){const s=await j5(t.localStore,Rr(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await pU(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&nN(t.remoteStore,s),a}async function pU(t,e,n,r,s){t.pu=(f,m,p)=>async function(v,x,E,w){let T=x.view.ru(E);T.Cs&&(T=await DE(v.localStore,x.query,!1).then(({documents:b})=>x.view.ru(b,T)));const A=w&&w.targetChanges.get(x.targetId),D=w&&w.targetMismatches.get(x.targetId)!=null,M=x.view.applyChanges(T,v.isPrimaryClient,A,D);return HE(v,x.targetId,M.au),M.snapshot}(t,f,m,p);const i=await DE(t.localStore,e,!0),o=new lU(e,i.Qs),a=o.ru(i.documents),c=xu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),d=o.applyChanges(a,t.isPrimaryClient,c);HE(t,n,d.au);const h=new cU(e,n,o);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),d.snapshot}async function mU(t,e,n){const r=pe(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter(o=>!Uf(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await uy(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&gw(r.remoteStore,s.targetId),fy(r,s.targetId)}).catch(fl)):(fy(r,s.targetId),await uy(r.localStore,s.targetId,!0))}async function gU(t,e){const n=pe(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),gw(n.remoteStore,r.targetId))}async function yU(t,e,n){const r=SU(t);try{const s=await function(o,a){const c=pe(o),d=Ge.now(),h=a.reduce((p,I)=>p.add(I.key),Ne());let f,m;return c.persistence.runTransaction("Locally write mutations","readwrite",p=>{let I=ms(),v=Ne();return c.Ns.getEntries(p,h).next(x=>{I=x,I.forEach((E,w)=>{w.isValidDocument()||(v=v.add(E))})}).next(()=>c.localDocuments.getOverlayedDocuments(p,I)).next(x=>{f=x;const E=[];for(const w of a){const T=k6(w,f.get(w.key).overlayedDocument);T!=null&&E.push(new Po(w.key,T,xC(T.value.mapValue),or.exists(!0)))}return c.mutationQueue.addMutationBatch(p,d,E,a)}).next(x=>{m=x;const E=x.applyToLocalDocumentSet(f,v);return c.documentOverlayCache.saveOverlays(p,x.batchId,E)})}).then(()=>({batchId:m.batchId,changes:PC(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,c){let d=o.Vu[o.currentUser.toKey()];d||(d=new it(be)),d=d.insert(a,c),o.Vu[o.currentUser.toKey()]=d}(r,s.batchId,n),await Eu(r,s.changes),await Kf(r.remoteStore)}catch(s){const i=_w(s,"Failed to persist write");n.reject(i)}}async function dN(t,e){const n=pe(t);try{const r=await A5(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Au.get(i);o&&(Ue(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?Ue(o.hu,14607):s.removedDocuments.size>0&&(Ue(o.hu,42227),o.hu=!1))}),await Eu(n,r,e)}catch(r){await fl(r)}}function zE(t,e,n){const r=pe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((i,o)=>{const a=o.view.va(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const c=pe(o);c.onlineState=a;let d=!1;c.queries.forEach((h,f)=>{for(const m of f.Sa)m.va(a)&&(d=!0)}),d&&Sw(c)}(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function vU(t,e,n){const r=pe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let o=new it(ie.comparator);o=o.insert(i,Gt.newNoDocument(i,fe.min()));const a=Ne().add(i),c=new Hf(fe.min(),new Map,new it(be),o,a);await dN(r,c),r.du=r.du.remove(i),r.Au.delete(e),Cw(r)}else await uy(r.localStore,e,!1).then(()=>fy(r,e,n)).catch(fl)}async function wU(t,e){const n=pe(t),r=e.batch.batchId;try{const s=await R5(n.localStore,e);fN(n,r,null),hN(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Eu(n,s)}catch(s){await fl(s)}}async function xU(t,e,n){const r=pe(t);try{const s=await function(o,a){const c=pe(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let h;return c.mutationQueue.lookupMutationBatch(d,a).next(f=>(Ue(f!==null,37113),h=f.keys(),c.mutationQueue.removeMutationBatch(d,f))).next(()=>c.mutationQueue.performConsistencyCheck(d)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(d,h,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,h)).next(()=>c.localDocuments.getDocuments(d,h))})}(r.localStore,e);fN(r,e,n),hN(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Eu(r,s)}catch(s){await fl(s)}}function hN(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function fN(t,e,n){const r=pe(t);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function fy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||pN(t,r)})}function pN(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(gw(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Cw(t))}function HE(t,e,n){for(const r of n)r instanceof lN?(t.Ru.addReference(r.key,e),_U(t,r)):r instanceof cN?(Z(bw,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||pN(t,r.key)):ue(19791,{wu:r})}function _U(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(Z(bw,"New document in limbo: "+n),t.Eu.add(r),Cw(t))}function Cw(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ie(Ke.fromString(e)),r=t.fu.next();t.Au.set(r,new uU(n)),t.du=t.du.insert(n,r),nN(t.remoteStore,new Gs(Rr(Ff(n.path)),r,"TargetPurposeLimboResolution",Of.ce))}}async function Eu(t,e,n){const r=pe(t),s=[],i=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((a,c)=>{o.push(r.pu(c,e,n).then(d=>{var h;if((d||n)&&r.isPrimaryClient){const f=d?!d.fromCache:(h=n==null?void 0:n.targetChanges.get(c.targetId))==null?void 0:h.current;r.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(d){s.push(d);const f=pw.As(c.targetId,d);i.push(f)}}))}),await Promise.all(o),r.Pu.H_(s),await async function(c,d){const h=pe(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>B.forEach(d,m=>B.forEach(m.Es,p=>h.persistence.referenceDelegate.addReference(f,m.targetId,p)).next(()=>B.forEach(m.ds,p=>h.persistence.referenceDelegate.removeReference(f,m.targetId,p)))))}catch(f){if(!pl(f))throw f;Z(mw,"Failed to update sequence numbers: "+f)}for(const f of d){const m=f.targetId;if(!f.fromCache){const p=h.Ms.get(m),I=p.snapshotVersion,v=p.withLastLimboFreeSnapshotVersion(I);h.Ms=h.Ms.insert(m,v)}}}(r.localStore,i))}async function EU(t,e){const n=pe(t);if(!n.currentUser.isEqual(e)){Z(bw,"User change. New user:",e.toKey());const r=await JC(n.localStore,e);n.currentUser=e,function(i,o){i.mu.forEach(a=>{a.forEach(c=>{c.reject(new J($.CANCELLED,o))})}),i.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Eu(n,r.Ls)}}function TU(t,e){const n=pe(t),r=n.Au.get(e);if(r&&r.hu)return Ne().add(r.key);{let s=Ne();const i=n.Iu.get(e);if(!i)return s;for(const o of i){const a=n.Tu.get(o);s=s.unionWith(a.view.nu)}return s}}function mN(t){const e=pe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=dN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=TU.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=vU.bind(null,e),e.Pu.H_=oU.bind(null,e.eventManager),e.Pu.yu=aU.bind(null,e.eventManager),e}function SU(t){const e=pe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=wU.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=xU.bind(null,e),e}class Hh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Wf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return N5(this.persistence,new I5,e.initialUser,this.serializer)}Cu(e){return new XC(fw.mi,this.serializer)}Du(e){return new M5}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Hh.provider={build:()=>new Hh};class IU extends Hh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ue(this.persistence.referenceDelegate instanceof Bh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new u5(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?dn.withCacheSize(this.cacheSizeBytes):dn.DEFAULT;return new XC(r=>Bh.mi(r,n),this.serializer)}}class py{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>zE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=EU.bind(null,this.syncEngine),await rU(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new iU}()}createDatastore(e){const n=Wf(e.databaseInfo.databaseId),r=function(i){return new U5(i)}(e.databaseInfo);return function(i,o,a,c){return new H5(i,o,a,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new q5(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>zE(this.syncEngine,n,0),function(){return LE.v()?new LE:new O5}())}createSyncEngine(e,n){return function(s,i,o,a,c,d,h){const f=new dU(s,i,o,a,c,d);return h&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=pe(s);Z(go,"RemoteStore shutting down."),i.Ea.add(5),await _u(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}py.provider={build:()=>new py};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ps("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xi="FirestoreClient";class bU{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=qt.UNAUTHENTICATED,this.clientId=Df.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{Z(xi,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Z(xi,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ss;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=_w(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Cm(t,e){t.asyncQueue.verifyOperationInProgress(),Z(xi,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await JC(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function WE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await CU(t);Z(xi,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>FE(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>FE(e.remoteStore,s)),t._onlineComponents=e}async function CU(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Z(xi,"Using user provided OfflineComponentProvider");try{await Cm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===$.FAILED_PRECONDITION||s.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;mo("Error using user provided cache. Falling back to memory cache: "+n),await Cm(t,new Hh)}}else Z(xi,"Using default OfflineComponentProvider"),await Cm(t,new IU(void 0));return t._offlineComponents}async function gN(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Z(xi,"Using user provided OnlineComponentProvider"),await WE(t,t._uninitializedComponentsProvider._online)):(Z(xi,"Using default OnlineComponentProvider"),await WE(t,new py))),t._onlineComponents}function NU(t){return gN(t).then(e=>e.syncEngine)}async function Wh(t){const e=await gN(t),n=e.eventManager;return n.onListen=hU.bind(null,e.syncEngine),n.onUnlisten=mU.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=fU.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=gU.bind(null,e.syncEngine),n}function RU(t,e,n={}){const r=new ss;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,c,d){const h=new Nw({next:m=>{h.Nu(),o.enqueueAndForget(()=>Tw(i,f));const p=m.docs.has(a);!p&&m.fromCache?d.reject(new J($.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&m.fromCache&&c&&c.source==="server"?d.reject(new J($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(m)},error:m=>d.reject(m)}),f=new Iw(Ff(a.path),h,{includeMetadataChanges:!0,qa:!0});return Ew(i,f)}(await Wh(t),t.asyncQueue,e,n,r)),r.promise}function AU(t,e,n={}){const r=new ss;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,c,d){const h=new Nw({next:m=>{h.Nu(),o.enqueueAndForget(()=>Tw(i,f)),m.fromCache&&c.source==="server"?d.reject(new J($.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(m)},error:m=>d.reject(m)}),f=new Iw(a,h,{includeMetadataChanges:!0,qa:!0});return Ew(i,f)}(await Wh(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yN(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vN="firestore.googleapis.com",KE=!0;class GE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new J($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=vN,this.ssl=KE}else this.host=e.host,this.ssl=e.ssl??KE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=YC;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<l5)throw new J($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}lC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=yN(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new J($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new J($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new J($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Gf{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new GE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new J($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new J($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new GE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new oC;switch(r.type){case"firstParty":return new $3(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new J($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=qE.get(n);r&&(Z("ComponentProvider","Removing Datastore"),qE.delete(n),r.terminate())}(this),Promise.resolve()}}function wN(t,e,n,r={}){var d;t=bn(t,Gf);const s=ul(e),i=t._getSettings(),o={...i,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;s&&(Hb(`https://${a}`),Wb("Firestore",!0)),i.host!==vN&&i.host!==a&&mo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...i,host:a,ssl:s,emulatorOptions:r};if(!ho(c,o)&&(t._setSettings(c),r.mockUserToken)){let h,f;if(typeof r.mockUserToken=="string")h=r.mockUserToken,f=qt.MOCK_USER;else{h=cF(r.mockUserToken,(d=t._app)==null?void 0:d.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new J($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new qt(m)}t._authCredentials=new V3(new iC(h,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Or(this.firestore,e,this._query)}}class dt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new is(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new dt(this.firestore,e,this._key)}toJSON(){return{type:dt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(vu(n,dt._jsonSchema))return new dt(e,r||null,new ie(Ke.fromString(n.referencePath)))}}dt._jsonSchemaVersion="firestore/documentReference/1.0",dt._jsonSchema={type:wt("string",dt._jsonSchemaVersion),referencePath:wt("string")};class is extends Or{constructor(e,n,r){super(e,n,Ff(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new dt(this.firestore,null,new ie(e))}withConverter(e){return new is(this.firestore,e,this._path)}}function Tn(t,e,...n){if(t=rn(t),aC("collection","path",e),t instanceof Gf){const r=Ke.fromString(e,...n);return aE(r),new is(t,null,r)}{if(!(t instanceof dt||t instanceof is))throw new J($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ke.fromString(e,...n));return aE(r),new is(t.firestore,null,r)}}function Xa(t,e,...n){if(t=rn(t),arguments.length===1&&(e=Df.newId()),aC("doc","path",e),t instanceof Gf){const r=Ke.fromString(e,...n);return oE(r),new dt(t,null,new ie(r))}{if(!(t instanceof dt||t instanceof is))throw new J($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ke.fromString(e,...n));return oE(r),new dt(t.firestore,t instanceof is?t.converter:null,new ie(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QE="AsyncQueue";class YE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new eN(this,"async_queue_retry"),this._c=()=>{const r=bm();r&&Z(QE,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=bm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=bm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new ss;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!pl(e))throw e;Z(QE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,ps("INTERNAL UNHANDLED ERROR: ",XE(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=xw.createAndSchedule(this,e,n,r,i=>this.hc(i));return this.tc.push(s),s}uc(){this.nc&&ue(47125,{Pc:XE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function XE(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JE(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class gs extends Gf{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new YE,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new YE(e),this._firestoreClient=void 0,await e}}}function xN(t,e){const n=typeof t=="object"?t:Qb(),r=typeof t=="string"?t:Oh,s=ew(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=aF("firestore");i&&wN(s,...i)}return s}function Tu(t){if(t._terminated)throw new J($.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||PU(t),t._firestoreClient}function PU(t){var r,s,i;const e=t._freezeSettings(),n=function(a,c,d,h){return new r6(a,c,d,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,yN(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((i=e.localCache)!=null&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new bU(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const c=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new _n(Nt.fromBase64String(e))}catch(n){throw new J($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new _n(Nt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:_n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(vu(e,_n._jsonSchema))return _n.fromBase64String(e.bytes)}}_n._jsonSchemaVersion="firestore/bytes/1.0",_n._jsonSchema={type:wt("string",_n._jsonSchemaVersion),bytes:wt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new J($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new bt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new J($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new J($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return be(this._lat,e._lat)||be(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ar._jsonSchemaVersion}}static fromJSON(e){if(vu(e,ar._jsonSchema))return new ar(e.latitude,e.longitude)}}ar._jsonSchemaVersion="firestore/geoPoint/1.0",ar._jsonSchema={type:wt("string",ar._jsonSchemaVersion),latitude:wt("number"),longitude:wt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:lr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(vu(e,lr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new lr(e.vectorValues);throw new J($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}lr._jsonSchemaVersion="firestore/vectorValue/1.0",lr._jsonSchema={type:wt("string",lr._jsonSchemaVersion),vectorValues:wt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kU=/^__.*__$/;class jU{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Po(e,this.data,this.fieldMask,n,this.fieldTransforms):new wu(e,this.data,n,this.fieldTransforms)}}function _N(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ue(40011,{Ac:t})}}class Rw{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Rw({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return qh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(_N(this.Ac)&&kU.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class DU{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Wf(e)}Cc(e,n,r,s=!1){return new Rw({Ac:e,methodName:n,Dc:r,path:bt.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Aw(t){const e=t._freezeSettings(),n=Wf(t._databaseId);return new DU(t._databaseId,!!e.ignoreUndefinedProperties,n)}function EN(t,e,n,r,s,i={}){const o=t.Cc(i.merge||i.mergeFields?2:0,e,n,s);IN("Data must be an object, but it was:",o,r);const a=TN(r,o);let c,d;if(i.merge)c=new nr(o.fieldMask),d=o.fieldTransforms;else if(i.mergeFields){const h=[];for(const f of i.mergeFields){const m=OU(e,f,n);if(!o.contains(m))throw new J($.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);VU(h,m)||h.push(m)}c=new nr(h),d=o.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,d=o.fieldTransforms;return new jU(new On(a),c,d)}class Pw extends Yf{_toFieldTransform(e){return new N6(e.path,new Yc)}isEqual(e){return e instanceof Pw}}function MU(t,e,n,r=!1){return kw(n,t.Cc(r?4:3,e))}function kw(t,e){if(SN(t=rn(t)))return IN("Unsupported field value:",e,t),TN(t,e);if(t instanceof Yf)return function(r,s){if(!_N(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let c=kw(a,s.wc(o));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=rn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return I6(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Ge.fromDate(r);return{timestampValue:$h(s.serializer,i)}}if(r instanceof Ge){const i=new Ge(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:$h(s.serializer,i)}}if(r instanceof ar)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof _n)return{bytesValue:zC(s.serializer,r._byteString)};if(r instanceof dt){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:dw(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof lr)return function(o,a){return{mapValue:{fields:{[yC]:{stringValue:wC},[Lh]:{arrayValue:{values:o.toArray().map(d=>{if(typeof d!="number")throw a.Sc("VectorValues must only contain numeric values.");return aw(a.serializer,d)})}}}}}}(r,s);throw s.Sc(`Unsupported field value: ${Mf(r)}`)}(t,e)}function TN(t,e){const n={};return dC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ro(t,(r,s)=>{const i=kw(s,e.mc(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function SN(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ge||t instanceof ar||t instanceof _n||t instanceof dt||t instanceof Yf||t instanceof lr)}function IN(t,e,n){if(!SN(n)||!cC(n)){const r=Mf(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function OU(t,e,n){if((e=rn(e))instanceof Qf)return e._internalPath;if(typeof e=="string")return bN(t,e);throw qh("Field path arguments must be of type string or ",t,!1,void 0,n)}const LU=new RegExp("[~\\*/\\[\\]]");function bN(t,e,n){if(e.search(LU)>=0)throw qh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Qf(...e.split("."))._internalPath}catch{throw qh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function qh(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(i||o)&&(c+=" (found",i&&(c+=` in field ${r}`),o&&(c+=` in document ${s}`),c+=")"),new J($.INVALID_ARGUMENT,a+t+c)}function VU(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new dt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new FU(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Xf("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class FU extends CN{data(){return super.data()}}function Xf(t,e){return typeof e=="string"?bN(t,e):e instanceof Qf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NN(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new J($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class jw{}class Jf extends jw{}function Qs(t,e,...n){let r=[];e instanceof jw&&r.push(e),r=r.concat(n),function(i){const o=i.filter(c=>c instanceof Zf).length,a=i.filter(c=>c instanceof Su).length;if(o>1||o>0&&a>0)throw new J($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class Su extends Jf{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Su(e,n,r)}_apply(e){const n=this._parse(e);return AN(e._query,n),new Or(e.firestore,e.converter,iy(e._query,n))}_parse(e){const n=Aw(e.firestore);return function(i,o,a,c,d,h,f){let m;if(d.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new J($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){e1(f,h);const I=[];for(const v of f)I.push(ZE(c,i,v));m={arrayValue:{values:I}}}else m=ZE(c,i,f)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||e1(f,h),m=MU(a,o,f,h==="in"||h==="not-in");return vt.create(d,h,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function to(t,e,n){const r=e,s=Xf("where",t);return Su._create(s,r,n)}class Zf extends jw{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Zf(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:hr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const c of a)AN(o,c),o=iy(o,c)}(e._query,n),new Or(e.firestore,e.converter,iy(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ep extends Jf{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new ep(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new J($.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new J($.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Qc(i,o)}(e._query,this._field,this._direction);return new Or(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new ml(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function no(t,e="asc"){const n=e,r=Xf("orderBy",t);return ep._create(r,n)}class tp extends Jf{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new tp(e,n,r)}_apply(e){return new Or(e.firestore,e.converter,Fh(e._query,this._limit,this._limitType))}}function RN(t){return tp._create("limit",t,"F")}function ZE(t,e,n){if(typeof(n=rn(n))=="string"){if(n==="")throw new J($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!CC(e)&&n.indexOf("/")!==-1)throw new J($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ke.fromString(n));if(!ie.isDocumentKey(r))throw new J($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return mE(t,new ie(r))}if(n instanceof dt)return mE(t,n._key);throw new J($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Mf(n)}.`)}function e1(t,e){if(!Array.isArray(t)||t.length===0)throw new J($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function AN(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new J($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new J($.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class PN{convertValue(e,n="none"){switch(vi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ht(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(yi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ue(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ro(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var r,s,i;const n=(i=(s=(r=e.fields)==null?void 0:r[Lh].arrayValue)==null?void 0:s.values)==null?void 0:i.map(o=>ht(o.doubleValue));return new lr(n)}convertGeoPoint(e){return new ar(ht(e.latitude),ht(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Vf(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Kc(e));default:return null}}convertTimestamp(e){const n=gi(e);return new Ge(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ke.fromString(e);Ue(QC(r),9688,{name:e});const s=new qa(r.get(1),r.get(3)),i=new ie(r.popFirst(5));return s.isEqual(n)||ps(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kN(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class da{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ci extends CN{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new gc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Xf("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new J($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ci._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ci._jsonSchemaVersion="firestore/documentSnapshot/1.0",ci._jsonSchema={type:wt("string",ci._jsonSchemaVersion),bundleSource:wt("string","DocumentSnapshot"),bundleName:wt("string"),bundle:wt("string")};class gc extends ci{data(e={}){return super.data(e)}}class ui{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new da(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new gc(this._firestore,this._userDataWriter,r.key,r,new da(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new J($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const c=new gc(s._firestore,s._userDataWriter,a.doc.key,a.doc,new da(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const c=new gc(s._firestore,s._userDataWriter,a.doc.key,a.doc,new da(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let d=-1,h=-1;return a.type!==0&&(d=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:UU(a.type),doc:c,oldIndex:d,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new J($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ui._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Df.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function UU(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ue(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jN(t){t=bn(t,dt);const e=bn(t.firestore,gs);return RU(Tu(e),t._key).then(n=>ON(e,t,n))}ui._jsonSchemaVersion="firestore/querySnapshot/1.0",ui._jsonSchema={type:wt("string",ui._jsonSchemaVersion),bundleSource:wt("string","QuerySnapshot"),bundleName:wt("string"),bundle:wt("string")};class Dw extends PN{constructor(e){super(),this.firestore=e}convertBytes(e){return new _n(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new dt(this.firestore,null,n)}}function kn(t){t=bn(t,Or);const e=bn(t.firestore,gs),n=Tu(e),r=new Dw(e);return NN(t._query),AU(n,t._query).then(s=>new ui(e,r,t,s))}function Mw(t,e,n){t=bn(t,dt);const r=bn(t.firestore,gs),s=kN(t.converter,e,n);return np(r,[EN(Aw(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,or.none())])}function DN(t){return np(bn(t.firestore,gs),[new lw(t._key,or.none())])}function Ow(t,e){const n=bn(t.firestore,gs),r=Xa(t),s=kN(t.converter,e);return np(n,[EN(Aw(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,or.exists(!1))]).then(()=>r)}function MN(t,...e){var c,d,h;t=rn(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||JE(e[r])||(n=e[r++]);const s={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(JE(e[r])){const f=e[r];e[r]=(c=f.next)==null?void 0:c.bind(f),e[r+1]=(d=f.error)==null?void 0:d.bind(f),e[r+2]=(h=f.complete)==null?void 0:h.bind(f)}let i,o,a;if(t instanceof dt)o=bn(t.firestore,gs),a=Ff(t._key.path),i={next:f=>{e[r]&&e[r](ON(o,t,f))},error:e[r+1],complete:e[r+2]};else{const f=bn(t,Or);o=bn(f.firestore,gs),a=f._query;const m=new Dw(o);i={next:p=>{e[r]&&e[r](new ui(o,m,f,p))},error:e[r+1],complete:e[r+2]},NN(t._query)}return function(m,p,I,v){const x=new Nw(v),E=new Iw(p,x,I);return m.asyncQueue.enqueueAndForget(async()=>Ew(await Wh(m),E)),()=>{x.Nu(),m.asyncQueue.enqueueAndForget(async()=>Tw(await Wh(m),E))}}(Tu(o),a,s,i)}function np(t,e){return function(r,s){const i=new ss;return r.asyncQueue.enqueueAndForget(async()=>yU(await NU(r),s,i)),i.promise}(Tu(t),e)}function ON(t,e,n){const r=n.docs.get(e._key),s=new Dw(t);return new ci(t,s,e._key,r,new da(n.hasPendingWrites,n.fromCache),e.converter)}function LN(){return new Pw("serverTimestamp")}(function(e,n=!0){(function(s){hl=s})(dl),Ha(new fo("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new gs(new F3(r.getProvider("auth-internal")),new B3(o,r.getProvider("app-check-internal")),function(d,h){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new J($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new qa(d.options.projectId,h)}(o,s),o);return i={useFetchStreams:n,...i},a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),ai(nE,rE,e),ai(nE,rE,"esm2020")})();const $U=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:PN,Bytes:_n,CollectionReference:is,DocumentReference:dt,DocumentSnapshot:ci,FieldPath:Qf,FieldValue:Yf,Firestore:gs,FirestoreError:J,GeoPoint:ar,Query:Or,QueryCompositeFilterConstraint:Zf,QueryConstraint:Jf,QueryDocumentSnapshot:gc,QueryFieldFilterConstraint:Su,QueryLimitConstraint:tp,QueryOrderByConstraint:ep,QuerySnapshot:ui,SnapshotMetadata:da,Timestamp:Ge,VectorValue:lr,_AutoId:Df,_ByteString:Nt,_DatabaseId:qa,_DocumentKey:ie,_EmptyAuthCredentialsProvider:oC,_FieldPath:bt,_cast:bn,_logWarn:mo,_validateIsNotUsedTogether:lC,addDoc:Ow,collection:Tn,connectFirestoreEmulator:wN,deleteDoc:DN,doc:Xa,ensureFirestoreConfigured:Tu,executeWrite:np,getDoc:jN,getDocs:kn,getFirestore:xN,limit:RN,onSnapshot:MN,orderBy:no,query:Qs,serverTimestamp:LN,setDoc:Mw,where:to},Symbol.toStringTag,{value:"Module"}));function VN(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const BU=VN,FN=new gu("auth","Firebase",VN());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kh=new Jv("@firebase/auth");function zU(t,...e){Kh.logLevel<=Ie.WARN&&Kh.warn(`Auth (${dl}): ${t}`,...e)}function Qd(t,...e){Kh.logLevel<=Ie.ERROR&&Kh.error(`Auth (${dl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fr(t,...e){throw Lw(t,...e)}function Pr(t,...e){return Lw(t,...e)}function UN(t,e,n){const r={...BU(),[e]:n};return new gu("auth","Firebase",r).create(e,{appName:t.name})}function os(t){return UN(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Lw(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return FN.create(t,...e)}function ce(t,e,...n){if(!t)throw Lw(e,...n)}function Zr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Qd(e),new Error(e)}function ys(t,e){t||Zr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function my(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function HU(){return t1()==="http:"||t1()==="https:"}function t1(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WU(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(HU()||mF()||"connection"in navigator)?navigator.onLine:!0}function qU(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{constructor(e,n){this.shortDelay=e,this.longDelay=n,ys(n>e,"Short delay should be less than long delay!"),this.isMobile=hF()||gF()}get(){return WU()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vw(t,e){ys(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Zr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Zr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Zr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KU={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GU=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],QU=new Iu(3e4,6e4);function Ni(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Ri(t,e,n,r,s={}){return BN(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=yu({key:t.config.apiKey,...o}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const d={method:e,headers:c,...i};return pF()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&ul(t.emulatorConfig.host)&&(d.credentials="include"),$N.fetch()(await zN(t,t.config.apiHost,n,a),d)})}async function BN(t,e,n){t._canInitEmulator=!1;const r={...KU,...e};try{const s=new XU(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Td(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[c,d]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Td(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Td(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw Td(t,"user-disabled",o);const h=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw UN(t,h,d);fr(t,h)}}catch(s){if(s instanceof ws)throw s;fr(t,"network-request-failed",{message:String(s)})}}async function bu(t,e,n,r,s={}){const i=await Ri(t,e,n,r,s);return"mfaPendingCredential"in i&&fr(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function zN(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?Vw(t.config,s):`${t.config.apiScheme}://${s}`;return GU.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function YU(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class XU{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Pr(this.auth,"network-request-failed")),QU.get())})}}function Td(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Pr(t,e,r);return s.customData._tokenResponse=n,s}function n1(t){return t!==void 0&&t.enterprise!==void 0}class JU{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return YU(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function ZU(t,e){return Ri(t,"GET","/v2/recaptchaConfig",Ni(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e9(t,e){return Ri(t,"POST","/v1/accounts:delete",e)}async function Gh(t,e){return Ri(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function t9(t,e=!1){const n=rn(t),r=await n.getIdToken(e),s=Fw(r);ce(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:yc(Nm(s.auth_time)),issuedAtTime:yc(Nm(s.iat)),expirationTime:yc(Nm(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Nm(t){return Number(t)*1e3}function Fw(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Qd("JWT malformed, contained fewer than 3 sections"),null;try{const s=Ub(n);return s?JSON.parse(s):(Qd("Failed to decode base64 JWT payload"),null)}catch(s){return Qd("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function r1(t){const e=Fw(t);return ce(e,"internal-error"),ce(typeof e.exp<"u","internal-error"),ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ws&&n9(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function n9({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r9{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gy{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=yc(this.lastLoginAt),this.creationTime=yc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qh(t){var f;const e=t.auth,n=await t.getIdToken(),r=await Zc(t,Gh(e,{idToken:n}));ce(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const i=(f=s.providerUserInfo)!=null&&f.length?HN(s.providerUserInfo):[],o=i9(t.providerData,i),a=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),d=a?c:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new gy(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function s9(t){const e=rn(t);await Qh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function i9(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function HN(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o9(t,e){const n=await BN(t,{},async()=>{const r=yu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await zN(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:a,body:r};return t.emulatorConfig&&ul(t.emulatorConfig.host)&&(c.credentials="include"),$N.fetch()(o,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function a9(t,e){return Ri(t,"POST","/v2/accounts:revokeToken",Ni(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ce(e.idToken,"internal-error"),ce(typeof e.idToken<"u","internal-error"),ce(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):r1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ce(e.length!==0,"internal-error");const n=r1(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ce(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await o9(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new Ea;return r&&(ce(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(ce(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(ce(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ea,this.toJSON())}_performRefresh(){return Zr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rs(t,e){ce(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class rr{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new r9(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new gy(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Zc(this,this.stsTokenManager.getToken(this.auth,e));return ce(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return t9(this,e)}reload(){return s9(this)}_assign(e){this!==e&&(ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new rr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Qh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Mn(this.auth.app))return Promise.reject(os(this.auth));const e=await this.getIdToken();return await Zc(this,e9(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,c=n._redirectEventId??void 0,d=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:f,emailVerified:m,isAnonymous:p,providerData:I,stsTokenManager:v}=n;ce(f&&v,e,"internal-error");const x=Ea.fromJSON(this.name,v);ce(typeof f=="string",e,"internal-error"),Rs(r,e.name),Rs(s,e.name),ce(typeof m=="boolean",e,"internal-error"),ce(typeof p=="boolean",e,"internal-error"),Rs(i,e.name),Rs(o,e.name),Rs(a,e.name),Rs(c,e.name),Rs(d,e.name),Rs(h,e.name);const E=new rr({uid:f,auth:e,email:s,emailVerified:m,displayName:r,isAnonymous:p,photoURL:o,phoneNumber:i,tenantId:a,stsTokenManager:x,createdAt:d,lastLoginAt:h});return I&&Array.isArray(I)&&(E.providerData=I.map(w=>({...w}))),c&&(E._redirectEventId=c),E}static async _fromIdTokenResponse(e,n,r=!1){const s=new Ea;s.updateFromServerResponse(n);const i=new rr({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Qh(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];ce(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?HN(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new Ea;a.updateFromIdToken(r);const c=new rr({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new gy(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(c,d),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s1=new Map;function es(t){ys(t instanceof Function,"Expected a class definition");let e=s1.get(t);return e?(ys(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,s1.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}WN.type="NONE";const i1=WN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yd(t,e,n){return`firebase:${t}:${e}:${n}`}class Ta{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Yd(this.userKey,s.apiKey,i),this.fullPersistenceKey=Yd("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Gh(this.auth,{idToken:e}).catch(()=>{});return n?rr._fromGetAccountInfoResponse(this.auth,n,e):null}return rr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ta(es(i1),e,r);const s=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let i=s[0]||es(i1);const o=Yd(r,e.config.apiKey,e.name);let a=null;for(const d of n)try{const h=await d._get(o);if(h){let f;if(typeof h=="string"){const m=await Gh(e,{idToken:h}).catch(()=>{});if(!m)break;f=await rr._fromGetAccountInfoResponse(e,m,h)}else f=rr._fromJSON(e,h);d!==i&&(a=f),i=d;break}}catch{}const c=s.filter(d=>d._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new Ta(i,e,r):(i=c[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async d=>{if(d!==i)try{await d._remove(o)}catch{}})),new Ta(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(QN(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(qN(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(XN(e))return"Blackberry";if(JN(e))return"Webos";if(KN(e))return"Safari";if((e.includes("chrome/")||GN(e))&&!e.includes("edge/"))return"Chrome";if(YN(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function qN(t=Yt()){return/firefox\//i.test(t)}function KN(t=Yt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function GN(t=Yt()){return/crios\//i.test(t)}function QN(t=Yt()){return/iemobile/i.test(t)}function YN(t=Yt()){return/android/i.test(t)}function XN(t=Yt()){return/blackberry/i.test(t)}function JN(t=Yt()){return/webos/i.test(t)}function Uw(t=Yt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function l9(t=Yt()){var e;return Uw(t)&&!!((e=window.navigator)!=null&&e.standalone)}function c9(){return yF()&&document.documentMode===10}function ZN(t=Yt()){return Uw(t)||YN(t)||JN(t)||XN(t)||/windows phone/i.test(t)||QN(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eR(t,e=[]){let n;switch(t){case"Browser":n=o1(Yt());break;case"Worker":n=`${o1(Yt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${dl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u9{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const c=e(i);o(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d9(t,e={}){return Ri(t,"GET","/v2/passwordPolicy",Ni(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h9=6;class f9{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??h9,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p9{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new a1(this),this.idTokenSubscription=new a1(this),this.beforeStateQueue=new u9(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=FN,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=es(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await Ta.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Gh(this,{idToken:e}),r=await rr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(Mn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(i=this.redirectUser)==null?void 0:i._redirectEventId,a=r==null?void 0:r._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===a)&&(c!=null&&c.user)&&(r=c.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Qh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=qU()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Mn(this.app))return Promise.reject(os(this));const n=e?rn(e):null;return n&&ce(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Mn(this.app)?Promise.reject(os(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Mn(this.app)?Promise.reject(os(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(es(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await d9(this),n=new f9(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new gu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await a9(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&es(e)||this._popupRedirectResolver;ce(n,this,"argument-error"),this.redirectPersistenceManager=await Ta.create(this,[es(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ce(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,s);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=eR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Mn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&zU(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function jo(t){return rn(t)}class a1{constructor(e){this.auth=e,this.observer=null,this.addObserver=IF(n=>this.observer=n)}get next(){return ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function m9(t){rp=t}function tR(t){return rp.loadJS(t)}function g9(){return rp.recaptchaEnterpriseScript}function y9(){return rp.gapiScript}function v9(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class w9{constructor(){this.enterprise=new x9}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class x9{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const _9="recaptcha-enterprise",nR="NO_RECAPTCHA";class E9{constructor(e){this.type=_9,this.auth=jo(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{ZU(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const d=new JU(c);return i.tenantId==null?i._agentRecaptchaConfig=d:i._tenantRecaptchaConfigs[i.tenantId]=d,o(d.siteKey)}}).catch(c=>{a(c)})})}function s(i,o,a){const c=window.grecaptcha;n1(c)?c.enterprise.ready(()=>{c.enterprise.execute(i,{action:e}).then(d=>{o(d)}).catch(()=>{o(nR)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new w9().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&n1(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=g9();c.length!==0&&(c+=a),tR(c).then(()=>{s(a,i,o)}).catch(d=>{o(d)})}}).catch(a=>{o(a)})})}}async function l1(t,e,n,r=!1,s=!1){const i=new E9(t);let o;if(s)o=nR;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const a={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const c=a.phoneEnrollmentInfo.phoneNumber,d=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:d,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const c=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function yy(t,e,n,r,s){var i;if((i=t._getRecaptchaConfig())!=null&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await l1(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await l1(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T9(t,e){const n=ew(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(ho(i,e??{}))return s;fr(s,"already-initialized")}return n.initialize({options:e})}function S9(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(es);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function I9(t,e,n){const r=jo(t);ce(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),i=rR(e),{host:o,port:a}=b9(e),c=a===null?"":`:${a}`,d={url:`${i}//${o}${c}/`},h=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){ce(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ce(ho(d,r.config.emulator)&&ho(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,ul(o)?(Hb(`${i}//${o}${c}`),Wb("Auth",!0)):C9()}function rR(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function b9(t){const e=rR(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:c1(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:c1(o)}}}function c1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function C9(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Zr("not implemented")}_getIdTokenResponse(e){return Zr("not implemented")}_linkToIdToken(e,n){return Zr("not implemented")}_getReauthenticationResolver(e){return Zr("not implemented")}}async function N9(t,e){return Ri(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R9(t,e){return bu(t,"POST","/v1/accounts:signInWithPassword",Ni(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A9(t,e){return bu(t,"POST","/v1/accounts:signInWithEmailLink",Ni(t,e))}async function P9(t,e){return bu(t,"POST","/v1/accounts:signInWithEmailLink",Ni(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu extends $w{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new eu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new eu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return yy(e,n,"signInWithPassword",R9);case"emailLink":return A9(e,{email:this._email,oobCode:this._password});default:fr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return yy(e,r,"signUpPassword",N9);case"emailLink":return P9(e,{idToken:n,email:this._email,oobCode:this._password});default:fr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sa(t,e){return bu(t,"POST","/v1/accounts:signInWithIdp",Ni(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k9="http://localhost";class yo extends $w{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new yo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):fr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const o=new yo(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Sa(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Sa(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Sa(e,n)}buildRequest(){const e={requestUri:k9,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=yu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j9(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function D9(t){const e=Wl(ql(t)).link,n=e?Wl(ql(e)).deep_link_id:null,r=Wl(ql(t)).deep_link_id;return(r?Wl(ql(r)).link:null)||r||n||e||t}class Bw{constructor(e){const n=Wl(ql(e)),r=n.apiKey??null,s=n.oobCode??null,i=j9(n.mode??null);ce(r&&s&&i,"argument-error"),this.apiKey=r,this.operation=i,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=D9(e);try{return new Bw(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(){this.providerId=yl.PROVIDER_ID}static credential(e,n){return eu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Bw.parseLink(n);return ce(r,"argument-error"),eu._fromEmailAndCode(e,r.code,r.tenantId)}}yl.PROVIDER_ID="password";yl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";yl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu extends sR{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os extends Cu{constructor(){super("facebook.com")}static credential(e){return yo._fromParams({providerId:Os.PROVIDER_ID,signInMethod:Os.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Os.credentialFromTaggedObject(e)}static credentialFromError(e){return Os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Os.credential(e.oauthAccessToken)}catch{return null}}}Os.FACEBOOK_SIGN_IN_METHOD="facebook.com";Os.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls extends Cu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return yo._fromParams({providerId:Ls.PROVIDER_ID,signInMethod:Ls.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ls.credentialFromTaggedObject(e)}static credentialFromError(e){return Ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ls.credential(n,r)}catch{return null}}}Ls.GOOGLE_SIGN_IN_METHOD="google.com";Ls.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs extends Cu{constructor(){super("github.com")}static credential(e){return yo._fromParams({providerId:Vs.PROVIDER_ID,signInMethod:Vs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Vs.credentialFromTaggedObject(e)}static credentialFromError(e){return Vs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Vs.credential(e.oauthAccessToken)}catch{return null}}}Vs.GITHUB_SIGN_IN_METHOD="github.com";Vs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs extends Cu{constructor(){super("twitter.com")}static credential(e,n){return yo._fromParams({providerId:Fs.PROVIDER_ID,signInMethod:Fs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Fs.credentialFromTaggedObject(e)}static credentialFromError(e){return Fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Fs.credential(n,r)}catch{return null}}}Fs.TWITTER_SIGN_IN_METHOD="twitter.com";Fs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M9(t,e){return bu(t,"POST","/v1/accounts:signUp",Ni(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await rr._fromIdTokenResponse(e,r,s),o=u1(r);return new vo({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=u1(r);return new vo({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function u1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh extends ws{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Yh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Yh(e,n,r,s)}}function iR(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Yh._fromErrorAndOperation(t,i,e,r):i})}async function O9(t,e,n=!1){const r=await Zc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return vo._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L9(t,e,n=!1){const{auth:r}=t;if(Mn(r.app))return Promise.reject(os(r));const s="reauthenticate";try{const i=await Zc(t,iR(r,s,e,t),n);ce(i.idToken,r,"internal-error");const o=Fw(i.idToken);ce(o,r,"internal-error");const{sub:a}=o;return ce(t.uid===a,r,"user-mismatch"),vo._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&fr(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oR(t,e,n=!1){if(Mn(t.app))return Promise.reject(os(t));const r="signIn",s=await iR(t,r,e),i=await vo._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function V9(t,e){return oR(jo(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aR(t){const e=jo(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function F9(t,e,n){if(Mn(t.app))return Promise.reject(os(t));const r=jo(t),o=await yy(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",M9).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&aR(t),c}),a=await vo._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function U9(t,e,n){return Mn(t.app)?Promise.reject(os(t)):V9(rn(t),yl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&aR(t),r})}function $9(t,e,n,r){return rn(t).onIdTokenChanged(e,n,r)}function B9(t,e,n){return rn(t).beforeAuthStateChanged(e,n)}function z9(t){return rn(t).signOut()}const Xh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Xh,"1"),this.storage.removeItem(Xh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H9=1e3,W9=10;class cR extends lR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ZN(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,c)=>{this.notifyListeners(o,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);c9()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,W9):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},H9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}cR.type="LOCAL";const q9=cR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR extends lR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}uR.type="SESSION";const dR=uR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K9(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new sp(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async d=>d(n.origin,i)),c=await K9(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}sp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zw(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G9{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,c)=>{const d=zw("",20);s.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(f){const m=f;if(m.data.eventId===d)switch(m.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(m.data.response);break;default:clearTimeout(h),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kr(){return window}function Q9(t){kr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hR(){return typeof kr().WorkerGlobalScope<"u"&&typeof kr().importScripts=="function"}async function Y9(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function X9(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function J9(){return hR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fR="firebaseLocalStorageDb",Z9=1,Jh="firebaseLocalStorage",pR="fbase_key";class Nu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ip(t,e){return t.transaction([Jh],e?"readwrite":"readonly").objectStore(Jh)}function e$(){const t=indexedDB.deleteDatabase(fR);return new Nu(t).toPromise()}function vy(){const t=indexedDB.open(fR,Z9);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Jh,{keyPath:pR})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Jh)?e(r):(r.close(),await e$(),e(await vy()))})})}async function d1(t,e,n){const r=ip(t,!0).put({[pR]:e,value:n});return new Nu(r).toPromise()}async function t$(t,e){const n=ip(t,!1).get(e),r=await new Nu(n).toPromise();return r===void 0?null:r.value}function h1(t,e){const n=ip(t,!0).delete(e);return new Nu(n).toPromise()}const n$=800,r$=3;class mR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await vy(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>r$)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return hR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=sp._getInstance(J9()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await Y9(),!this.activeServiceWorker)return;this.sender=new G9(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||X9()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await vy();return await d1(e,Xh,"1"),await h1(e,Xh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>d1(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>t$(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>h1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=ip(s,!1).getAll();return new Nu(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),n$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}mR.type="LOCAL";const s$=mR;new Iu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i$(t,e){return e?es(e):(ce(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw extends $w{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Sa(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Sa(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Sa(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function o$(t){return oR(t.auth,new Hw(t),t.bypassAuthState)}function a$(t){const{auth:e,user:n}=t;return ce(n,e,"internal-error"),L9(n,new Hw(t),t.bypassAuthState)}async function l$(t){const{auth:e,user:n}=t;return ce(n,e,"internal-error"),O9(n,new Hw(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(c))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return o$;case"linkViaPopup":case"linkViaRedirect":return l$;case"reauthViaPopup":case"reauthViaRedirect":return a$;default:fr(this.auth,"internal-error")}}resolve(e){ys(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ys(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c$=new Iu(2e3,1e4);class ha extends gR{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,ha.currentPopupAction&&ha.currentPopupAction.cancel(),ha.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ce(e,this.auth,"internal-error"),e}async onExecution(){ys(this.filter.length===1,"Popup operations only handle one event");const e=zw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Pr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Pr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ha.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Pr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,c$.get())};e()}}ha.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u$="pendingRedirect",Xd=new Map;class d$ extends gR{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Xd.get(this.auth._key());if(!e){try{const r=await h$(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Xd.set(this.auth._key(),e)}return this.bypassAuthState||Xd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function h$(t,e){const n=m$(e),r=p$(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function f$(t,e){Xd.set(t._key(),e)}function p$(t){return es(t._redirectPersistence)}function m$(t){return Yd(u$,t.config.apiKey,t.name)}async function g$(t,e,n=!1){if(Mn(t.app))return Promise.reject(os(t));const r=jo(t),s=i$(r,e),o=await new d$(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y$=10*60*1e3;class v${constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!w$(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!yR(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Pr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=y$&&this.cachedEventUids.clear(),this.cachedEventUids.has(f1(e))}saveEventToCache(e){this.cachedEventUids.add(f1(e)),this.lastProcessedEventTime=Date.now()}}function f1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function yR({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function w$(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return yR(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x$(t,e={}){return Ri(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _$=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,E$=/^https?/;async function T$(t){if(t.config.emulator)return;const{authorizedDomains:e}=await x$(t);for(const n of e)try{if(S$(n))return}catch{}fr(t,"unauthorized-domain")}function S$(t){const e=my(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!E$.test(n))return!1;if(_$.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I$=new Iu(3e4,6e4);function p1(){const t=kr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function b$(t){return new Promise((e,n)=>{var s,i,o;function r(){p1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{p1(),n(Pr(t,"network-request-failed"))},timeout:I$.get()})}if((i=(s=kr().gapi)==null?void 0:s.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((o=kr().gapi)!=null&&o.load)r();else{const a=v9("iframefcb");return kr()[a]=()=>{gapi.load?r():n(Pr(t,"network-request-failed"))},tR(`${y9()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw Jd=null,e})}let Jd=null;function C$(t){return Jd=Jd||b$(t),Jd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N$=new Iu(5e3,15e3),R$="__/auth/iframe",A$="emulator/auth/iframe",P$={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},k$=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function j$(t){const e=t.config;ce(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Vw(e,A$):`https://${t.config.authDomain}/${R$}`,r={apiKey:e.apiKey,appName:t.name,v:dl},s=k$.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${yu(r).slice(1)}`}async function D$(t){const e=await C$(t),n=kr().gapi;return ce(n,t,"internal-error"),e.open({where:document.body,url:j$(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:P$,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Pr(t,"network-request-failed"),a=kr().setTimeout(()=>{i(o)},N$.get());function c(){kr().clearTimeout(a),s(r)}r.ping(c).then(c,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M$={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},O$=500,L$=600,V$="_blank",F$="http://localhost";class m1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function U$(t,e,n,r=O$,s=L$){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c={...M$,width:r.toString(),height:s.toString(),top:i,left:o},d=Yt().toLowerCase();n&&(a=GN(d)?V$:n),qN(d)&&(e=e||F$,c.scrollbars="yes");const h=Object.entries(c).reduce((m,[p,I])=>`${m}${p}=${I},`,"");if(l9(d)&&a!=="_self")return $$(e||"",a),new m1(null);const f=window.open(e||"",a,h);ce(f,t,"popup-blocked");try{f.focus()}catch{}return new m1(f)}function $$(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B$="__/auth/handler",z$="emulator/auth/handler",H$=encodeURIComponent("fac");async function g1(t,e,n,r,s,i){ce(t.config.authDomain,t,"auth-domain-config-required"),ce(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:dl,eventId:s};if(e instanceof sR){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",SF(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries({}))o[h]=f}if(e instanceof Cu){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const c=await t._getAppCheckToken(),d=c?`#${H$}=${encodeURIComponent(c)}`:"";return`${W$(t)}?${yu(a).slice(1)}${d}`}function W$({config:t}){return t.emulator?Vw(t,z$):`https://${t.authDomain}/${B$}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rm="webStorageSupport";class q${constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=dR,this._completeRedirectFn=g$,this._overrideRedirectResult=f$}async _openPopup(e,n,r,s){var o;ys((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const i=await g1(e,n,r,my(),s);return U$(e,i,zw())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await g1(e,n,r,my(),s);return Q9(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(ys(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await D$(e),r=new v$(e);return n.register("authEvent",s=>(ce(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Rm,{type:Rm},s=>{var o;const i=(o=s==null?void 0:s[0])==null?void 0:o[Rm];i!==void 0&&n(!!i),fr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=T$(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return ZN()||KN()||Uw()}}const K$=q$;var y1="@firebase/auth",v1="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G${constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q$(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Y$(t){Ha(new fo("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ce(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:eR(t)},d=new p9(r,s,i,c);return S9(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ha(new fo("auth-internal",e=>{const n=jo(e.getProvider("auth").getImmediate());return(r=>new G$(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ai(y1,v1,Q$(t)),ai(y1,v1,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X$=5*60,J$=zb("authIdTokenMaxAge")||X$;let w1=null;const Z$=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>J$)return;const s=n==null?void 0:n.token;w1!==s&&(w1=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function eB(t=Qb()){const e=ew(t,"auth");if(e.isInitialized())return e.getImmediate();const n=T9(t,{popupRedirectResolver:K$,persistence:[s$,q9,dR]}),r=zb("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=Z$(i.toString());B9(n,o,()=>o(n.currentUser)),$9(n,a=>o(a))}}const s=$b("auth");return s&&I9(n,`http://${s}`),n}function tB(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}m9({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Pr("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",tB().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Y$("Browser");const wy={apiKey:"AIzaSyA_rV5XCE9g17b7_kcxU7gqGB4szbywVgU",authDomain:"wastenot-62d80.firebaseapp.com",projectId:"wastenot-62d80",storageBucket:"wastenot-62d80.firebasestorage.app",messagingSenderId:"904388512739",appId:"1:904388512739:web:f20eba167f51d513622ed6"};(!wy.apiKey||!wy.projectId)&&(console.error("Firebase configuration is missing. Please check your .env file."),console.error("Required variables: VITE_FIREBASE_API_KEY, VITE_FIREBASE_PROJECT_ID, etc."));const vR=Gb(wy),Mt=xN(vR),Zd=eB(vR),nB=Object.freeze(Object.defineProperty({__proto__:null,auth:Zd,db:Mt},Symbol.toStringTag,{value:"Module"})),wR=y.createContext(void 0),Lr=()=>{const t=y.useContext(wR);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},rB=({children:t})=>{const[e,n]=y.useState({user:null,isLoading:!0,isAuthenticated:!1});y.useEffect(()=>{(async()=>{try{const a=localStorage.getItem("wastenot_user");if(a){const c=JSON.parse(a);n({user:c,isLoading:!1,isAuthenticated:!0})}else n(c=>({...c,isLoading:!1}))}catch(a){console.error("Auth check failed:",a),n(c=>({...c,isLoading:!1}))}})()},[]);const r=async(o,a)=>{try{const d=(await U9(Zd,o,a)).user,h=await jN(Xa(Mt,"users",d.uid));if(!h.exists())throw new Error("User profile not found in database.");const f=h.data();n({user:{id:d.uid,email:d.email,name:f.name||"",role:f.role||"buyer",phone:f.phone,address:f.address,businessName:f.businessName,organizationType:f.organizationType,createdAt:f.createdAt,updatedAt:f.updatedAt},isLoading:!1,isAuthenticated:!0}),localStorage.setItem("wastenot_user",JSON.stringify({id:d.uid,email:d.email,name:f.name||"",role:f.role||"buyer",phone:f.phone,address:f.address,businessName:f.businessName,organizationType:f.organizationType,createdAt:f.createdAt,updatedAt:f.updatedAt}))}catch(c){throw console.error("Login failed:",c),c}},s=async o=>{try{const c=(await F9(Zd,o.email,o.password)).user,d={id:c.uid,email:c.email,name:o.name,role:o.role,phone:o.phone,address:o.address,businessName:o.businessName,organizationType:o.organizationType,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};await Mw(Xa(Mt,"users",c.uid),d),localStorage.setItem("wastenot_user",JSON.stringify(d)),n({user:d,isLoading:!1,isAuthenticated:!0})}catch(a){throw console.error("Registration failed:",a),a}},i=async()=>{await z9(Zd),localStorage.removeItem("wastenot_user"),n({user:null,isLoading:!1,isAuthenticated:!1})};return l.jsx(wR.Provider,{value:{...e,login:r,register:s,logout:i},children:t})},xR=y.createContext(void 0),_R=()=>{const t=y.useContext(xR);if(t===void 0)throw new Error("useCart must be used within a CartProvider");return t},ER=(t,e)=>{switch(e.type){case"ADD_ITEM":if(t.items.find(r=>r.listingId===e.payload.listingId)){const r=t.items.map(s=>s.listingId===e.payload.listingId?{...s,quantity:s.quantity+1}:s);return{...t,items:r,total:r.reduce((s,i)=>s+i.price*i.quantity,0)}}else{const r=[...t.items,{...e.payload,quantity:1}];return{...t,items:r,total:r.reduce((s,i)=>s+i.price*i.quantity,0)}}case"REMOVE_ITEM":{const n=t.items.filter(r=>r.id!==e.payload);return{...t,items:n,total:n.reduce((r,s)=>r+s.price*s.quantity,0)}}case"UPDATE_QUANTITY":{if(e.payload.quantity<=0)return ER(t,{type:"REMOVE_ITEM",payload:e.payload.id});const n=t.items.map(r=>r.id===e.payload.id?{...r,quantity:e.payload.quantity}:r);return{...t,items:n,total:n.reduce((r,s)=>r+s.price*s.quantity,0)}}case"CLEAR_CART":return{items:[],total:0};default:return t}},sB=({children:t})=>{const[e,n]=y.useReducer(ER,{items:[],total:0}),r=c=>{n({type:"ADD_ITEM",payload:{...c,quantity:1}})},s=c=>{n({type:"REMOVE_ITEM",payload:c})},i=(c,d)=>{n({type:"UPDATE_QUANTITY",payload:{id:c,quantity:d}})},o=()=>{n({type:"CLEAR_CART"})},a=()=>e.items.reduce((c,d)=>c+d.quantity,0);return l.jsx(xR.Provider,{value:{cart:e,addToCart:r,removeFromCart:s,updateQuantity:i,clearCart:o,getItemCount:a},children:t})},iB=hu("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),de=y.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?CD:"button";return l.jsx(o,{className:oe(iB({variant:e,size:n,className:t})),ref:i,...s})});de.displayName="Button";var oB=y.createContext(void 0);function op(t){const e=y.useContext(oB);return t||e||"ltr"}var Am=0;function Ww(){y.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??x1()),document.body.insertAdjacentElement("beforeend",t[1]??x1()),Am++,()=>{Am===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Am--}},[])}function x1(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Pm="focusScope.autoFocusOnMount",km="focusScope.autoFocusOnUnmount",_1={bubbles:!1,cancelable:!0},aB="FocusScope",ap=y.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,c]=y.useState(null),d=nn(s),h=nn(i),f=y.useRef(null),m=je(e,v=>c(v)),p=y.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;y.useEffect(()=>{if(r){let v=function(T){if(p.paused||!a)return;const A=T.target;a.contains(A)?f.current=A:Ps(f.current,{select:!0})},x=function(T){if(p.paused||!a)return;const A=T.relatedTarget;A!==null&&(a.contains(A)||Ps(f.current,{select:!0}))},E=function(T){if(document.activeElement===document.body)for(const D of T)D.removedNodes.length>0&&Ps(a)};document.addEventListener("focusin",v),document.addEventListener("focusout",x);const w=new MutationObserver(E);return a&&w.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",x),w.disconnect()}}},[r,a,p.paused]),y.useEffect(()=>{if(a){T1.add(p);const v=document.activeElement;if(!a.contains(v)){const E=new CustomEvent(Pm,_1);a.addEventListener(Pm,d),a.dispatchEvent(E),E.defaultPrevented||(lB(fB(TR(a)),{select:!0}),document.activeElement===v&&Ps(a))}return()=>{a.removeEventListener(Pm,d),setTimeout(()=>{const E=new CustomEvent(km,_1);a.addEventListener(km,h),a.dispatchEvent(E),E.defaultPrevented||Ps(v??document.body,{select:!0}),a.removeEventListener(km,h),T1.remove(p)},0)}}},[a,d,h,p]);const I=y.useCallback(v=>{if(!n&&!r||p.paused)return;const x=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,E=document.activeElement;if(x&&E){const w=v.currentTarget,[T,A]=cB(w);T&&A?!v.shiftKey&&E===A?(v.preventDefault(),n&&Ps(T,{select:!0})):v.shiftKey&&E===T&&(v.preventDefault(),n&&Ps(A,{select:!0})):E===w&&v.preventDefault()}},[n,r,p.paused]);return l.jsx(ae.div,{tabIndex:-1,...o,ref:m,onKeyDown:I})});ap.displayName=aB;function lB(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Ps(r,{select:e}),document.activeElement!==n)return}function cB(t){const e=TR(t),n=E1(e,t),r=E1(e.reverse(),t);return[n,r]}function TR(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function E1(t,e){for(const n of t)if(!uB(n,{upTo:e}))return n}function uB(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function dB(t){return t instanceof HTMLInputElement&&"select"in t}function Ps(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&dB(t)&&e&&t.select()}}var T1=hB();function hB(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=S1(t,e),t.unshift(e)},remove(e){var n;t=S1(t,e),(n=t[0])==null||n.resume()}}}function S1(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function fB(t){return t.filter(e=>e.tagName!=="A")}var jm="rovingFocusGroup.onEntryFocus",pB={bubbles:!1,cancelable:!0},Ru="RovingFocusGroup",[xy,SR,mB]=_f(Ru),[gB,lp]=Bn(Ru,[mB]),[yB,vB]=gB(Ru),IR=y.forwardRef((t,e)=>l.jsx(xy.Provider,{scope:t.__scopeRovingFocusGroup,children:l.jsx(xy.Slot,{scope:t.__scopeRovingFocusGroup,children:l.jsx(wB,{...t,ref:e})})}));IR.displayName=Ru;var wB=y.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:h=!1,...f}=t,m=y.useRef(null),p=je(e,m),I=op(i),[v,x]=co({prop:o,defaultProp:a??null,onChange:c,caller:Ru}),[E,w]=y.useState(!1),T=nn(d),A=SR(n),D=y.useRef(!1),[M,b]=y.useState(0);return y.useEffect(()=>{const S=m.current;if(S)return S.addEventListener(jm,T),()=>S.removeEventListener(jm,T)},[T]),l.jsx(yB,{scope:n,orientation:r,dir:I,loop:s,currentTabStopId:v,onItemFocus:y.useCallback(S=>x(S),[x]),onItemShiftTab:y.useCallback(()=>w(!0),[]),onFocusableItemAdd:y.useCallback(()=>b(S=>S+1),[]),onFocusableItemRemove:y.useCallback(()=>b(S=>S-1),[]),children:l.jsx(ae.div,{tabIndex:E||M===0?-1:0,"data-orientation":r,...f,ref:p,style:{outline:"none",...t.style},onMouseDown:Y(t.onMouseDown,()=>{D.current=!0}),onFocus:Y(t.onFocus,S=>{const C=!D.current;if(S.target===S.currentTarget&&C&&!E){const R=new CustomEvent(jm,pB);if(S.currentTarget.dispatchEvent(R),!R.defaultPrevented){const k=A().filter(X=>X.focusable),j=k.find(X=>X.active),P=k.find(X=>X.id===v),se=[j,P,...k].filter(Boolean).map(X=>X.ref.current);NR(se,h)}}D.current=!1}),onBlur:Y(t.onBlur,()=>w(!1))})})}),bR="RovingFocusGroupItem",CR=y.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,children:o,...a}=t,c=rs(),d=i||c,h=vB(bR,n),f=h.currentTabStopId===d,m=SR(n),{onFocusableItemAdd:p,onFocusableItemRemove:I,currentTabStopId:v}=h;return y.useEffect(()=>{if(r)return p(),()=>I()},[r,p,I]),l.jsx(xy.ItemSlot,{scope:n,id:d,focusable:r,active:s,children:l.jsx(ae.span,{tabIndex:f?0:-1,"data-orientation":h.orientation,...a,ref:e,onMouseDown:Y(t.onMouseDown,x=>{r?h.onItemFocus(d):x.preventDefault()}),onFocus:Y(t.onFocus,()=>h.onItemFocus(d)),onKeyDown:Y(t.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){h.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const E=EB(x,h.orientation,h.dir);if(E!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let T=m().filter(A=>A.focusable).map(A=>A.ref.current);if(E==="last")T.reverse();else if(E==="prev"||E==="next"){E==="prev"&&T.reverse();const A=T.indexOf(x.currentTarget);T=h.loop?TB(T,A+1):T.slice(A+1)}setTimeout(()=>NR(T))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:v!=null}):o})})});CR.displayName=bR;var xB={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function _B(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function EB(t,e,n){const r=_B(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return xB[r]}function NR(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function TB(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var RR=IR,AR=CR,SB=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Wo=new WeakMap,Sd=new WeakMap,Id={},Dm=0,PR=function(t){return t&&(t.host||PR(t.parentNode))},IB=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=PR(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},bB=function(t,e,n,r){var s=IB(e,Array.isArray(t)?t:[t]);Id[n]||(Id[n]=new WeakMap);var i=Id[n],o=[],a=new Set,c=new Set(s),d=function(f){!f||a.has(f)||(a.add(f),d(f.parentNode))};s.forEach(d);var h=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(m){if(a.has(m))h(m);else try{var p=m.getAttribute(r),I=p!==null&&p!=="false",v=(Wo.get(m)||0)+1,x=(i.get(m)||0)+1;Wo.set(m,v),i.set(m,x),o.push(m),v===1&&I&&Sd.set(m,!0),x===1&&m.setAttribute(n,"true"),I||m.setAttribute(r,"true")}catch(E){console.error("aria-hidden: cannot operate on ",m,E)}})};return h(e),a.clear(),Dm++,function(){o.forEach(function(f){var m=Wo.get(f)-1,p=i.get(f)-1;Wo.set(f,m),i.set(f,p),m||(Sd.has(f)||f.removeAttribute(r),Sd.delete(f)),p||f.removeAttribute(n)}),Dm--,Dm||(Wo=new WeakMap,Wo=new WeakMap,Sd=new WeakMap,Id={})}},qw=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=SB(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),bB(r,s,n,"aria-hidden")):function(){return null}},Sr=function(){return Sr=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Sr.apply(this,arguments)};function kR(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function CB(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var eh="right-scroll-bar-position",th="width-before-scroll-bar",NB="with-scroll-bars-hidden",RB="--removed-body-scroll-bar-size";function Mm(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function AB(t,e){var n=y.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var PB=typeof window<"u"?y.useLayoutEffect:y.useEffect,I1=new WeakMap;function kB(t,e){var n=AB(null,function(r){return t.forEach(function(s){return Mm(s,r)})});return PB(function(){var r=I1.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||Mm(a,null)}),i.forEach(function(a){s.has(a)||Mm(a,o)})}I1.set(n,t)},[t]),n}function jB(t){return t}function DB(t,e){e===void 0&&(e=jB);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var c=function(){var h=o;o=[],h.forEach(i)},d=function(){return Promise.resolve().then(c)};d(),n={push:function(h){o.push(h),d()},filter:function(h){return o=o.filter(h),n}}}};return s}function MB(t){t===void 0&&(t={});var e=DB(null);return e.options=Sr({async:!0,ssr:!1},t),e}var jR=function(t){var e=t.sideCar,n=kR(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return y.createElement(r,Sr({},n))};jR.isSideCarExport=!0;function OB(t,e){return t.useMedium(e),jR}var DR=MB(),Om=function(){},cp=y.forwardRef(function(t,e){var n=y.useRef(null),r=y.useState({onScrollCapture:Om,onWheelCapture:Om,onTouchMoveCapture:Om}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,c=t.className,d=t.removeScrollBar,h=t.enabled,f=t.shards,m=t.sideCar,p=t.noRelative,I=t.noIsolation,v=t.inert,x=t.allowPinchZoom,E=t.as,w=E===void 0?"div":E,T=t.gapMode,A=kR(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),D=m,M=kB([n,e]),b=Sr(Sr({},A),s);return y.createElement(y.Fragment,null,h&&y.createElement(D,{sideCar:DR,removeScrollBar:d,shards:f,noRelative:p,noIsolation:I,inert:v,setCallbacks:i,allowPinchZoom:!!x,lockRef:n,gapMode:T}),o?y.cloneElement(y.Children.only(a),Sr(Sr({},b),{ref:M})):y.createElement(w,Sr({},b,{className:c,ref:M}),a))});cp.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};cp.classNames={fullWidth:th,zeroRight:eh};var LB=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function VB(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=LB();return e&&t.setAttribute("nonce",e),t}function FB(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function UB(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var $B=function(){var t=0,e=null;return{add:function(n){t==0&&(e=VB())&&(FB(e,n),UB(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},BB=function(){var t=$B();return function(e,n){y.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},MR=function(){var t=BB(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},zB={left:0,top:0,right:0,gap:0},Lm=function(t){return parseInt(t||"",10)||0},HB=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[Lm(n),Lm(r),Lm(s)]},WB=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return zB;var e=HB(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},qB=MR(),Ia="data-scroll-locked",KB=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(NB,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Ia,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(eh,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(th,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(eh," .").concat(eh,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(th," .").concat(th,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Ia,`] {
    `).concat(RB,": ").concat(a,`px;
  }
`)},b1=function(){var t=parseInt(document.body.getAttribute(Ia)||"0",10);return isFinite(t)?t:0},GB=function(){y.useEffect(function(){return document.body.setAttribute(Ia,(b1()+1).toString()),function(){var t=b1()-1;t<=0?document.body.removeAttribute(Ia):document.body.setAttribute(Ia,t.toString())}},[])},QB=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;GB();var i=y.useMemo(function(){return WB(s)},[s]);return y.createElement(qB,{styles:KB(i,!e,s,n?"":"!important")})},_y=!1;if(typeof window<"u")try{var bd=Object.defineProperty({},"passive",{get:function(){return _y=!0,!0}});window.addEventListener("test",bd,bd),window.removeEventListener("test",bd,bd)}catch{_y=!1}var qo=_y?{passive:!1}:!1,YB=function(t){return t.tagName==="TEXTAREA"},OR=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!YB(t)&&n[e]==="visible")},XB=function(t){return OR(t,"overflowY")},JB=function(t){return OR(t,"overflowX")},C1=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=LR(t,r);if(s){var i=VR(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},ZB=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},ez=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},LR=function(t,e){return t==="v"?XB(e):JB(e)},VR=function(t,e){return t==="v"?ZB(e):ez(e)},tz=function(t,e){return t==="h"&&e==="rtl"?-1:1},nz=function(t,e,n,r,s){var i=tz(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,c=e.contains(a),d=!1,h=o>0,f=0,m=0;do{if(!a)break;var p=VR(t,a),I=p[0],v=p[1],x=p[2],E=v-x-i*I;(I||E)&&LR(t,a)&&(f+=E,m+=I);var w=a.parentNode;a=w&&w.nodeType===Node.DOCUMENT_FRAGMENT_NODE?w.host:w}while(!c&&a!==document.body||c&&(e.contains(a)||e===a));return(h&&(Math.abs(f)<1||!s)||!h&&(Math.abs(m)<1||!s))&&(d=!0),d},Cd=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},N1=function(t){return[t.deltaX,t.deltaY]},R1=function(t){return t&&"current"in t?t.current:t},rz=function(t,e){return t[0]===e[0]&&t[1]===e[1]},sz=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},iz=0,Ko=[];function oz(t){var e=y.useRef([]),n=y.useRef([0,0]),r=y.useRef(),s=y.useState(iz++)[0],i=y.useState(MR)[0],o=y.useRef(t);y.useEffect(function(){o.current=t},[t]),y.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var v=CB([t.lockRef.current],(t.shards||[]).map(R1),!0).filter(Boolean);return v.forEach(function(x){return x.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),v.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=y.useCallback(function(v,x){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!o.current.allowPinchZoom;var E=Cd(v),w=n.current,T="deltaX"in v?v.deltaX:w[0]-E[0],A="deltaY"in v?v.deltaY:w[1]-E[1],D,M=v.target,b=Math.abs(T)>Math.abs(A)?"h":"v";if("touches"in v&&b==="h"&&M.type==="range")return!1;var S=C1(b,M);if(!S)return!0;if(S?D=b:(D=b==="v"?"h":"v",S=C1(b,M)),!S)return!1;if(!r.current&&"changedTouches"in v&&(T||A)&&(r.current=D),!D)return!0;var C=r.current||D;return nz(C,x,v,C==="h"?T:A,!0)},[]),c=y.useCallback(function(v){var x=v;if(!(!Ko.length||Ko[Ko.length-1]!==i)){var E="deltaY"in x?N1(x):Cd(x),w=e.current.filter(function(D){return D.name===x.type&&(D.target===x.target||x.target===D.shadowParent)&&rz(D.delta,E)})[0];if(w&&w.should){x.cancelable&&x.preventDefault();return}if(!w){var T=(o.current.shards||[]).map(R1).filter(Boolean).filter(function(D){return D.contains(x.target)}),A=T.length>0?a(x,T[0]):!o.current.noIsolation;A&&x.cancelable&&x.preventDefault()}}},[]),d=y.useCallback(function(v,x,E,w){var T={name:v,delta:x,target:E,should:w,shadowParent:az(E)};e.current.push(T),setTimeout(function(){e.current=e.current.filter(function(A){return A!==T})},1)},[]),h=y.useCallback(function(v){n.current=Cd(v),r.current=void 0},[]),f=y.useCallback(function(v){d(v.type,N1(v),v.target,a(v,t.lockRef.current))},[]),m=y.useCallback(function(v){d(v.type,Cd(v),v.target,a(v,t.lockRef.current))},[]);y.useEffect(function(){return Ko.push(i),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:m}),document.addEventListener("wheel",c,qo),document.addEventListener("touchmove",c,qo),document.addEventListener("touchstart",h,qo),function(){Ko=Ko.filter(function(v){return v!==i}),document.removeEventListener("wheel",c,qo),document.removeEventListener("touchmove",c,qo),document.removeEventListener("touchstart",h,qo)}},[]);var p=t.removeScrollBar,I=t.inert;return y.createElement(y.Fragment,null,I?y.createElement(i,{styles:sz(s)}):null,p?y.createElement(QB,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function az(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const lz=OB(DR,oz);var up=y.forwardRef(function(t,e){return y.createElement(cp,Sr({},t,{ref:e,sideCar:lz}))});up.classNames=cp.classNames;var Ey=["Enter"," "],cz=["ArrowDown","PageUp","Home"],FR=["ArrowUp","PageDown","End"],uz=[...cz,...FR],dz={ltr:[...Ey,"ArrowRight"],rtl:[...Ey,"ArrowLeft"]},hz={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Au="Menu",[tu,fz,pz]=_f(Au),[Do,UR]=Bn(Au,[pz,al,lp]),dp=al(),$R=lp(),[mz,Mo]=Do(Au),[gz,Pu]=Do(Au),BR=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:s,onOpenChange:i,modal:o=!0}=t,a=dp(e),[c,d]=y.useState(null),h=y.useRef(!1),f=nn(i),m=op(s);return y.useEffect(()=>{const p=()=>{h.current=!0,document.addEventListener("pointerdown",I,{capture:!0,once:!0}),document.addEventListener("pointermove",I,{capture:!0,once:!0})},I=()=>h.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",I,{capture:!0}),document.removeEventListener("pointermove",I,{capture:!0})}},[]),l.jsx(fb,{...a,children:l.jsx(mz,{scope:e,open:n,onOpenChange:f,content:c,onContentChange:d,children:l.jsx(gz,{scope:e,onClose:y.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:h,dir:m,modal:o,children:r})})})};BR.displayName=Au;var yz="MenuAnchor",Kw=y.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=dp(n);return l.jsx(Bv,{...s,...r,ref:e})});Kw.displayName=yz;var Gw="MenuPortal",[vz,zR]=Do(Gw,{forceMount:void 0}),HR=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:s}=t,i=Mo(Gw,e);return l.jsx(vz,{scope:e,forceMount:n,children:l.jsx(pr,{present:n||i.open,children:l.jsx(uu,{asChild:!0,container:s,children:r})})})};HR.displayName=Gw;var Fn="MenuContent",[wz,Qw]=Do(Fn),WR=y.forwardRef((t,e)=>{const n=zR(Fn,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=Mo(Fn,t.__scopeMenu),o=Pu(Fn,t.__scopeMenu);return l.jsx(tu.Provider,{scope:t.__scopeMenu,children:l.jsx(pr,{present:r||i.open,children:l.jsx(tu.Slot,{scope:t.__scopeMenu,children:o.modal?l.jsx(xz,{...s,ref:e}):l.jsx(_z,{...s,ref:e})})})})}),xz=y.forwardRef((t,e)=>{const n=Mo(Fn,t.__scopeMenu),r=y.useRef(null),s=je(e,r);return y.useEffect(()=>{const i=r.current;if(i)return qw(i)},[]),l.jsx(Yw,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Y(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),_z=y.forwardRef((t,e)=>{const n=Mo(Fn,t.__scopeMenu);return l.jsx(Yw,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),Ez=lo("MenuContent.ScrollLock"),Yw=y.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEntryFocus:c,onEscapeKeyDown:d,onPointerDownOutside:h,onFocusOutside:f,onInteractOutside:m,onDismiss:p,disableOutsideScroll:I,...v}=t,x=Mo(Fn,n),E=Pu(Fn,n),w=dp(n),T=$R(n),A=fz(n),[D,M]=y.useState(null),b=y.useRef(null),S=je(e,b,x.onContentChange),C=y.useRef(0),R=y.useRef(""),k=y.useRef(0),j=y.useRef(null),P=y.useRef("right"),z=y.useRef(0),se=I?up:y.Fragment,X=I?{as:Ez,allowPinchZoom:!0}:void 0,re=O=>{var q,Ae;const H=R.current+O,ne=A().filter(Pe=>!Pe.disabled),Q=document.activeElement,te=(q=ne.find(Pe=>Pe.ref.current===Q))==null?void 0:q.textValue,le=ne.map(Pe=>Pe.textValue),Re=Dz(le,H,te),Fe=(Ae=ne.find(Pe=>Pe.textValue===Re))==null?void 0:Ae.ref.current;(function Pe(ve){R.current=ve,window.clearTimeout(C.current),ve!==""&&(C.current=window.setTimeout(()=>Pe(""),1e3))})(H),Fe&&setTimeout(()=>Fe.focus())};y.useEffect(()=>()=>window.clearTimeout(C.current),[]),Ww();const V=y.useCallback(O=>{var ne,Q;return P.current===((ne=j.current)==null?void 0:ne.side)&&Oz(O,(Q=j.current)==null?void 0:Q.area)},[]);return l.jsx(wz,{scope:n,searchRef:R,onItemEnter:y.useCallback(O=>{V(O)&&O.preventDefault()},[V]),onItemLeave:y.useCallback(O=>{var H;V(O)||((H=b.current)==null||H.focus(),M(null))},[V]),onTriggerLeave:y.useCallback(O=>{V(O)&&O.preventDefault()},[V]),pointerGraceTimerRef:k,onPointerGraceIntentChange:y.useCallback(O=>{j.current=O},[]),children:l.jsx(se,{...X,children:l.jsx(ap,{asChild:!0,trapped:s,onMountAutoFocus:Y(i,O=>{var H;O.preventDefault(),(H=b.current)==null||H.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:l.jsx(rl,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:d,onPointerDownOutside:h,onFocusOutside:f,onInteractOutside:m,onDismiss:p,children:l.jsx(RR,{asChild:!0,...T,dir:E.dir,orientation:"vertical",loop:r,currentTabStopId:D,onCurrentTabStopIdChange:M,onEntryFocus:Y(c,O=>{E.isUsingKeyboardRef.current||O.preventDefault()}),preventScrollOnEntryFocus:!0,children:l.jsx(zv,{role:"menu","aria-orientation":"vertical","data-state":aA(x.open),"data-radix-menu-content":"",dir:E.dir,...w,...v,ref:S,style:{outline:"none",...v.style},onKeyDown:Y(v.onKeyDown,O=>{const ne=O.target.closest("[data-radix-menu-content]")===O.currentTarget,Q=O.ctrlKey||O.altKey||O.metaKey,te=O.key.length===1;ne&&(O.key==="Tab"&&O.preventDefault(),!Q&&te&&re(O.key));const le=b.current;if(O.target!==le||!uz.includes(O.key))return;O.preventDefault();const Fe=A().filter(q=>!q.disabled).map(q=>q.ref.current);FR.includes(O.key)&&Fe.reverse(),kz(Fe)}),onBlur:Y(t.onBlur,O=>{O.currentTarget.contains(O.target)||(window.clearTimeout(C.current),R.current="")}),onPointerMove:Y(t.onPointerMove,nu(O=>{const H=O.target,ne=z.current!==O.clientX;if(O.currentTarget.contains(H)&&ne){const Q=O.clientX>z.current?"right":"left";P.current=Q,z.current=O.clientX}}))})})})})})})});WR.displayName=Fn;var Tz="MenuGroup",Xw=y.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return l.jsx(ae.div,{role:"group",...r,ref:e})});Xw.displayName=Tz;var Sz="MenuLabel",qR=y.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return l.jsx(ae.div,{...r,ref:e})});qR.displayName=Sz;var Zh="MenuItem",A1="menu.itemSelect",hp=y.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...s}=t,i=y.useRef(null),o=Pu(Zh,t.__scopeMenu),a=Qw(Zh,t.__scopeMenu),c=je(e,i),d=y.useRef(!1),h=()=>{const f=i.current;if(!n&&f){const m=new CustomEvent(A1,{bubbles:!0,cancelable:!0});f.addEventListener(A1,p=>r==null?void 0:r(p),{once:!0}),Sv(f,m),m.defaultPrevented?d.current=!1:o.onClose()}};return l.jsx(KR,{...s,ref:c,disabled:n,onClick:Y(t.onClick,h),onPointerDown:f=>{var m;(m=t.onPointerDown)==null||m.call(t,f),d.current=!0},onPointerUp:Y(t.onPointerUp,f=>{var m;d.current||(m=f.currentTarget)==null||m.click()}),onKeyDown:Y(t.onKeyDown,f=>{const m=a.searchRef.current!=="";n||m&&f.key===" "||Ey.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});hp.displayName=Zh;var KR=y.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...i}=t,o=Qw(Zh,n),a=$R(n),c=y.useRef(null),d=je(e,c),[h,f]=y.useState(!1),[m,p]=y.useState("");return y.useEffect(()=>{const I=c.current;I&&p((I.textContent??"").trim())},[i.children]),l.jsx(tu.ItemSlot,{scope:n,disabled:r,textValue:s??m,children:l.jsx(AR,{asChild:!0,...a,focusable:!r,children:l.jsx(ae.div,{role:"menuitem","data-highlighted":h?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:d,onPointerMove:Y(t.onPointerMove,nu(I=>{r?o.onItemLeave(I):(o.onItemEnter(I),I.defaultPrevented||I.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Y(t.onPointerLeave,nu(I=>o.onItemLeave(I))),onFocus:Y(t.onFocus,()=>f(!0)),onBlur:Y(t.onBlur,()=>f(!1))})})})}),Iz="MenuCheckboxItem",GR=y.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...s}=t;return l.jsx(ZR,{scope:t.__scopeMenu,checked:n,children:l.jsx(hp,{role:"menuitemcheckbox","aria-checked":ef(n)?"mixed":n,...s,ref:e,"data-state":Zw(n),onSelect:Y(s.onSelect,()=>r==null?void 0:r(ef(n)?!0:!n),{checkForDefaultPrevented:!1})})})});GR.displayName=Iz;var QR="MenuRadioGroup",[bz,Cz]=Do(QR,{value:void 0,onValueChange:()=>{}}),YR=y.forwardRef((t,e)=>{const{value:n,onValueChange:r,...s}=t,i=nn(r);return l.jsx(bz,{scope:t.__scopeMenu,value:n,onValueChange:i,children:l.jsx(Xw,{...s,ref:e})})});YR.displayName=QR;var XR="MenuRadioItem",JR=y.forwardRef((t,e)=>{const{value:n,...r}=t,s=Cz(XR,t.__scopeMenu),i=n===s.value;return l.jsx(ZR,{scope:t.__scopeMenu,checked:i,children:l.jsx(hp,{role:"menuitemradio","aria-checked":i,...r,ref:e,"data-state":Zw(i),onSelect:Y(r.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,n)},{checkForDefaultPrevented:!1})})})});JR.displayName=XR;var Jw="MenuItemIndicator",[ZR,Nz]=Do(Jw,{checked:!1}),eA=y.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...s}=t,i=Nz(Jw,n);return l.jsx(pr,{present:r||ef(i.checked)||i.checked===!0,children:l.jsx(ae.span,{...s,ref:e,"data-state":Zw(i.checked)})})});eA.displayName=Jw;var Rz="MenuSeparator",tA=y.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return l.jsx(ae.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});tA.displayName=Rz;var Az="MenuArrow",nA=y.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=dp(n);return l.jsx(Hv,{...s,...r,ref:e})});nA.displayName=Az;var Pz="MenuSub",[bH,rA]=Do(Pz),Yl="MenuSubTrigger",sA=y.forwardRef((t,e)=>{const n=Mo(Yl,t.__scopeMenu),r=Pu(Yl,t.__scopeMenu),s=rA(Yl,t.__scopeMenu),i=Qw(Yl,t.__scopeMenu),o=y.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:c}=i,d={__scopeMenu:t.__scopeMenu},h=y.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return y.useEffect(()=>h,[h]),y.useEffect(()=>{const f=a.current;return()=>{window.clearTimeout(f),c(null)}},[a,c]),l.jsx(Kw,{asChild:!0,...d,children:l.jsx(KR,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":aA(n.open),...t,ref:xf(e,s.onTriggerChange),onClick:f=>{var m;(m=t.onClick)==null||m.call(t,f),!(t.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Y(t.onPointerMove,nu(f=>{i.onItemEnter(f),!f.defaultPrevented&&!t.disabled&&!n.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),h()},100))})),onPointerLeave:Y(t.onPointerLeave,nu(f=>{var p,I;h();const m=(p=n.content)==null?void 0:p.getBoundingClientRect();if(m){const v=(I=n.content)==null?void 0:I.dataset.side,x=v==="right",E=x?-5:5,w=m[x?"left":"right"],T=m[x?"right":"left"];i.onPointerGraceIntentChange({area:[{x:f.clientX+E,y:f.clientY},{x:w,y:m.top},{x:T,y:m.top},{x:T,y:m.bottom},{x:w,y:m.bottom}],side:v}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(f),f.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:Y(t.onKeyDown,f=>{var p;const m=i.searchRef.current!=="";t.disabled||m&&f.key===" "||dz[r.dir].includes(f.key)&&(n.onOpenChange(!0),(p=n.content)==null||p.focus(),f.preventDefault())})})})});sA.displayName=Yl;var iA="MenuSubContent",oA=y.forwardRef((t,e)=>{const n=zR(Fn,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=Mo(Fn,t.__scopeMenu),o=Pu(Fn,t.__scopeMenu),a=rA(iA,t.__scopeMenu),c=y.useRef(null),d=je(e,c);return l.jsx(tu.Provider,{scope:t.__scopeMenu,children:l.jsx(pr,{present:r||i.open,children:l.jsx(tu.Slot,{scope:t.__scopeMenu,children:l.jsx(Yw,{id:a.contentId,"aria-labelledby":a.triggerId,...s,ref:d,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:h=>{var f;o.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),h.preventDefault()},onCloseAutoFocus:h=>h.preventDefault(),onFocusOutside:Y(t.onFocusOutside,h=>{h.target!==a.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:Y(t.onEscapeKeyDown,h=>{o.onClose(),h.preventDefault()}),onKeyDown:Y(t.onKeyDown,h=>{var p;const f=h.currentTarget.contains(h.target),m=hz[o.dir].includes(h.key);f&&m&&(i.onOpenChange(!1),(p=a.trigger)==null||p.focus(),h.preventDefault())})})})})})});oA.displayName=iA;function aA(t){return t?"open":"closed"}function ef(t){return t==="indeterminate"}function Zw(t){return ef(t)?"indeterminate":t?"checked":"unchecked"}function kz(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function jz(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function Dz(t,e,n){const s=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=jz(t,Math.max(i,0));s.length===1&&(o=o.filter(d=>d!==n));const c=o.find(d=>d.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function Mz(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i],c=e[o],d=a.x,h=a.y,f=c.x,m=c.y;h>r!=m>r&&n<(f-d)*(r-h)/(m-h)+d&&(s=!s)}return s}function Oz(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return Mz(n,e)}function nu(t){return e=>e.pointerType==="mouse"?t(e):void 0}var Lz=BR,Vz=Kw,Fz=HR,Uz=WR,$z=Xw,Bz=qR,zz=hp,Hz=GR,Wz=YR,qz=JR,Kz=eA,Gz=tA,Qz=nA,Yz=sA,Xz=oA,fp="DropdownMenu",[Jz,CH]=Bn(fp,[UR]),an=UR(),[Zz,lA]=Jz(fp),cA=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:s,defaultOpen:i,onOpenChange:o,modal:a=!0}=t,c=an(e),d=y.useRef(null),[h,f]=co({prop:s,defaultProp:i??!1,onChange:o,caller:fp});return l.jsx(Zz,{scope:e,triggerId:rs(),triggerRef:d,contentId:rs(),open:h,onOpenChange:f,onOpenToggle:y.useCallback(()=>f(m=>!m),[f]),modal:a,children:l.jsx(Lz,{...c,open:h,onOpenChange:f,dir:r,modal:a,children:n})})};cA.displayName=fp;var uA="DropdownMenuTrigger",dA=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=t,i=lA(uA,n),o=an(n);return l.jsx(Vz,{asChild:!0,...o,children:l.jsx(ae.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:xf(e,i.triggerRef),onPointerDown:Y(t.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(i.onOpenToggle(),i.open||a.preventDefault())}),onKeyDown:Y(t.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&i.onOpenToggle(),a.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});dA.displayName=uA;var e8="DropdownMenuPortal",hA=t=>{const{__scopeDropdownMenu:e,...n}=t,r=an(e);return l.jsx(Fz,{...r,...n})};hA.displayName=e8;var fA="DropdownMenuContent",pA=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=lA(fA,n),i=an(n),o=y.useRef(!1);return l.jsx(Uz,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...r,ref:e,onCloseAutoFocus:Y(t.onCloseAutoFocus,a=>{var c;o.current||(c=s.triggerRef.current)==null||c.focus(),o.current=!1,a.preventDefault()}),onInteractOutside:Y(t.onInteractOutside,a=>{const c=a.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,h=c.button===2||d;(!s.modal||h)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});pA.displayName=fA;var t8="DropdownMenuGroup",n8=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=an(n);return l.jsx($z,{...s,...r,ref:e})});n8.displayName=t8;var r8="DropdownMenuLabel",mA=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=an(n);return l.jsx(Bz,{...s,...r,ref:e})});mA.displayName=r8;var s8="DropdownMenuItem",gA=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=an(n);return l.jsx(zz,{...s,...r,ref:e})});gA.displayName=s8;var i8="DropdownMenuCheckboxItem",yA=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=an(n);return l.jsx(Hz,{...s,...r,ref:e})});yA.displayName=i8;var o8="DropdownMenuRadioGroup",a8=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=an(n);return l.jsx(Wz,{...s,...r,ref:e})});a8.displayName=o8;var l8="DropdownMenuRadioItem",vA=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=an(n);return l.jsx(qz,{...s,...r,ref:e})});vA.displayName=l8;var c8="DropdownMenuItemIndicator",wA=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=an(n);return l.jsx(Kz,{...s,...r,ref:e})});wA.displayName=c8;var u8="DropdownMenuSeparator",xA=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=an(n);return l.jsx(Gz,{...s,...r,ref:e})});xA.displayName=u8;var d8="DropdownMenuArrow",h8=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=an(n);return l.jsx(Qz,{...s,...r,ref:e})});h8.displayName=d8;var f8="DropdownMenuSubTrigger",_A=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=an(n);return l.jsx(Yz,{...s,...r,ref:e})});_A.displayName=f8;var p8="DropdownMenuSubContent",EA=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=an(n);return l.jsx(Xz,{...s,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});EA.displayName=p8;var m8=cA,g8=dA,y8=hA,TA=pA,SA=mA,IA=gA,bA=yA,CA=vA,NA=wA,RA=xA,AA=_A,PA=EA;const v8=m8,w8=g8,x8=y.forwardRef(({className:t,inset:e,children:n,...r},s)=>l.jsxs(AA,{ref:s,className:oe("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",t),...r,children:[n,l.jsx(_M,{className:"ml-auto h-4 w-4"})]}));x8.displayName=AA.displayName;const _8=y.forwardRef(({className:t,...e},n)=>l.jsx(PA,{ref:n,className:oe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));_8.displayName=PA.displayName;const kA=y.forwardRef(({className:t,sideOffset:e=4,...n},r)=>l.jsx(y8,{children:l.jsx(TA,{ref:r,sideOffset:e,className:oe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));kA.displayName=TA.displayName;const jA=y.forwardRef(({className:t,inset:e,...n},r)=>l.jsx(IA,{ref:r,className:oe("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...n}));jA.displayName=IA.displayName;const E8=y.forwardRef(({className:t,children:e,checked:n,...r},s)=>l.jsxs(bA,{ref:s,className:oe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(NA,{children:l.jsx(Nv,{className:"h-4 w-4"})})}),e]}));E8.displayName=bA.displayName;const T8=y.forwardRef(({className:t,children:e,...n},r)=>l.jsxs(CA,{ref:r,className:oe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(NA,{children:l.jsx(jI,{className:"h-2 w-2 fill-current"})})}),e]}));T8.displayName=CA.displayName;const S8=y.forwardRef(({className:t,inset:e,...n},r)=>l.jsx(SA,{ref:r,className:oe("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));S8.displayName=SA.displayName;const I8=y.forwardRef(({className:t,...e},n)=>l.jsx(RA,{ref:n,className:oe("-mx-1 my-1 h-px bg-muted",t),...e}));I8.displayName=RA.displayName;var DA={exports:{}},MA={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ja=y;function b8(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var C8=typeof Object.is=="function"?Object.is:b8,N8=Ja.useState,R8=Ja.useEffect,A8=Ja.useLayoutEffect,P8=Ja.useDebugValue;function k8(t,e){var n=e(),r=N8({inst:{value:n,getSnapshot:e}}),s=r[0].inst,i=r[1];return A8(function(){s.value=n,s.getSnapshot=e,Vm(s)&&i({inst:s})},[t,n,e]),R8(function(){return Vm(s)&&i({inst:s}),t(function(){Vm(s)&&i({inst:s})})},[t]),P8(n),n}function Vm(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!C8(t,n)}catch{return!0}}function j8(t,e){return e()}var D8=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?j8:k8;MA.useSyncExternalStore=Ja.useSyncExternalStore!==void 0?Ja.useSyncExternalStore:D8;DA.exports=MA;var M8=DA.exports;function O8(){return M8.useSyncExternalStore(L8,()=>!0,()=>!1)}function L8(){return()=>{}}var ex="Avatar",[V8,NH]=Bn(ex),[F8,OA]=V8(ex),LA=y.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[s,i]=y.useState("idle");return l.jsx(F8,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:l.jsx(ae.span,{...r,ref:e})})});LA.displayName=ex;var VA="AvatarImage",FA=y.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...i}=t,o=OA(VA,n),a=U8(r,i),c=nn(d=>{s(d),o.onImageLoadingStatusChange(d)});return xt(()=>{a!=="idle"&&c(a)},[a,c]),a==="loaded"?l.jsx(ae.img,{...i,ref:e,src:r}):null});FA.displayName=VA;var UA="AvatarFallback",$A=y.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...s}=t,i=OA(UA,n),[o,a]=y.useState(r===void 0);return y.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>a(!0),r);return()=>window.clearTimeout(c)}},[r]),o&&i.imageLoadingStatus!=="loaded"?l.jsx(ae.span,{...s,ref:e}):null});$A.displayName=UA;function P1(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function U8(t,{referrerPolicy:e,crossOrigin:n}){const r=O8(),s=y.useRef(null),i=r?(s.current||(s.current=new window.Image),s.current):null,[o,a]=y.useState(()=>P1(i,t));return xt(()=>{a(P1(i,t))},[i,t]),xt(()=>{const c=f=>()=>{a(f)};if(!i)return;const d=c("loaded"),h=c("error");return i.addEventListener("load",d),i.addEventListener("error",h),e&&(i.referrerPolicy=e),typeof n=="string"&&(i.crossOrigin=n),()=>{i.removeEventListener("load",d),i.removeEventListener("error",h)}},[i,n,e]),o}var BA=LA,zA=FA,HA=$A;const WA=y.forwardRef(({className:t,...e},n)=>l.jsx(BA,{ref:n,className:oe("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));WA.displayName=BA.displayName;const $8=y.forwardRef(({className:t,...e},n)=>l.jsx(zA,{ref:n,className:oe("aspect-square h-full w-full",t),...e}));$8.displayName=zA.displayName;const qA=y.forwardRef(({className:t,...e},n)=>l.jsx(HA,{ref:n,className:oe("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));qA.displayName=HA.displayName;const B8=hu("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function en({className:t,variant:e,...n}){return l.jsx("div",{className:oe(B8({variant:e}),t),...n})}var pp="Dialog",[KA,RH]=Bn(pp),[z8,mr]=KA(pp),GA=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,a=y.useRef(null),c=y.useRef(null),[d,h]=co({prop:r,defaultProp:s??!1,onChange:i,caller:pp});return l.jsx(z8,{scope:e,triggerRef:a,contentRef:c,contentId:rs(),titleId:rs(),descriptionId:rs(),open:d,onOpenChange:h,onOpenToggle:y.useCallback(()=>h(f=>!f),[h]),modal:o,children:n})};GA.displayName=pp;var QA="DialogTrigger",YA=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=mr(QA,n),i=je(e,s.triggerRef);return l.jsx(ae.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":rx(s.open),...r,ref:i,onClick:Y(t.onClick,s.onOpenToggle)})});YA.displayName=QA;var tx="DialogPortal",[H8,XA]=KA(tx,{forceMount:void 0}),JA=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=mr(tx,e);return l.jsx(H8,{scope:e,forceMount:n,children:y.Children.map(r,o=>l.jsx(pr,{present:n||i.open,children:l.jsx(uu,{asChild:!0,container:s,children:o})}))})};JA.displayName=tx;var tf="DialogOverlay",ZA=y.forwardRef((t,e)=>{const n=XA(tf,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=mr(tf,t.__scopeDialog);return i.modal?l.jsx(pr,{present:r||i.open,children:l.jsx(q8,{...s,ref:e})}):null});ZA.displayName=tf;var W8=lo("DialogOverlay.RemoveScroll"),q8=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=mr(tf,n);return l.jsx(up,{as:W8,allowPinchZoom:!0,shards:[s.contentRef],children:l.jsx(ae.div,{"data-state":rx(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),wo="DialogContent",eP=y.forwardRef((t,e)=>{const n=XA(wo,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=mr(wo,t.__scopeDialog);return l.jsx(pr,{present:r||i.open,children:i.modal?l.jsx(K8,{...s,ref:e}):l.jsx(G8,{...s,ref:e})})});eP.displayName=wo;var K8=y.forwardRef((t,e)=>{const n=mr(wo,t.__scopeDialog),r=y.useRef(null),s=je(e,n.contentRef,r);return y.useEffect(()=>{const i=r.current;if(i)return qw(i)},[]),l.jsx(tP,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Y(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Y(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:Y(t.onFocusOutside,i=>i.preventDefault())})}),G8=y.forwardRef((t,e)=>{const n=mr(wo,t.__scopeDialog),r=y.useRef(!1),s=y.useRef(!1);return l.jsx(tP,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var c,d;(c=t.onInteractOutside)==null||c.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((d=n.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),tP=y.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,a=mr(wo,n),c=y.useRef(null),d=je(e,c);return Ww(),l.jsxs(l.Fragment,{children:[l.jsx(ap,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:l.jsx(rl,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":rx(a.open),...o,ref:d,onDismiss:()=>a.onOpenChange(!1)})}),l.jsxs(l.Fragment,{children:[l.jsx(Q8,{titleId:a.titleId}),l.jsx(X8,{contentRef:c,descriptionId:a.descriptionId})]})]})}),nx="DialogTitle",nP=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=mr(nx,n);return l.jsx(ae.h2,{id:s.titleId,...r,ref:e})});nP.displayName=nx;var rP="DialogDescription",sP=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=mr(rP,n);return l.jsx(ae.p,{id:s.descriptionId,...r,ref:e})});sP.displayName=rP;var iP="DialogClose",oP=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=mr(iP,n);return l.jsx(ae.button,{type:"button",...r,ref:e,onClick:Y(t.onClick,()=>s.onOpenChange(!1))})});oP.displayName=iP;function rx(t){return t?"open":"closed"}var aP="DialogTitleWarning",[AH,lP]=ID(aP,{contentName:wo,titleName:nx,docsSlug:"dialog"}),Q8=({titleId:t})=>{const e=lP(aP),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return y.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},Y8="DialogDescriptionWarning",X8=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${lP(Y8).contentName}}.`;return y.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},cP=GA,J8=YA,uP=JA,mp=ZA,gp=eP,yp=nP,vp=sP,dP=oP;const Z8=cP,e7=J8,t7=uP,hP=y.forwardRef(({className:t,...e},n)=>l.jsx(mp,{className:oe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));hP.displayName=mp.displayName;const n7=hu("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),fP=y.forwardRef(({side:t="right",className:e,children:n,...r},s)=>l.jsxs(t7,{children:[l.jsx(hP,{}),l.jsxs(gp,{ref:s,className:oe(n7({side:t}),e),...r,children:[n,l.jsxs(dP,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[l.jsx(pu,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));fP.displayName=gp.displayName;const pP=({className:t,...e})=>l.jsx("div",{className:oe("flex flex-col space-y-2 text-center sm:text-left",t),...e});pP.displayName="SheetHeader";const mP=y.forwardRef(({className:t,...e},n)=>l.jsx(yp,{ref:n,className:oe("text-lg font-semibold text-foreground",t),...e}));mP.displayName=yp.displayName;const gP=y.forwardRef(({className:t,...e},n)=>l.jsx(vp,{ref:n,className:oe("text-sm text-muted-foreground",t),...e}));gP.displayName=vp.displayName;const r7=cP,s7=uP,yP=y.forwardRef(({className:t,...e},n)=>l.jsx(mp,{ref:n,className:oe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));yP.displayName=mp.displayName;const vP=y.forwardRef(({className:t,children:e,...n},r)=>l.jsxs(s7,{children:[l.jsx(yP,{}),l.jsxs(gp,{ref:r,className:oe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,l.jsxs(dP,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[l.jsx(pu,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));vP.displayName=gp.displayName;const wP=({className:t,...e})=>l.jsx("div",{className:oe("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});wP.displayName="DialogHeader";const xP=({className:t,...e})=>l.jsx("div",{className:oe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});xP.displayName="DialogFooter";const _P=y.forwardRef(({className:t,...e},n)=>l.jsx(yp,{ref:n,className:oe("text-lg font-semibold leading-none tracking-tight",t),...e}));_P.displayName=yp.displayName;const EP=y.forwardRef(({className:t,...e},n)=>l.jsx(vp,{ref:n,className:oe("text-sm text-muted-foreground",t),...e}));EP.displayName=vp.displayName;const qe=y.forwardRef(({className:t,type:e,...n},r)=>l.jsx("input",{type:e,className:oe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));qe.displayName="Input";var i7="Label",TP=y.forwardRef((t,e)=>l.jsx(ae.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));TP.displayName=i7;var SP=TP;const o7=hu("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Be=y.forwardRef(({className:t,...e},n)=>l.jsx(SP,{ref:n,className:oe(o7(),t),...e}));Be.displayName=SP.displayName;var a7="Separator",k1="horizontal",l7=["horizontal","vertical"],IP=y.forwardRef((t,e)=>{const{decorative:n,orientation:r=k1,...s}=t,i=c7(r)?r:k1,a=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return l.jsx(ae.div,{"data-orientation":i,...a,...s,ref:e})});IP.displayName=a7;function c7(t){return l7.includes(t)}var bP=IP;const sx=y.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},s)=>l.jsx(bP,{ref:s,decorative:n,orientation:e,className:oe("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));sx.displayName=bP.displayName;const u7=()=>{const{cart:t,updateQuantity:e,removeFromCart:n,clearCart:r,getItemCount:s}=_R(),{user:i}=Lr(),{toast:o}=nl(),[a,c]=y.useState(!1),[d,h]=y.useState(!1),[f,m]=y.useState(!1),[p,I]=y.useState(""),v=async()=>{if(!i){o({title:"Please log in",description:"You need to be logged in to make a purchase.",variant:"destructive"});return}if(t.items.length===0){o({title:"Cart is empty",description:"Add items to your cart before checking out.",variant:"destructive"});return}I(i.phone||""),m(!0)},x=async()=>{if(!p||p.length<10){o({title:"Invalid phone number",description:"Please enter a valid phone number (e.g., 0712345678)",variant:"destructive"});return}c(!0),m(!1);try{const w=parseInt("4141");if(!w)throw new Error("Payment channel not configured. Please add VITE_PAYHERO_CHANNEL_ID to your .env file.");const T="TDVGRVZWRHV0SkJzaFhBTkt6TEY6YldRT0VNZVNPbXFEd2liRjQ0Z2x5VlMxTjNIRG5kS2FFam56NDJoSw==",A=`ORDER-${Date.now()}`,D={userId:i==null?void 0:i.id,userName:(i==null?void 0:i.name)||(i==null?void 0:i.email)||"Customer",userEmail:i==null?void 0:i.email,userPhone:p,items:t.items.map(C=>({id:C.id,title:C.title,businessName:C.businessName,price:C.price,quantity:C.quantity,expiryTime:C.expiryTime})),totalAmount:Math.round(t.total),status:"pending",paymentStatus:"pending",paymentReference:A,orderDate:new Date().toISOString(),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},M=await Ow(Tn(Mt,"orders"),D);console.log("Order created with ID:",M.id);const b=await fetch("https://backend.payhero.co.ke/api/v2/payments",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Basic ${T}`},body:JSON.stringify({amount:Math.round(t.total),phone_number:p,channel_id:w,provider:"m-pesa",external_reference:A,customer_name:(i==null?void 0:i.name)||(i==null?void 0:i.email)||"Customer",callback_url:`${window.location.origin}/api/payment/webhook`})}),S=await b.json();if(!b.ok)throw new Error((S==null?void 0:S.error)||(S==null?void 0:S.message)||`Payment failed with status ${b.status}`);if(S.success)o({title:"STK Push Sent!",description:`Check your phone (${p}) to complete payment. Ref: ${S.reference||S.CheckoutRequestID||""}`}),r(),h(!1);else throw new Error("Payment initiation failed")}catch(w){console.error("Payment error:",w),o({title:"Payment Failed",description:w instanceof Error?w.message:"Unable to process payment. Please try again.",variant:"destructive"})}finally{c(!1)}},E=s();return l.jsxs(l.Fragment,{children:[l.jsxs(Z8,{open:d,onOpenChange:h,children:[l.jsx(e7,{asChild:!0,children:l.jsxs(de,{variant:"outline",size:"sm",className:"relative",children:[l.jsx(f_,{className:"h-4 w-4"}),E>0&&l.jsx(en,{variant:"destructive",className:"absolute -top-2 -right-2 h-5 w-5 rounded-full p-0 text-xs",children:E})]})}),l.jsxs(fP,{className:"w-full sm:max-w-lg",children:[l.jsxs(pP,{children:[l.jsx(mP,{children:"Shopping Cart"}),l.jsx(gP,{children:E>0?`${E} item${E!==1?"s":""} in your cart`:"Your cart is empty"})]}),l.jsx("div",{className:"mt-6 space-y-4",children:t.items.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx(f_,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),l.jsx("p",{className:"text-muted-foreground",children:"Your cart is empty"}),l.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Add items from our surplus food listings"})]}):l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:t.items.map(w=>l.jsxs("div",{className:"flex items-center space-x-4 p-3 border border-border rounded-lg",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("h4",{className:"font-medium truncate",children:w.title}),l.jsx("p",{className:"text-sm text-muted-foreground",children:w.businessName}),l.jsxs("p",{className:"text-sm font-medium",children:["KSh ",w.price.toLocaleString()]}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:["Expires: ",new Date(w.expiryTime).toLocaleString()]})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(de,{variant:"outline",size:"sm",onClick:()=>e(w.id,w.quantity-1),disabled:w.quantity<=1,children:l.jsx(SM,{className:"h-3 w-3"})}),l.jsx("span",{className:"w-8 text-center text-sm",children:w.quantity}),l.jsx(de,{variant:"outline",size:"sm",onClick:()=>e(w.id,w.quantity+1),children:l.jsx($a,{className:"h-3 w-3"})}),l.jsx(de,{variant:"ghost",size:"sm",onClick:()=>n(w.id),children:l.jsx(pu,{className:"h-3 w-3"})})]})]},w.id))}),l.jsx(sx,{}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex justify-between items-center font-medium",children:[l.jsx("span",{children:"Total"}),l.jsxs("span",{children:["KSh ",t.total.toLocaleString()]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(de,{className:"w-full",onClick:v,disabled:a,children:a?"Processing...":"Proceed to Payment"}),l.jsx(de,{variant:"outline",className:"w-full",onClick:r,children:"Clear Cart"})]})]})]})})]})]}),l.jsx(r7,{open:f,onOpenChange:m,children:l.jsxs(vP,{children:[l.jsxs(wP,{children:[l.jsx(_P,{children:"Enter Phone Number"}),l.jsx(EP,{children:"Enter your M-PESA phone number to receive the STK push for payment."})]}),l.jsxs("div",{className:"space-y-4 py-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Be,{htmlFor:"phone",children:"Phone Number"}),l.jsx(qe,{id:"phone",placeholder:"0712345678",value:p,onChange:w=>I(w.target.value),maxLength:10,disabled:a}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Format: 07XXXXXXXX or 01XXXXXXXX"})]}),l.jsx("div",{className:"space-y-2",children:l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"font-medium",children:"Amount to pay:"}),l.jsxs("span",{className:"font-bold",children:["KSh ",t.total.toLocaleString()]})]})})]}),l.jsxs(xP,{children:[l.jsx(de,{variant:"outline",onClick:()=>m(!1),disabled:a,children:"Cancel"}),l.jsx(de,{onClick:x,disabled:a||!p,children:a?"Processing...":"Send STK Push"})]})]})})]})},d7=()=>{var c;const{user:t,isAuthenticated:e,logout:n}=Lr(),r=Co(),s=No(),i=()=>{n(),s("/")},a=(()=>{if(!t)return[];switch(t.role){case"business":return[{path:"/business/dashboard",label:"Dashboard",icon:Bd},{path:"/business/listings",label:"My Listings",icon:Jr},{path:"/business/add-listing",label:"Add Food",icon:$a}];case"buyer":return[{path:"/browse",label:"Browse Food",icon:Jr},{path:"/orders",label:"My Orders",icon:Bd}];case"admin":return[{path:"/admin/dashboard",label:"Dashboard",icon:Bd},{path:"/admin/businesses",label:"Businesses",icon:Jr},{path:"/admin/users",label:"Users",icon:Pv}];default:return[]}})();return l.jsx("nav",{className:"border-b border-border bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:l.jsx("div",{className:"container mx-auto px-4",children:l.jsxs("div",{className:"flex h-16 items-center justify-between",children:[l.jsxs(Dt,{to:"/",className:"flex items-center space-x-2",children:[l.jsx(Mc,{className:"h-8 w-8 text-success"}),l.jsx("span",{className:"text-2xl font-bold text-foreground",children:"WasteNot"})]}),l.jsxs("div",{className:"flex items-center space-x-6",children:[e&&l.jsx("div",{className:"hidden md:flex items-center space-x-4",children:a.map(d=>{const h=d.icon;return l.jsxs(Dt,{to:d.path,className:`flex items-center space-x-1 px-3 py-2 rounded-md text-sm font-medium transition-colors ${r.pathname===d.path?"bg-primary text-primary-foreground":"text-muted-foreground hover:text-foreground hover:bg-accent"}`,children:[l.jsx(h,{className:"h-4 w-4"}),l.jsx("span",{children:d.label})]},d.path)})}),e?l.jsxs("div",{className:"flex items-center space-x-4",children:[(t==null?void 0:t.role)==="buyer"&&l.jsx(u7,{}),l.jsxs(v8,{children:[l.jsx(w8,{asChild:!0,children:l.jsx(de,{variant:"ghost",className:"relative h-10 w-10 rounded-full",children:l.jsx(WA,{className:"h-10 w-10",children:l.jsx(qA,{children:(c=t==null?void 0:t.name)==null?void 0:c.charAt(0).toUpperCase()})})})}),l.jsxs(kA,{className:"w-56",align:"end",children:[l.jsxs("div",{className:"px-2 py-1.5",children:[l.jsx("p",{className:"text-sm font-medium",children:t==null?void 0:t.name}),l.jsx("p",{className:"text-xs text-muted-foreground",children:t==null?void 0:t.email}),l.jsx("p",{className:"text-xs text-muted-foreground capitalize",children:t==null?void 0:t.role})]}),l.jsxs(jA,{onClick:i,children:[l.jsx(TM,{className:"mr-2 h-4 w-4"}),l.jsx("span",{children:"Log out"})]})]})]})]}):l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(de,{variant:"ghost",asChild:!0,children:l.jsx(Dt,{to:"/login",children:"Login"})}),l.jsx(de,{asChild:!0,children:l.jsx(Dt,{to:"/register",children:"Get Started"})})]})]})]})})})},ye=y.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:oe("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));ye.displayName="Card";const Ve=y.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:oe("flex flex-col space-y-1.5 p-6",t),...e}));Ve.displayName="CardHeader";const Ce=y.forwardRef(({className:t,...e},n)=>l.jsx("h3",{ref:n,className:oe("text-2xl font-semibold leading-none tracking-tight",t),...e}));Ce.displayName="CardTitle";const ut=y.forwardRef(({className:t,...e},n)=>l.jsx("p",{ref:n,className:oe("text-sm text-muted-foreground",t),...e}));ut.displayName="CardDescription";const xe=y.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:oe("p-6 pt-0",t),...e}));xe.displayName="CardContent";const h7=y.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:oe("flex items-center p-6 pt-0",t),...e}));h7.displayName="CardFooter";const f7=()=>l.jsxs("div",{className:"min-h-screen bg-background",children:[l.jsx("div",{className:"relative overflow-hidden",children:l.jsx("div",{className:"container mx-auto px-4 py-20",children:l.jsxs("div",{className:"text-center space-y-8 max-w-4xl mx-auto",children:[l.jsxs(en,{variant:"secondary",className:"text-success-foreground bg-success/20",children:[l.jsx(Mc,{className:"w-4 h-4 mr-2"}),"Fighting Food Waste Together"]}),l.jsxs("h1",{className:"text-5xl md:text-7xl font-bold text-foreground leading-tight",children:["Turn Food Waste Into",l.jsx("span",{className:"text-success",children:" Community Support"})]}),l.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:"Connect businesses with surplus food to people who need it. Save money, reduce waste, and build stronger communities."}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[l.jsx(de,{size:"lg",asChild:!0,className:"text-lg px-8 py-6",children:l.jsxs(Dt,{to:"/register",children:["Get Started ",l.jsx(u_,{className:"ml-2 h-5 w-5"})]})}),l.jsx(de,{variant:"outline",size:"lg",asChild:!0,className:"text-lg px-8 py-6",children:l.jsx(Dt,{to:"/browse",children:"Browse Food"})})]})]})})}),l.jsx("div",{className:"py-20 bg-muted/30",children:l.jsxs("div",{className:"container mx-auto px-4",children:[l.jsxs("div",{className:"text-center space-y-4 mb-16",children:[l.jsx("h2",{className:"text-4xl font-bold text-foreground",children:"How WasteNot Works"}),l.jsx("p",{className:"text-xl text-muted-foreground",children:"Simple steps to make a big difference"})]}),l.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[l.jsx(ye,{className:"text-center",children:l.jsxs(Ve,{children:[l.jsx("div",{className:"w-16 h-16 bg-success/20 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(Jr,{className:"h-8 w-8 text-success"})}),l.jsx(Ce,{children:"Businesses List Surplus"}),l.jsx(ut,{children:"Restaurants, bakeries, and cafes upload details of surplus food instead of throwing it away"})]})}),l.jsx(ye,{className:"text-center",children:l.jsxs(Ve,{children:[l.jsx("div",{className:"w-16 h-16 bg-accent/20 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(cc,{className:"h-8 w-8 text-accent"})}),l.jsx(Ce,{children:"Community Purchases"}),l.jsx(ut,{children:"Individuals, NGOs, and hostels buy surplus food at discounted prices for personal use or redistribution"})]})}),l.jsx(ye,{className:"text-center",children:l.jsxs(Ve,{children:[l.jsx("div",{className:"w-16 h-16 bg-warning/20 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(d_,{className:"h-8 w-8 text-warning"})}),l.jsx(Ce,{children:"Everyone Wins"}),l.jsx(ut,{children:"Businesses recover costs, communities get affordable food, and together we reduce environmental impact"})]})})]})]})}),l.jsx("div",{className:"py-20",children:l.jsxs("div",{className:"container mx-auto px-4",children:[l.jsxs("div",{className:"text-center space-y-4 mb-16",children:[l.jsx("h2",{className:"text-4xl font-bold text-foreground",children:"Join as"}),l.jsx("p",{className:"text-xl text-muted-foreground",children:"Choose your role in the fight against food waste"})]}),l.jsxs("div",{className:"grid md:grid-cols-2 gap-8 max-w-4xl mx-auto",children:[l.jsxs(ye,{className:"border-2 hover:border-success transition-colors",children:[l.jsx(Ve,{children:l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-12 h-12 bg-success/20 rounded-full flex items-center justify-center",children:l.jsx(Jr,{className:"h-6 w-6 text-success"})}),l.jsxs("div",{children:[l.jsx(Ce,{className:"text-2xl",children:"Business Owner"}),l.jsx(ut,{children:"Restaurant, Bakery, Cafe, Hotel"})]})]})}),l.jsxs(xe,{className:"space-y-4",children:[l.jsxs("ul",{className:"space-y-2 text-muted-foreground",children:[l.jsxs("li",{className:"flex items-center",children:[l.jsx(h_,{className:"h-4 w-4 mr-2 text-success"}),"List surplus food quickly and easily"]}),l.jsxs("li",{className:"flex items-center",children:[l.jsx(Bd,{className:"h-4 w-4 mr-2 text-success"}),"Track sales and environmental impact"]}),l.jsxs("li",{className:"flex items-center",children:[l.jsx(fu,{className:"h-4 w-4 mr-2 text-success"}),"Recover costs from food that would be wasted"]})]}),l.jsx(de,{className:"w-full",asChild:!0,children:l.jsx(Dt,{to:"/register",children:"Join as Business"})})]})]}),l.jsxs(ye,{className:"border-2 hover:border-accent transition-colors",children:[l.jsx(Ve,{children:l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-12 h-12 bg-accent/20 rounded-full flex items-center justify-center",children:l.jsx(cc,{className:"h-6 w-6 text-accent"})}),l.jsxs("div",{children:[l.jsx(Ce,{className:"text-2xl",children:"Buyer"}),l.jsx(ut,{children:"Individual, NGO, Hostel, Institution"})]})]})}),l.jsxs(xe,{className:"space-y-4",children:[l.jsxs("ul",{className:"space-y-2 text-muted-foreground",children:[l.jsxs("li",{className:"flex items-center",children:[l.jsx(h_,{className:"h-4 w-4 mr-2 text-accent"}),"Get quality food at discounted prices"]}),l.jsxs("li",{className:"flex items-center",children:[l.jsx(d_,{className:"h-4 w-4 mr-2 text-accent"}),"Support local businesses and community"]}),l.jsxs("li",{className:"flex items-center",children:[l.jsx(Mc,{className:"h-4 w-4 mr-2 text-accent"}),"Reduce environmental impact together"]})]}),l.jsx(de,{variant:"outline",className:"w-full",asChild:!0,children:l.jsx(Dt,{to:"/register",children:"Join as Buyer"})})]})]})]})]})}),l.jsx("div",{className:"py-20 bg-success/5",children:l.jsx("div",{className:"container mx-auto px-4",children:l.jsxs("div",{className:"text-center space-y-8 max-w-3xl mx-auto",children:[l.jsx("h2",{className:"text-4xl font-bold text-foreground",children:"Making a Real Impact"}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-3xl font-bold text-success mb-2",children:"2,000+"}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Meals Saved"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-3xl font-bold text-success mb-2",children:"150+"}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Businesses"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-3xl font-bold text-success mb-2",children:"500+"}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Community Members"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-3xl font-bold text-success mb-2",children:"1.2T"}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"CO Reduced"})]})]}),l.jsx(de,{size:"lg",asChild:!0,children:l.jsxs(Dt,{to:"/register",children:["Start Your Impact Today ",l.jsx(u_,{className:"ml-2 h-5 w-5"})]})})]})})})]}),p7=()=>{const[t,e]=y.useState(""),[n,r]=y.useState(""),[s,i]=y.useState(!1),{login:o}=Lr(),a=No(),{toast:c}=nl(),d=async h=>{h.preventDefault(),i(!0);try{await o(t,n),c({title:"Welcome back!",description:"Successfully logged in."}),a("/")}catch{c({title:"Login Failed",description:"Invalid email or password.",variant:"destructive"})}finally{i(!1)}};return l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background p-4",children:l.jsxs("div",{className:"w-full max-w-md space-y-8",children:[l.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[l.jsxs(Dt,{to:"/",className:"flex items-center space-x-2",children:[l.jsx(Mc,{className:"h-10 w-10 text-success"}),l.jsx("span",{className:"text-3xl font-bold text-foreground",children:"WasteNot"})]}),l.jsx("p",{className:"text-muted-foreground text-center",children:"Sign in to reduce food waste together"})]}),l.jsxs(ye,{children:[l.jsxs(Ve,{children:[l.jsx(Ce,{children:"Sign In"}),l.jsx(ut,{children:"Enter your credentials to access your account"})]}),l.jsxs(xe,{children:[l.jsxs("form",{onSubmit:d,className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Be,{htmlFor:"email",children:"Email"}),l.jsxs("div",{className:"relative",children:[l.jsx(Oc,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),l.jsx(qe,{id:"email",type:"email",placeholder:"Enter your email",value:t,onChange:h=>e(h.target.value),className:"pl-10",required:!0})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Be,{htmlFor:"password",children:"Password"}),l.jsxs("div",{className:"relative",children:[l.jsx(DI,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),l.jsx(qe,{id:"password",type:"password",placeholder:"Enter your password",value:n,onChange:h=>r(h.target.value),className:"pl-10",required:!0})]})]}),l.jsx(de,{type:"submit",className:"w-full",disabled:s,children:s?"Signing In...":"Sign In"})]}),l.jsx("div",{className:"mt-6 text-center",children:l.jsxs("p",{className:"text-sm text-muted-foreground",children:["Don't have an account?"," ",l.jsx(Dt,{to:"/register",className:"text-primary hover:underline",children:"Sign up"})]})}),l.jsxs("div",{className:"mt-4 p-4 bg-muted rounded-md",children:[l.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Demo accounts:"}),l.jsxs("div",{className:"text-xs space-y-1",children:[l.jsx("div",{children:"Business: business@demo.com"}),l.jsx("div",{children:"Buyer: buyer@demo.com"}),l.jsx("div",{children:"Admin: admin@demo.com"}),l.jsx("div",{className:"text-muted-foreground",children:"Password: any password"})]})]})]})]})]})})};function CP(t){const e=y.useRef({value:t,previous:t});return y.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var ix="Radio",[m7,NP]=Bn(ix),[g7,y7]=m7(ix),RP=y.forwardRef((t,e)=>{const{__scopeRadio:n,name:r,checked:s=!1,required:i,disabled:o,value:a="on",onCheck:c,form:d,...h}=t,[f,m]=y.useState(null),p=je(e,x=>m(x)),I=y.useRef(!1),v=f?d||!!f.closest("form"):!0;return l.jsxs(g7,{scope:n,checked:s,disabled:o,children:[l.jsx(ae.button,{type:"button",role:"radio","aria-checked":s,"data-state":jP(s),"data-disabled":o?"":void 0,disabled:o,value:a,...h,ref:p,onClick:Y(t.onClick,x=>{s||c==null||c(),v&&(I.current=x.isPropagationStopped(),I.current||x.stopPropagation())})}),v&&l.jsx(kP,{control:f,bubbles:!I.current,name:r,value:a,checked:s,required:i,disabled:o,form:d,style:{transform:"translateX(-100%)"}})]})});RP.displayName=ix;var AP="RadioIndicator",PP=y.forwardRef((t,e)=>{const{__scopeRadio:n,forceMount:r,...s}=t,i=y7(AP,n);return l.jsx(pr,{present:r||i.checked,children:l.jsx(ae.span,{"data-state":jP(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:e})})});PP.displayName=AP;var v7="RadioBubbleInput",kP=y.forwardRef(({__scopeRadio:t,control:e,checked:n,bubbles:r=!0,...s},i)=>{const o=y.useRef(null),a=je(o,i),c=CP(n),d=rb(e);return y.useEffect(()=>{const h=o.current;if(!h)return;const f=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==n&&p){const I=new Event("click",{bubbles:r});p.call(h,n),h.dispatchEvent(I)}},[c,n,r]),l.jsx(ae.input,{type:"radio","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:a,style:{...s.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});kP.displayName=v7;function jP(t){return t?"checked":"unchecked"}var w7=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],wp="RadioGroup",[x7,PH]=Bn(wp,[lp,NP]),DP=lp(),MP=NP(),[_7,E7]=x7(wp),OP=y.forwardRef((t,e)=>{const{__scopeRadioGroup:n,name:r,defaultValue:s,value:i,required:o=!1,disabled:a=!1,orientation:c,dir:d,loop:h=!0,onValueChange:f,...m}=t,p=DP(n),I=op(d),[v,x]=co({prop:i,defaultProp:s??null,onChange:f,caller:wp});return l.jsx(_7,{scope:n,name:r,required:o,disabled:a,value:v,onValueChange:x,children:l.jsx(RR,{asChild:!0,...p,orientation:c,dir:I,loop:h,children:l.jsx(ae.div,{role:"radiogroup","aria-required":o,"aria-orientation":c,"data-disabled":a?"":void 0,dir:I,...m,ref:e})})})});OP.displayName=wp;var LP="RadioGroupItem",VP=y.forwardRef((t,e)=>{const{__scopeRadioGroup:n,disabled:r,...s}=t,i=E7(LP,n),o=i.disabled||r,a=DP(n),c=MP(n),d=y.useRef(null),h=je(e,d),f=i.value===s.value,m=y.useRef(!1);return y.useEffect(()=>{const p=v=>{w7.includes(v.key)&&(m.current=!0)},I=()=>m.current=!1;return document.addEventListener("keydown",p),document.addEventListener("keyup",I),()=>{document.removeEventListener("keydown",p),document.removeEventListener("keyup",I)}},[]),l.jsx(AR,{asChild:!0,...a,focusable:!o,active:f,children:l.jsx(RP,{disabled:o,required:i.required,checked:f,...c,...s,name:i.name,ref:h,onCheck:()=>i.onValueChange(s.value),onKeyDown:Y(p=>{p.key==="Enter"&&p.preventDefault()}),onFocus:Y(s.onFocus,()=>{var p;m.current&&((p=d.current)==null||p.click())})})})});VP.displayName=LP;var T7="RadioGroupIndicator",FP=y.forwardRef((t,e)=>{const{__scopeRadioGroup:n,...r}=t,s=MP(n);return l.jsx(PP,{...s,...r,ref:e})});FP.displayName=T7;var UP=OP,$P=VP,S7=FP;const Ty=y.forwardRef(({className:t,...e},n)=>l.jsx(UP,{className:oe("grid gap-2",t),...e,ref:n}));Ty.displayName=UP.displayName;const Jo=y.forwardRef(({className:t,...e},n)=>l.jsx($P,{ref:n,className:oe("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:l.jsx(S7,{className:"flex items-center justify-center",children:l.jsx(jI,{className:"h-2.5 w-2.5 fill-current text-current"})})}));Jo.displayName=$P.displayName;const I7=()=>{const[t,e]=y.useState({name:"",email:"",password:"",phone:"",address:"",role:"buyer",businessName:"",organizationType:"individual"}),[n,r]=y.useState(!1),{register:s}=Lr(),i=No(),{toast:o}=nl(),a=async c=>{c.preventDefault(),r(!0);try{await s(t),o({title:"Account Created!",description:"Welcome to WasteNot. Start reducing food waste today!"}),i("/")}catch{o({title:"Registration Failed",description:"Please try again.",variant:"destructive"})}finally{r(!1)}};return l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background p-4",children:l.jsxs("div",{className:"w-full max-w-md space-y-8",children:[l.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[l.jsxs(Dt,{to:"/",className:"flex items-center space-x-2",children:[l.jsx(Mc,{className:"h-10 w-10 text-success"}),l.jsx("span",{className:"text-3xl font-bold text-foreground",children:"WasteNot"})]}),l.jsx("p",{className:"text-muted-foreground text-center",children:"Join the fight against food waste"})]}),l.jsxs(ye,{children:[l.jsxs(Ve,{children:[l.jsx(Ce,{children:"Create Account"}),l.jsx(ut,{children:"Sign up to start reducing food waste in your community"})]}),l.jsxs(xe,{children:[l.jsxs("form",{onSubmit:a,className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Be,{children:"I want to"}),l.jsxs(Ty,{value:t.role,onValueChange:c=>e(d=>({...d,role:c})),children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Jo,{value:"buyer",id:"buyer"}),l.jsx(Be,{htmlFor:"buyer",children:"Buy surplus food"})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Jo,{value:"business",id:"business"}),l.jsx(Be,{htmlFor:"business",children:"Sell surplus food (Business)"})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Be,{htmlFor:"name",children:"Full Name"}),l.jsxs("div",{className:"relative",children:[l.jsx(Pv,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),l.jsx(qe,{id:"name",placeholder:"Enter your full name",value:t.name,onChange:c=>e(d=>({...d,name:c.target.value})),className:"pl-10",required:!0})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Be,{htmlFor:"email",children:"Email"}),l.jsxs("div",{className:"relative",children:[l.jsx(Oc,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),l.jsx(qe,{id:"email",type:"email",placeholder:"Enter your email",value:t.email,onChange:c=>e(d=>({...d,email:c.target.value})),className:"pl-10",required:!0})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Be,{htmlFor:"password",children:"Password"}),l.jsxs("div",{className:"relative",children:[l.jsx(DI,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),l.jsx(qe,{id:"password",type:"password",placeholder:"Create a password",value:t.password,onChange:c=>e(d=>({...d,password:c.target.value})),className:"pl-10",required:!0})]})]}),t.role==="business"&&l.jsxs("div",{className:"space-y-2",children:[l.jsx(Be,{htmlFor:"businessName",children:"Business Name"}),l.jsxs("div",{className:"relative",children:[l.jsx(xM,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),l.jsx(qe,{id:"businessName",placeholder:"Enter your business name",value:t.businessName,onChange:c=>e(d=>({...d,businessName:c.target.value})),className:"pl-10",required:!0})]})]}),t.role==="buyer"&&l.jsxs("div",{className:"space-y-2",children:[l.jsx(Be,{children:"Organization Type"}),l.jsxs(Ty,{value:t.organizationType,onValueChange:c=>e(d=>({...d,organizationType:c})),children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Jo,{value:"individual",id:"individual"}),l.jsx(Be,{htmlFor:"individual",children:"Individual"})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Jo,{value:"ngo",id:"ngo"}),l.jsx(Be,{htmlFor:"ngo",children:"NGO/Charity"})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Jo,{value:"hostel",id:"hostel"}),l.jsx(Be,{htmlFor:"hostel",children:"Hostel/Institution"})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Be,{htmlFor:"phone",children:"Phone (Optional)"}),l.jsxs("div",{className:"relative",children:[l.jsx(Av,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),l.jsx(qe,{id:"phone",placeholder:"Enter your phone number",value:t.phone,onChange:c=>e(d=>({...d,phone:c.target.value})),className:"pl-10"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Be,{htmlFor:"address",children:"Address"}),l.jsxs("div",{className:"relative",children:[l.jsx(Lc,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),l.jsx(qe,{id:"address",placeholder:"Enter your address",value:t.address,onChange:c=>e(d=>({...d,address:c.target.value})),className:"pl-10",required:!0})]})]}),l.jsx(de,{type:"submit",className:"w-full",disabled:n,children:n?"Creating Account...":"Create Account"})]}),l.jsx("div",{className:"mt-6 text-center",children:l.jsxs("p",{className:"text-sm text-muted-foreground",children:["Already have an account?"," ",l.jsx(Dt,{to:"/login",className:"text-primary hover:underline",children:"Sign in"})]})})]})]})]})})},b7=()=>{const{user:t}=Lr(),[e,n]=y.useState({totalListings:0,activeLisings:0,totalSales:0,totalRevenue:0,savedMeals:0}),[r,s]=y.useState([]),[i,o]=y.useState(!0);return y.useEffect(()=>{if(!(t!=null&&t.id))return;(async()=>{o(!0);try{const c=Tn(Mt,"listings"),d=Qs(c,to("businessId","==",t.id),no("createdAt","desc")),f=(await kn(d)).docs.map(E=>({id:E.id,...E.data()})),m=f.length,p=f.filter(E=>E.status==="available").length,I=f.reduce((E,w)=>E+(w.sales||0),0),v=f.reduce((E,w)=>E+(w.revenue||0),0),x=f.reduce((E,w)=>E+(w.savedMeals||0),0);n({totalListings:m,activeLisings:p,totalSales:I,totalRevenue:v,savedMeals:x}),s(f.slice(0,3))}catch{n({totalListings:0,activeLisings:0,totalSales:0,totalRevenue:0,savedMeals:0}),s([])}o(!1)})()},[t]),l.jsx("div",{className:"min-h-screen bg-background",children:l.jsxs("div",{className:"container mx-auto px-4 py-8",children:[l.jsx("div",{className:"mb-8",children:l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Business Dashboard"}),l.jsx("p",{className:"text-muted-foreground",children:"Track your food listings and impact"})]}),l.jsx(de,{asChild:!0,children:l.jsxs(Dt,{to:"/business/add-listing",children:[l.jsx($a,{className:"mr-2 h-4 w-4"}),"Add Food Listing"]})})]})}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6 mb-8",children:[l.jsxs(ye,{children:[l.jsxs(Ve,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(Ce,{className:"text-sm font-medium",children:"Total Listings"}),l.jsx(Vc,{className:"h-4 w-4 text-muted-foreground"})]}),l.jsxs(xe,{children:[l.jsx("div",{className:"text-2xl font-bold",children:e.totalListings}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"All time listings created"})]})]}),l.jsxs(ye,{children:[l.jsxs(Ve,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(Ce,{className:"text-sm font-medium",children:"Active Listings"}),l.jsx(fu,{className:"h-4 w-4 text-success"})]}),l.jsxs(xe,{children:[l.jsx("div",{className:"text-2xl font-bold text-success",children:e.activeLisings}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Currently available"})]})]}),l.jsxs(ye,{children:[l.jsxs(Ve,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(Ce,{className:"text-sm font-medium",children:"Total Sales"}),l.jsx(Og,{className:"h-4 w-4 text-muted-foreground"})]}),l.jsxs(xe,{children:[l.jsx("div",{className:"text-2xl font-bold",children:e.totalSales}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Items sold"})]})]}),l.jsxs(ye,{children:[l.jsxs(Ve,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(Ce,{className:"text-sm font-medium",children:"Revenue"}),l.jsx(ns,{className:"h-4 w-4 text-muted-foreground"})]}),l.jsxs(xe,{children:[l.jsxs("div",{className:"text-2xl font-bold",children:["KSh ",e.totalRevenue.toLocaleString()]}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Total earnings"})]})]}),l.jsxs(ye,{children:[l.jsxs(Ve,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(Ce,{className:"text-sm font-medium",children:"Meals Saved"}),l.jsx(Vc,{className:"h-4 w-4 text-success"})]}),l.jsxs(xe,{children:[l.jsx("div",{className:"text-2xl font-bold text-success",children:e.savedMeals}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Environmental impact"})]})]})]}),l.jsxs(ye,{children:[l.jsx(Ve,{children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx(Ce,{children:"Recent Listings"}),l.jsx(ut,{children:"Your latest food listings and their performance"})]}),l.jsx(de,{variant:"outline",asChild:!0,children:l.jsx(Dt,{to:"/business/listings",children:"View All"})})]})}),l.jsx(xe,{children:l.jsx("div",{className:"space-y-4",children:r.map(a=>l.jsxs("div",{className:"flex items-center justify-between p-4 border border-border rounded-lg",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[l.jsx("h4",{className:"font-semibold",children:a.title}),l.jsx(en,{variant:a.status==="available"?"default":"secondary",className:a.status==="available"?"bg-success text-success-foreground":"",children:a.status})]}),l.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[l.jsxs("span",{children:["KSh ",a.price]}),l.jsxs("span",{children:[a.quantity," portions"]}),l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(Rv,{className:"h-3 w-3"}),a.views," views"]}),l.jsxs("span",{children:["Expires: ",new Date(a.expiryTime).toLocaleTimeString()]})]})]}),l.jsx(de,{variant:"outline",size:"sm",children:"Edit"})]},a.id))})})]})]})})},ox=y.forwardRef(({className:t,...e},n)=>l.jsx("textarea",{className:oe("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));ox.displayName="Textarea";function j1(t,[e,n]){return Math.min(n,Math.max(e,t))}var C7=[" ","Enter","ArrowUp","ArrowDown"],N7=[" ","Enter"],xo="Select",[xp,_p,R7]=_f(xo),[vl,kH]=Bn(xo,[R7,al]),Ep=al(),[A7,Ai]=vl(xo),[P7,k7]=vl(xo),BP=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:a,onValueChange:c,dir:d,name:h,autoComplete:f,disabled:m,required:p,form:I}=t,v=Ep(e),[x,E]=y.useState(null),[w,T]=y.useState(null),[A,D]=y.useState(!1),M=op(d),[b,S]=co({prop:r,defaultProp:s??!1,onChange:i,caller:xo}),[C,R]=co({prop:o,defaultProp:a,onChange:c,caller:xo}),k=y.useRef(null),j=x?I||!!x.closest("form"):!0,[P,z]=y.useState(new Set),se=Array.from(P).map(X=>X.props.value).join(";");return l.jsx(fb,{...v,children:l.jsxs(A7,{required:p,scope:e,trigger:x,onTriggerChange:E,valueNode:w,onValueNodeChange:T,valueNodeHasChildren:A,onValueNodeHasChildrenChange:D,contentId:rs(),value:C,onValueChange:R,open:b,onOpenChange:S,dir:M,triggerPointerDownPosRef:k,disabled:m,children:[l.jsx(xp.Provider,{scope:e,children:l.jsx(P7,{scope:t.__scopeSelect,onNativeOptionAdd:y.useCallback(X=>{z(re=>new Set(re).add(X))},[]),onNativeOptionRemove:y.useCallback(X=>{z(re=>{const V=new Set(re);return V.delete(X),V})},[]),children:n})}),j?l.jsxs(hk,{"aria-hidden":!0,required:p,tabIndex:-1,name:h,autoComplete:f,value:C,onChange:X=>R(X.target.value),disabled:m,form:I,children:[C===void 0?l.jsx("option",{value:""}):null,Array.from(P)]},se):null]})})};BP.displayName=xo;var zP="SelectTrigger",HP=y.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=Ep(n),o=Ai(zP,n),a=o.disabled||r,c=je(e,o.onTriggerChange),d=_p(n),h=y.useRef("touch"),[f,m,p]=pk(v=>{const x=d().filter(T=>!T.disabled),E=x.find(T=>T.value===o.value),w=mk(x,v,E);w!==void 0&&o.onValueChange(w.value)}),I=v=>{a||(o.onOpenChange(!0),p()),v&&(o.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return l.jsx(Bv,{asChild:!0,...i,children:l.jsx(ae.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":fk(o.value)?"":void 0,...s,ref:c,onClick:Y(s.onClick,v=>{v.currentTarget.focus(),h.current!=="mouse"&&I(v)}),onPointerDown:Y(s.onPointerDown,v=>{h.current=v.pointerType;const x=v.target;x.hasPointerCapture(v.pointerId)&&x.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(I(v),v.preventDefault())}),onKeyDown:Y(s.onKeyDown,v=>{const x=f.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&m(v.key),!(x&&v.key===" ")&&C7.includes(v.key)&&(I(),v.preventDefault())})})})});HP.displayName=zP;var WP="SelectValue",qP=y.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...a}=t,c=Ai(WP,n),{onValueNodeHasChildrenChange:d}=c,h=i!==void 0,f=je(e,c.onValueNodeChange);return xt(()=>{d(h)},[d,h]),l.jsx(ae.span,{...a,ref:f,style:{pointerEvents:"none"},children:fk(c.value)?l.jsx(l.Fragment,{children:o}):i})});qP.displayName=WP;var j7="SelectIcon",KP=y.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return l.jsx(ae.span,{"aria-hidden":!0,...s,ref:e,children:r||""})});KP.displayName=j7;var D7="SelectPortal",GP=t=>l.jsx(uu,{asChild:!0,...t});GP.displayName=D7;var _o="SelectContent",QP=y.forwardRef((t,e)=>{const n=Ai(_o,t.__scopeSelect),[r,s]=y.useState();if(xt(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?bo.createPortal(l.jsx(YP,{scope:t.__scopeSelect,children:l.jsx(xp.Slot,{scope:t.__scopeSelect,children:l.jsx("div",{children:t.children})})}),i):null}return l.jsx(XP,{...t,ref:e})});QP.displayName=_o;var Qn=10,[YP,Pi]=vl(_o),M7="SelectContentImpl",O7=lo("SelectContent.RemoveScroll"),XP=y.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:c,align:d,alignOffset:h,arrowPadding:f,collisionBoundary:m,collisionPadding:p,sticky:I,hideWhenDetached:v,avoidCollisions:x,...E}=t,w=Ai(_o,n),[T,A]=y.useState(null),[D,M]=y.useState(null),b=je(e,q=>A(q)),[S,C]=y.useState(null),[R,k]=y.useState(null),j=_p(n),[P,z]=y.useState(!1),se=y.useRef(!1);y.useEffect(()=>{if(T)return qw(T)},[T]),Ww();const X=y.useCallback(q=>{const[Ae,...Pe]=j().map(Te=>Te.ref.current),[ve]=Pe.slice(-1),we=document.activeElement;for(const Te of q)if(Te===we||(Te==null||Te.scrollIntoView({block:"nearest"}),Te===Ae&&D&&(D.scrollTop=0),Te===ve&&D&&(D.scrollTop=D.scrollHeight),Te==null||Te.focus(),document.activeElement!==we))return},[j,D]),re=y.useCallback(()=>X([S,T]),[X,S,T]);y.useEffect(()=>{P&&re()},[P,re]);const{onOpenChange:V,triggerPointerDownPosRef:O}=w;y.useEffect(()=>{if(T){let q={x:0,y:0};const Ae=ve=>{var we,Te;q={x:Math.abs(Math.round(ve.pageX)-(((we=O.current)==null?void 0:we.x)??0)),y:Math.abs(Math.round(ve.pageY)-(((Te=O.current)==null?void 0:Te.y)??0))}},Pe=ve=>{q.x<=10&&q.y<=10?ve.preventDefault():T.contains(ve.target)||V(!1),document.removeEventListener("pointermove",Ae),O.current=null};return O.current!==null&&(document.addEventListener("pointermove",Ae),document.addEventListener("pointerup",Pe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ae),document.removeEventListener("pointerup",Pe,{capture:!0})}}},[T,V,O]),y.useEffect(()=>{const q=()=>V(!1);return window.addEventListener("blur",q),window.addEventListener("resize",q),()=>{window.removeEventListener("blur",q),window.removeEventListener("resize",q)}},[V]);const[H,ne]=pk(q=>{const Ae=j().filter(we=>!we.disabled),Pe=Ae.find(we=>we.ref.current===document.activeElement),ve=mk(Ae,q,Pe);ve&&setTimeout(()=>ve.ref.current.focus())}),Q=y.useCallback((q,Ae,Pe)=>{const ve=!se.current&&!Pe;(w.value!==void 0&&w.value===Ae||ve)&&(C(q),ve&&(se.current=!0))},[w.value]),te=y.useCallback(()=>T==null?void 0:T.focus(),[T]),le=y.useCallback((q,Ae,Pe)=>{const ve=!se.current&&!Pe;(w.value!==void 0&&w.value===Ae||ve)&&k(q)},[w.value]),Re=r==="popper"?Sy:JP,Fe=Re===Sy?{side:a,sideOffset:c,align:d,alignOffset:h,arrowPadding:f,collisionBoundary:m,collisionPadding:p,sticky:I,hideWhenDetached:v,avoidCollisions:x}:{};return l.jsx(YP,{scope:n,content:T,viewport:D,onViewportChange:M,itemRefCallback:Q,selectedItem:S,onItemLeave:te,itemTextRefCallback:le,focusSelectedItem:re,selectedItemText:R,position:r,isPositioned:P,searchRef:H,children:l.jsx(up,{as:O7,allowPinchZoom:!0,children:l.jsx(ap,{asChild:!0,trapped:w.open,onMountAutoFocus:q=>{q.preventDefault()},onUnmountAutoFocus:Y(s,q=>{var Ae;(Ae=w.trigger)==null||Ae.focus({preventScroll:!0}),q.preventDefault()}),children:l.jsx(rl,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:q=>q.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:l.jsx(Re,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:q=>q.preventDefault(),...E,...Fe,onPlaced:()=>z(!0),ref:b,style:{display:"flex",flexDirection:"column",outline:"none",...E.style},onKeyDown:Y(E.onKeyDown,q=>{const Ae=q.ctrlKey||q.altKey||q.metaKey;if(q.key==="Tab"&&q.preventDefault(),!Ae&&q.key.length===1&&ne(q.key),["ArrowUp","ArrowDown","Home","End"].includes(q.key)){let ve=j().filter(we=>!we.disabled).map(we=>we.ref.current);if(["ArrowUp","End"].includes(q.key)&&(ve=ve.slice().reverse()),["ArrowUp","ArrowDown"].includes(q.key)){const we=q.target,Te=ve.indexOf(we);ve=ve.slice(Te+1)}setTimeout(()=>X(ve)),q.preventDefault()}})})})})})})});XP.displayName=M7;var L7="SelectItemAlignedPosition",JP=y.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=Ai(_o,n),o=Pi(_o,n),[a,c]=y.useState(null),[d,h]=y.useState(null),f=je(e,b=>h(b)),m=_p(n),p=y.useRef(!1),I=y.useRef(!0),{viewport:v,selectedItem:x,selectedItemText:E,focusSelectedItem:w}=o,T=y.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&d&&v&&x&&E){const b=i.trigger.getBoundingClientRect(),S=d.getBoundingClientRect(),C=i.valueNode.getBoundingClientRect(),R=E.getBoundingClientRect();if(i.dir!=="rtl"){const we=R.left-S.left,Te=C.left-we,mt=b.left-Te,Vt=b.width+mt,zn=Math.max(Vt,S.width),Hn=window.innerWidth-Qn,Vr=j1(Te,[Qn,Math.max(Qn,Hn-zn)]);a.style.minWidth=Vt+"px",a.style.left=Vr+"px"}else{const we=S.right-R.right,Te=window.innerWidth-C.right-we,mt=window.innerWidth-b.right-Te,Vt=b.width+mt,zn=Math.max(Vt,S.width),Hn=window.innerWidth-Qn,Vr=j1(Te,[Qn,Math.max(Qn,Hn-zn)]);a.style.minWidth=Vt+"px",a.style.right=Vr+"px"}const k=m(),j=window.innerHeight-Qn*2,P=v.scrollHeight,z=window.getComputedStyle(d),se=parseInt(z.borderTopWidth,10),X=parseInt(z.paddingTop,10),re=parseInt(z.borderBottomWidth,10),V=parseInt(z.paddingBottom,10),O=se+X+P+V+re,H=Math.min(x.offsetHeight*5,O),ne=window.getComputedStyle(v),Q=parseInt(ne.paddingTop,10),te=parseInt(ne.paddingBottom,10),le=b.top+b.height/2-Qn,Re=j-le,Fe=x.offsetHeight/2,q=x.offsetTop+Fe,Ae=se+X+q,Pe=O-Ae;if(Ae<=le){const we=k.length>0&&x===k[k.length-1].ref.current;a.style.bottom="0px";const Te=d.clientHeight-v.offsetTop-v.offsetHeight,mt=Math.max(Re,Fe+(we?te:0)+Te+re),Vt=Ae+mt;a.style.height=Vt+"px"}else{const we=k.length>0&&x===k[0].ref.current;a.style.top="0px";const mt=Math.max(le,se+v.offsetTop+(we?Q:0)+Fe)+Pe;a.style.height=mt+"px",v.scrollTop=Ae-le+v.offsetTop}a.style.margin=`${Qn}px 0`,a.style.minHeight=H+"px",a.style.maxHeight=j+"px",r==null||r(),requestAnimationFrame(()=>p.current=!0)}},[m,i.trigger,i.valueNode,a,d,v,x,E,i.dir,r]);xt(()=>T(),[T]);const[A,D]=y.useState();xt(()=>{d&&D(window.getComputedStyle(d).zIndex)},[d]);const M=y.useCallback(b=>{b&&I.current===!0&&(T(),w==null||w(),I.current=!1)},[T,w]);return l.jsx(F7,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:p,onScrollButtonChange:M,children:l.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:A},children:l.jsx(ae.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});JP.displayName=L7;var V7="SelectPopperPosition",Sy=y.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=Qn,...i}=t,o=Ep(n);return l.jsx(zv,{...o,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Sy.displayName=V7;var[F7,ax]=vl(_o,{}),Iy="SelectViewport",ZP=y.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=Pi(Iy,n),o=ax(Iy,n),a=je(e,i.onViewportChange),c=y.useRef(0);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),l.jsx(xp.Slot,{scope:n,children:l.jsx(ae.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Y(s.onScroll,d=>{const h=d.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:m}=o;if(m!=null&&m.current&&f){const p=Math.abs(c.current-h.scrollTop);if(p>0){const I=window.innerHeight-Qn*2,v=parseFloat(f.style.minHeight),x=parseFloat(f.style.height),E=Math.max(v,x);if(E<I){const w=E+p,T=Math.min(I,w),A=w-T;f.style.height=T+"px",f.style.bottom==="0px"&&(h.scrollTop=A>0?A:0,f.style.justifyContent="flex-end")}}}c.current=h.scrollTop})})})]})});ZP.displayName=Iy;var ek="SelectGroup",[U7,$7]=vl(ek),B7=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=rs();return l.jsx(U7,{scope:n,id:s,children:l.jsx(ae.div,{role:"group","aria-labelledby":s,...r,ref:e})})});B7.displayName=ek;var tk="SelectLabel",nk=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=$7(tk,n);return l.jsx(ae.div,{id:s.id,...r,ref:e})});nk.displayName=tk;var nf="SelectItem",[z7,rk]=vl(nf),sk=y.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=t,a=Ai(nf,n),c=Pi(nf,n),d=a.value===r,[h,f]=y.useState(i??""),[m,p]=y.useState(!1),I=je(e,w=>{var T;return(T=c.itemRefCallback)==null?void 0:T.call(c,w,r,s)}),v=rs(),x=y.useRef("touch"),E=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return l.jsx(z7,{scope:n,value:r,disabled:s,textId:v,isSelected:d,onItemTextChange:y.useCallback(w=>{f(T=>T||((w==null?void 0:w.textContent)??"").trim())},[]),children:l.jsx(xp.ItemSlot,{scope:n,value:r,disabled:s,textValue:h,children:l.jsx(ae.div,{role:"option","aria-labelledby":v,"data-highlighted":m?"":void 0,"aria-selected":d&&m,"data-state":d?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:I,onFocus:Y(o.onFocus,()=>p(!0)),onBlur:Y(o.onBlur,()=>p(!1)),onClick:Y(o.onClick,()=>{x.current!=="mouse"&&E()}),onPointerUp:Y(o.onPointerUp,()=>{x.current==="mouse"&&E()}),onPointerDown:Y(o.onPointerDown,w=>{x.current=w.pointerType}),onPointerMove:Y(o.onPointerMove,w=>{var T;x.current=w.pointerType,s?(T=c.onItemLeave)==null||T.call(c):x.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Y(o.onPointerLeave,w=>{var T;w.currentTarget===document.activeElement&&((T=c.onItemLeave)==null||T.call(c))}),onKeyDown:Y(o.onKeyDown,w=>{var A;((A=c.searchRef)==null?void 0:A.current)!==""&&w.key===" "||(N7.includes(w.key)&&E(),w.key===" "&&w.preventDefault())})})})})});sk.displayName=nf;var Xl="SelectItemText",ik=y.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,o=Ai(Xl,n),a=Pi(Xl,n),c=rk(Xl,n),d=k7(Xl,n),[h,f]=y.useState(null),m=je(e,E=>f(E),c.onItemTextChange,E=>{var w;return(w=a.itemTextRefCallback)==null?void 0:w.call(a,E,c.value,c.disabled)}),p=h==null?void 0:h.textContent,I=y.useMemo(()=>l.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:v,onNativeOptionRemove:x}=d;return xt(()=>(v(I),()=>x(I)),[v,x,I]),l.jsxs(l.Fragment,{children:[l.jsx(ae.span,{id:c.textId,...i,ref:m}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?bo.createPortal(i.children,o.valueNode):null]})});ik.displayName=Xl;var ok="SelectItemIndicator",ak=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return rk(ok,n).isSelected?l.jsx(ae.span,{"aria-hidden":!0,...r,ref:e}):null});ak.displayName=ok;var by="SelectScrollUpButton",lk=y.forwardRef((t,e)=>{const n=Pi(by,t.__scopeSelect),r=ax(by,t.__scopeSelect),[s,i]=y.useState(!1),o=je(e,r.onScrollButtonChange);return xt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const d=c.scrollTop>0;i(d)};const c=n.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?l.jsx(uk,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=n;a&&c&&(a.scrollTop=a.scrollTop-c.offsetHeight)}}):null});lk.displayName=by;var Cy="SelectScrollDownButton",ck=y.forwardRef((t,e)=>{const n=Pi(Cy,t.__scopeSelect),r=ax(Cy,t.__scopeSelect),[s,i]=y.useState(!1),o=je(e,r.onScrollButtonChange);return xt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const d=c.scrollHeight-c.clientHeight,h=Math.ceil(c.scrollTop)<d;i(h)};const c=n.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?l.jsx(uk,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=n;a&&c&&(a.scrollTop=a.scrollTop+c.offsetHeight)}}):null});ck.displayName=Cy;var uk=y.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=Pi("SelectScrollButton",n),o=y.useRef(null),a=_p(n),c=y.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return y.useEffect(()=>()=>c(),[c]),xt(()=>{var h;const d=a().find(f=>f.ref.current===document.activeElement);(h=d==null?void 0:d.ref.current)==null||h.scrollIntoView({block:"nearest"})},[a]),l.jsx(ae.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:Y(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:Y(s.onPointerMove,()=>{var d;(d=i.onItemLeave)==null||d.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:Y(s.onPointerLeave,()=>{c()})})}),H7="SelectSeparator",dk=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return l.jsx(ae.div,{"aria-hidden":!0,...r,ref:e})});dk.displayName=H7;var Ny="SelectArrow",W7=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Ep(n),i=Ai(Ny,n),o=Pi(Ny,n);return i.open&&o.position==="popper"?l.jsx(Hv,{...s,...r,ref:e}):null});W7.displayName=Ny;var q7="SelectBubbleInput",hk=y.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const s=y.useRef(null),i=je(r,s),o=CP(e);return y.useEffect(()=>{const a=s.current;if(!a)return;const c=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==e&&h){const f=new Event("change",{bubbles:!0});h.call(a,e),a.dispatchEvent(f)}},[o,e]),l.jsx(ae.select,{...n,style:{...cI,...n.style},ref:i,defaultValue:e})});hk.displayName=q7;function fk(t){return t===""||t===void 0}function pk(t){const e=nn(t),n=y.useRef(""),r=y.useRef(0),s=y.useCallback(o=>{const a=n.current+o;e(a),function c(d){n.current=d,window.clearTimeout(r.current),d!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(a)},[e]),i=y.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return y.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function mk(t,e,n){const s=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=K7(t,Math.max(i,0));s.length===1&&(o=o.filter(d=>d!==n));const c=o.find(d=>d.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function K7(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var G7=BP,gk=HP,Q7=qP,Y7=KP,X7=GP,yk=QP,J7=ZP,vk=nk,wk=sk,Z7=ik,eH=ak,xk=lk,_k=ck,Ek=dk;const Eo=G7,To=Q7,_i=y.forwardRef(({className:t,children:e,...n},r)=>l.jsxs(gk,{ref:r,className:oe("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,l.jsx(Y7,{asChild:!0,children:l.jsx(kI,{className:"h-4 w-4 opacity-50"})})]}));_i.displayName=gk.displayName;const Tk=y.forwardRef(({className:t,...e},n)=>l.jsx(xk,{ref:n,className:oe("flex cursor-default items-center justify-center py-1",t),...e,children:l.jsx(EM,{className:"h-4 w-4"})}));Tk.displayName=xk.displayName;const Sk=y.forwardRef(({className:t,...e},n)=>l.jsx(_k,{ref:n,className:oe("flex cursor-default items-center justify-center py-1",t),...e,children:l.jsx(kI,{className:"h-4 w-4"})}));Sk.displayName=_k.displayName;const Ei=y.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>l.jsx(X7,{children:l.jsxs(yk,{ref:s,className:oe("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[l.jsx(Tk,{}),l.jsx(J7,{className:oe("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),l.jsx(Sk,{})]})}));Ei.displayName=yk.displayName;const tH=y.forwardRef(({className:t,...e},n)=>l.jsx(vk,{ref:n,className:oe("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));tH.displayName=vk.displayName;const Se=y.forwardRef(({className:t,children:e,...n},r)=>l.jsxs(wk,{ref:r,className:oe("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(eH,{children:l.jsx(Nv,{className:"h-4 w-4"})})}),l.jsx(Z7,{children:e})]}));Se.displayName=wk.displayName;const nH=y.forwardRef(({className:t,...e},n)=>l.jsx(Ek,{ref:n,className:oe("-mx-1 my-1 h-px bg-muted",t),...e}));nH.displayName=Ek.displayName;const rH=()=>{const{user:t}=Lr(),[e,n]=y.useState(""),[r,s]=y.useState("all"),[i,o]=y.useState([]),[a,c]=y.useState(!0),[d,h]=y.useState(!1),[f,m]=y.useState(null),[p,I]=y.useState({}),[v,x]=y.useState(!1);y.useEffect(()=>{if(!(t!=null&&t.id)){console.log("Listings: No user or user.id");return}console.log("Listings: user.id =",t.id),(async()=>{c(!0);try{const C=Tn(Mt,"listings"),R=Qs(Tn(Mt,"listings"),to("businessId","==",t.id),no("createdAt","desc")),j=(await kn(R)).docs.map(P=>({id:P.id,...P.data()}));console.log("Listings: fetched",j.length,"items for businessId",t.id),o(j)}catch(C){console.error("Listings: fetch error",C),o([])}c(!1)})()},[t]);const E=S=>{switch(S){case"available":return"bg-success text-success-foreground";case"sold":return"bg-secondary text-secondary-foreground";case"expired":return"bg-destructive text-destructive-foreground";default:return"bg-muted text-muted-foreground"}},w=i.filter(S=>{var k,j;const C=((k=S.title)==null?void 0:k.toLowerCase().includes(e.toLowerCase()))||((j=S.description)==null?void 0:j.toLowerCase().includes(e.toLowerCase())),R=r==="all"||S.status===r;return C&&R}),T=async S=>{try{await DN(Xa(Mt,"listings",S)),o(C=>C.filter(R=>R.id!==S))}catch(C){console.error("Delete failed",C)}},A=S=>{m(S),I({...S}),h(!0)},D=(S,C)=>{I(R=>({...R,[S]:C}))},M=async S=>{S.preventDefault(),x(!0);try{console.log("Submitting edit for listing",f.id,p),await b(f.id,p),o(C=>C.map(R=>R.id===f.id?{...R,...p}:R)),h(!1)}catch(C){console.error("Edit failed",C)}finally{x(!1)}},b=async(S,C)=>{try{console.log("Calling setDoc for listing",S,C),await Mw(Xa(Mt,"listings",S),C,{merge:!0}),console.log("setDoc success")}catch(R){throw console.error("setDoc error",R),R}};return a?l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:l.jsx("span",{className:"text-muted-foreground",children:"Loading listings..."})}):l.jsx("div",{className:"min-h-screen bg-background",children:l.jsxs("div",{className:"container mx-auto px-4 py-8",children:[l.jsx("div",{className:"mb-8",children:l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"My Listings"}),l.jsx("p",{className:"text-muted-foreground",children:"Manage your food listings"})]}),l.jsx(de,{asChild:!0,children:l.jsxs(Dt,{to:"/business/add-listing",children:[l.jsx($a,{className:"mr-2 h-4 w-4"}),"Add New Listing"]})})]})}),l.jsx(ye,{className:"mb-8",children:l.jsx(xe,{className:"p-6",children:l.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[l.jsxs("div",{className:"relative flex-1",children:[l.jsx(Sf,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),l.jsx(qe,{placeholder:"Search listings...",value:e,onChange:S=>n(S.target.value),className:"pl-10"})]}),l.jsxs(Eo,{value:r,onValueChange:s,children:[l.jsx(_i,{className:"w-full md:w-[200px]",children:l.jsx(To,{placeholder:"Filter by status"})}),l.jsxs(Ei,{children:[l.jsx(Se,{value:"all",children:"All Status"}),l.jsx(Se,{value:"available",children:"Available"}),l.jsx(Se,{value:"sold",children:"Sold Out"}),l.jsx(Se,{value:"expired",children:"Expired"})]})]})]})})}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:w.map(S=>l.jsxs(ye,{className:"overflow-hidden",children:[l.jsxs("div",{className:"h-32 bg-gradient-to-br from-accent/20 to-success/20 flex items-center justify-center relative",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-3xl mb-1",children:""}),l.jsx("p",{className:"text-xs text-muted-foreground",children:S.category})]}),l.jsx(en,{className:`absolute top-2 right-2 ${E(S.status)}`,children:S.status})]}),l.jsxs(Ve,{children:[l.jsx("div",{className:"flex items-start justify-between",children:l.jsx(Ce,{className:"line-clamp-1 text-lg",children:S.title})}),l.jsx(ut,{className:"line-clamp-2",children:S.description})]}),l.jsxs(xe,{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-baseline gap-2",children:[l.jsxs("span",{className:"text-xl font-bold text-success",children:["KSh ",S.price]}),l.jsxs("span",{className:"text-sm text-muted-foreground line-through",children:["KSh ",S.originalPrice]})]}),l.jsxs("div",{className:"text-sm text-muted-foreground",children:[S.quantity," ",S.unit]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-muted-foreground",children:[l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(Rv,{className:"h-3 w-3"}),l.jsxs("span",{children:[S.views," views"]})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(ns,{className:"h-3 w-3"}),l.jsxs("span",{children:[S.orders," orders"]})]})]}),l.jsxs("div",{className:"text-xs text-muted-foreground",children:[l.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[l.jsx(fu,{className:"h-3 w-3"}),l.jsxs("span",{children:["Expires: ",new Date(S.expiryTime).toLocaleString()]})]}),l.jsxs("span",{children:["Created: ",new Date(S.createdAt).toLocaleDateString()]})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(de,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>A(S),children:[l.jsx(bM,{className:"mr-1 h-3 w-3"}),"Edit"]}),l.jsxs(de,{variant:"destructive",size:"sm",className:"flex-1",onClick:()=>T(S.id),children:[l.jsx(NM,{className:"mr-1 h-3 w-3"}),"Delete"]})]})]})]},S.id))}),w.length===0&&l.jsx(ye,{className:"p-12 text-center",children:l.jsxs(xe,{children:[l.jsx("div",{className:"text-6xl mb-4",children:""}),l.jsx(Ce,{className:"mb-2",children:"No listings found"}),l.jsx(ut,{className:"mb-4",children:e||r!=="all"?"Try adjusting your search or filters.":"Create your first food listing to get started."}),l.jsx(de,{asChild:!0,children:l.jsxs(Dt,{to:"/business/add-listing",children:[l.jsx($a,{className:"mr-2 h-4 w-4"}),"Add Your First Listing"]})})]})}),d&&f&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-background p-6 rounded-lg max-w-lg w-full mx-4",children:[l.jsx("h2",{className:"text-xl font-bold mb-4",children:"Edit Listing"}),l.jsxs("form",{onSubmit:M,className:"space-y-4",children:[l.jsx(qe,{placeholder:"Title",value:p.title||"",onChange:S=>D("title",S.target.value),required:!0}),l.jsx(ox,{placeholder:"Description",value:p.description||"",onChange:S=>D("description",S.target.value),required:!0}),l.jsx(qe,{placeholder:"Price",type:"number",value:p.price||"",onChange:S=>D("price",S.target.value),required:!0}),l.jsx(qe,{placeholder:"Quantity",type:"number",value:p.quantity||"",onChange:S=>D("quantity",S.target.value),required:!0}),l.jsxs("div",{className:"flex gap-2 justify-end",children:[l.jsx(de,{type:"button",variant:"outline",onClick:()=>h(!1),children:"Cancel"}),l.jsx(de,{type:"submit",disabled:v,children:v?"Saving...":"Save Changes"})]})]})]})})]})})},sH=()=>{const t=No(),{toast:e}=nl(),{user:n}=Lr(),[r,s]=y.useState({title:"",description:"",category:"",price:"",originalPrice:"",quantity:"",unit:"pieces",expiryDate:"",expiryTime:"",pickupDate:"",pickupTime:"",location:""}),[i,o]=y.useState(!1),a=(d,h)=>{s(f=>({...f,[d]:h}))},c=async d=>{d.preventDefault(),o(!0);try{if(!(n!=null&&n.id))throw new Error("User not authenticated");console.log("AddListing: user.id =",n.id);const h={...r,price:Number(r.price),originalPrice:Number(r.originalPrice),quantity:Number(r.quantity),businessId:n.id,status:"available",createdAt:LN(),expiryTime:new Date(`${r.expiryDate}T${r.expiryTime}`).toISOString(),pickupTime:new Date(`${r.pickupDate}T${r.pickupTime}`).toISOString(),views:0,orders:0},f=await Ow(Tn(Mt,"listings"),h);console.log("AddListing: added listing with id",f.id,"data:",h),e({title:"Listing created successfully!",description:"Your food listing is now live and available to buyers."}),t("/business/listings")}catch(h){console.error("AddListing: error",h),e({title:"Error creating listing",description:"Please try again or contact support if the problem persists.",variant:"destructive"})}finally{o(!1)}};return l.jsx("div",{className:"min-h-screen bg-background",children:l.jsxs("div",{className:"container mx-auto px-4 py-8",children:[l.jsxs("div",{className:"mb-8",children:[l.jsxs(de,{variant:"ghost",onClick:()=>t("/business/listings"),className:"mb-4",children:[l.jsx(wM,{className:"mr-2 h-4 w-4"}),"Back to Listings"]}),l.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Add Food Listing"}),l.jsx("p",{className:"text-muted-foreground",children:"Share your surplus food with the community"})]}),l.jsx("div",{className:"max-w-2xl mx-auto",children:l.jsxs(ye,{children:[l.jsxs(Ve,{children:[l.jsx(Ce,{children:"Food Details"}),l.jsx(ut,{children:"Provide clear information about your surplus food to attract buyers"})]}),l.jsx(xe,{children:l.jsxs("form",{onSubmit:c,className:"space-y-6",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(Be,{htmlFor:"title",children:"Food Title *"}),l.jsx(qe,{id:"title",placeholder:"e.g., Fresh Pastries & Croissants",value:r.title,onChange:d=>a("title",d.target.value),required:!0})]}),l.jsxs("div",{children:[l.jsx(Be,{htmlFor:"description",children:"Description *"}),l.jsx(ox,{id:"description",placeholder:"Describe the food items, freshness, and any special notes...",rows:3,value:r.description,onChange:d=>a("description",d.target.value),required:!0})]}),l.jsxs("div",{children:[l.jsx(Be,{htmlFor:"category",children:"Category *"}),l.jsxs(Eo,{value:r.category,onValueChange:d=>a("category",d),children:[l.jsx(_i,{children:l.jsx(To,{placeholder:"Select food category"})}),l.jsxs(Ei,{children:[l.jsx(Se,{value:"bakery",children:"Bakery"}),l.jsx(Se,{value:"restaurant",children:"Restaurant"}),l.jsx(Se,{value:"cafe",children:"Cafe"}),l.jsx(Se,{value:"hotel",children:"Hotel"}),l.jsx(Se,{value:"catering",children:"Catering"}),l.jsx(Se,{value:"grocery",children:"Grocery"}),l.jsx(Se,{value:"other",children:"Other"})]})]})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsxs(Be,{htmlFor:"originalPrice",className:"flex items-center gap-1",children:[l.jsx(ns,{className:"h-4 w-4"}),"Original Price (KSh) *"]}),l.jsx(qe,{id:"originalPrice",type:"number",placeholder:"100",min:"0",step:"0.01",value:r.originalPrice,onChange:d=>a("originalPrice",d.target.value),required:!0})]}),l.jsxs("div",{children:[l.jsxs(Be,{htmlFor:"price",className:"flex items-center gap-1",children:[l.jsx(ns,{className:"h-4 w-4"}),"Discounted Price (KSh) *"]}),l.jsx(qe,{id:"price",type:"number",placeholder:"60",min:"0",step:"0.01",value:r.price,onChange:d=>a("price",d.target.value),required:!0})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsxs(Be,{htmlFor:"quantity",className:"flex items-center gap-1",children:[l.jsx(Vc,{className:"h-4 w-4"}),"Quantity Available *"]}),l.jsx(qe,{id:"quantity",type:"number",placeholder:"10",min:"1",value:r.quantity,onChange:d=>a("quantity",d.target.value),required:!0})]}),l.jsxs("div",{children:[l.jsx(Be,{htmlFor:"unit",children:"Unit"}),l.jsxs(Eo,{value:r.unit,onValueChange:d=>a("unit",d),children:[l.jsx(_i,{children:l.jsx(To,{})}),l.jsxs(Ei,{children:[l.jsx(Se,{value:"pieces",children:"Pieces"}),l.jsx(Se,{value:"portions",children:"Portions"}),l.jsx(Se,{value:"platters",children:"Platters"}),l.jsx(Se,{value:"containers",children:"Containers"}),l.jsx(Se,{value:"kg",children:"Kilograms"}),l.jsx(Se,{value:"liters",children:"Liters"})]})]})]})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsxs(Be,{htmlFor:"expiryDate",className:"flex items-center gap-1",children:[l.jsx(fu,{className:"h-4 w-4"}),"Expiry Date *"]}),l.jsx(qe,{id:"expiryDate",type:"date",value:r.expiryDate,onChange:d=>a("expiryDate",d.target.value),required:!0})]}),l.jsxs("div",{children:[l.jsx(Be,{htmlFor:"expiryTime",children:"Expiry Time *"}),l.jsx(qe,{id:"expiryTime",type:"time",value:r.expiryTime,onChange:d=>a("expiryTime",d.target.value),required:!0})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(Be,{htmlFor:"pickupDate",children:"Pickup Date *"}),l.jsx(qe,{id:"pickupDate",type:"date",value:r.pickupDate,onChange:d=>a("pickupDate",d.target.value),required:!0})]}),l.jsxs("div",{children:[l.jsx(Be,{htmlFor:"pickupTime",children:"Pickup Time *"}),l.jsx(qe,{id:"pickupTime",type:"time",value:r.pickupTime,onChange:d=>a("pickupTime",d.target.value),required:!0})]})]})]}),l.jsxs("div",{children:[l.jsx(Be,{htmlFor:"location",children:"Pickup Location *"}),l.jsx(qe,{id:"location",placeholder:"e.g., Westlands, Nairobi - Specific address will be shared after purchase",value:r.location,onChange:d=>a("location",d.target.value),required:!0})]}),l.jsxs("div",{className:"flex gap-4 pt-4",children:[l.jsx(de,{type:"button",variant:"outline",onClick:()=>t("/business/listings"),className:"flex-1",children:"Cancel"}),l.jsxs(de,{type:"submit",disabled:i,className:"flex-1",children:[l.jsx(IM,{className:"mr-2 h-4 w-4"}),i?"Creating...":"Create Listing"]})]})]})})]})})]})})},iH="modulepreload",oH=function(t){return"/"+t},D1={},M1=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(c=>{if(c=oH(c),c in D1)return;D1[c]=!0;const d=c.endsWith(".css"),h=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${h}`))return;const f=document.createElement("link");if(f.rel=d?"stylesheet":iH,d||(f.as="script"),f.crossOrigin="",f.href=c,a&&f.setAttribute("nonce",a),document.head.appendChild(f),d)return new Promise((m,p)=>{f.addEventListener("load",m),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},aH=()=>{const[t,e]=y.useState(""),[n,r]=y.useState("all"),[s,i]=y.useState("all"),[o,a]=y.useState([]),[c,d]=y.useState(!0),{addToCart:h}=_R(),{toast:f}=nl();y.useEffect(()=>{(async()=>{d(!0);try{const{db:E}=await M1(async()=>{const{db:M}=await Promise.resolve().then(()=>nB);return{db:M}},void 0),{collection:w,getDocs:T}=await M1(async()=>{const{collection:M,getDocs:b}=await Promise.resolve().then(()=>$U);return{collection:M,getDocs:b}},void 0),D=(await T(w(E,"listings"))).docs.map(M=>({id:M.id,...M.data()}));a(D)}catch{a([])}d(!1)})()},[]);const m=x=>{const E=new Date,T=new Date(x).getTime()-E.getTime(),A=Math.floor(T/(1e3*60*60)),D=Math.floor(T%(1e3*60*60)/(1e3*60));return T<0?"Expired":A>0?`${A}h ${D}m left`:`${D}m left`},p=(x,E)=>E?Math.round((E-x)/E*100):null,I=x=>{h({id:`cart-${x.id}-${Date.now()}`,listingId:x.id,title:x.title,price:x.price,businessName:x.businessName||"Unknown Business",expiryTime:x.expiryTime,image:x.imageUrl}),f({title:"Added to cart",description:`${x.title} has been added to your cart.`})},v=o.filter(x=>{const E=x.title.toLowerCase().includes(t.toLowerCase())||x.description.toLowerCase().includes(t.toLowerCase())||x.businessName.toLowerCase().includes(t.toLowerCase()),w=n==="all"||x.category===n,T=s==="all"||s==="under-30"&&x.price<30||s==="30-60"&&x.price>=30&&x.price<=60||s==="over-60"&&x.price>60;return E&&w&&T});return l.jsx("div",{className:"min-h-screen bg-background",children:l.jsxs("div",{className:"container mx-auto px-4 py-8",children:[l.jsxs("div",{className:"mb-8",children:[l.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:"Browse Surplus Food"}),l.jsx("p",{className:"text-muted-foreground",children:"Discover quality food at discounted prices near you"})]}),l.jsx(ye,{className:"mb-8",children:l.jsx(xe,{className:"p-6",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[l.jsxs("div",{className:"relative",children:[l.jsx(Sf,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),l.jsx(qe,{placeholder:"Search food, business...",value:t,onChange:x=>e(x.target.value),className:"pl-10"})]}),l.jsxs(Eo,{value:n,onValueChange:r,children:[l.jsx(_i,{children:l.jsx(To,{placeholder:"All Categories"})}),l.jsxs(Ei,{children:[l.jsx(Se,{value:"all",children:"All Categories"}),l.jsx(Se,{value:"bakery",children:"Bakery"}),l.jsx(Se,{value:"restaurant",children:"Restaurant"}),l.jsx(Se,{value:"cafe",children:"Cafe"}),l.jsx(Se,{value:"hotel",children:"Hotel"}),l.jsx(Se,{value:"other",children:"Other"})]})]}),l.jsxs(Eo,{value:s,onValueChange:i,children:[l.jsx(_i,{children:l.jsx(To,{placeholder:"All Prices"})}),l.jsxs(Ei,{children:[l.jsx(Se,{value:"all",children:"All Prices"}),l.jsx(Se,{value:"under-30",children:"Under KSh 30"}),l.jsx(Se,{value:"30-60",children:"KSh 30 - 60"}),l.jsx(Se,{value:"over-60",children:"Over KSh 60"})]})]}),l.jsxs(de,{variant:"outline",className:"w-full",children:[l.jsx(Lc,{className:"mr-2 h-4 w-4"}),"Near Me"]})]})})}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:v.map(x=>{const E=p(x.price,x.originalPrice);return l.jsxs(ye,{className:"overflow-hidden hover:shadow-lg transition-shadow",children:[l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"h-48 bg-gradient-to-br from-accent/20 to-success/20 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-4xl mb-2",children:""}),l.jsx("p",{className:"text-sm text-muted-foreground",children:x.category})]})}),E&&l.jsxs(en,{className:"absolute top-2 right-2 bg-warning text-warning-foreground",children:[E,"% OFF"]}),l.jsxs(en,{variant:"secondary",className:"absolute top-2 left-2 bg-background/90 text-foreground",children:[l.jsx(fu,{className:"mr-1 h-3 w-3"}),m(x.expiryTime)]})]}),l.jsxs(Ve,{children:[l.jsx(Ce,{className:"line-clamp-1",children:x.title}),l.jsx(ut,{className:"line-clamp-2",children:x.description})]}),l.jsxs(xe,{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(CM,{className:"h-4 w-4 text-warning fill-warning"}),l.jsx("span",{className:"text-sm font-medium",children:x.businessName})]}),l.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[l.jsx(Lc,{className:"mr-1 h-3 w-3"}),x.location]})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-baseline gap-2",children:[l.jsxs("span",{className:"text-2xl font-bold text-success",children:["KSh ",x.price]}),x.originalPrice&&l.jsxs("span",{className:"text-sm text-muted-foreground line-through",children:["KSh ",x.originalPrice]})]}),l.jsxs("div",{className:"text-sm text-muted-foreground",children:[x.quantity," ",x.unit]})]}),l.jsxs("div",{className:"text-xs text-muted-foreground",children:["Pickup by: ",new Date(x.pickupTime).toLocaleTimeString()]}),l.jsxs(de,{className:"w-full",onClick:()=>I(x),children:[l.jsx($a,{className:"mr-2 h-4 w-4"}),"Add to Cart"]})]})]},x.id)})}),v.length===0&&l.jsx(ye,{className:"p-12 text-center",children:l.jsxs(xe,{children:[l.jsx("div",{className:"text-6xl mb-4",children:""}),l.jsx(Ce,{className:"mb-2",children:"No food found"}),l.jsx(ut,{children:"Try adjusting your search terms or filters to find available food."})]})})]})})},lH=()=>{const[t,e]=y.useState([]),[n,r]=y.useState(!0),{user:s}=Lr(),i=No();y.useEffect(()=>{if(!s){r(!1);return}const d=Qs(Tn(Mt,"orders"),to("userId","==",s.id),no("createdAt","desc")),h=MN(d,f=>{const m=f.docs.map(p=>({id:p.id,...p.data()}));e(m),r(!1)},f=>{console.error("Error fetching orders:",f),e([]),r(!1)});return()=>h()},[s]);const o=d=>{switch(d){case"pending":return"bg-yellow-500 text-white";case"confirmed":return"bg-green-500 text-white";case"ready":return"bg-blue-500 text-white";case"completed":return"bg-gray-500 text-white";case"cancelled":return"bg-red-500 text-white";default:return"bg-muted text-muted-foreground"}},a=d=>{switch(d){case"completed":return l.jsx(en,{className:"bg-green-500 text-white",children:"Paid"});case"pending":return l.jsx(en,{className:"bg-yellow-500 text-white",children:"Pending"});case"failed":return l.jsx(en,{className:"bg-red-500 text-white",children:"Failed"});default:return l.jsx(en,{variant:"outline",children:d})}},c={totalOrders:t.length,totalSpent:t.reduce((d,h)=>d+h.totalAmount,0),mealsSaved:t.reduce((d,h)=>d+h.quantity,0)};return l.jsx("div",{className:"min-h-screen bg-background",children:l.jsxs("div",{className:"container mx-auto px-4 py-8",children:[l.jsxs("div",{className:"mb-8",children:[l.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:"My Orders"}),l.jsx("p",{className:"text-muted-foreground",children:"Track your surplus food orders and impact"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[l.jsxs(ye,{children:[l.jsxs(Ve,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(Ce,{className:"text-sm font-medium",children:"Total Orders"}),l.jsx(Vc,{className:"h-4 w-4 text-muted-foreground"})]}),l.jsxs(xe,{children:[l.jsx("div",{className:"text-2xl font-bold",children:c.totalOrders}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Orders placed"})]})]}),l.jsxs(ye,{children:[l.jsxs(Ve,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(Ce,{className:"text-sm font-medium",children:"Total Spent"}),l.jsx(ns,{className:"h-4 w-4 text-muted-foreground"})]}),l.jsxs(xe,{children:[l.jsxs("div",{className:"text-2xl font-bold",children:["KSh ",c.totalSpent.toLocaleString()]}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Money saved on food"})]})]}),l.jsxs(ye,{children:[l.jsxs(Ve,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(Ce,{className:"text-sm font-medium",children:"Meals Saved"}),l.jsx(Vc,{className:"h-4 w-4 text-success"})]}),l.jsxs(xe,{children:[l.jsx("div",{className:"text-2xl font-bold text-success",children:c.mealsSaved}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Environmental impact"})]})]})]}),l.jsxs(ye,{children:[l.jsxs(Ve,{children:[l.jsx(Ce,{children:"Order History"}),l.jsx(ut,{children:"Your recent surplus food orders"})]}),l.jsx(xe,{children:l.jsx("div",{className:"space-y-4",children:t.map(d=>{var h,f,m;return l.jsxs("div",{className:"border border-border rounded-lg p-4",children:[l.jsxs("div",{className:"flex items-start justify-between mb-3",children:[l.jsxs("div",{children:[l.jsxs("h4",{className:"font-semibold text-lg",children:["Order #",d.paymentReference||d.id.slice(0,8)]}),l.jsxs("p",{className:"text-sm text-muted-foreground",children:[((h=d.items)==null?void 0:h.length)||0," item(s)"]})]}),l.jsxs("div",{className:"flex gap-2 flex-wrap justify-end",children:[l.jsx(en,{className:o(d.status),children:d.status}),a(d.paymentStatus)]})]}),l.jsx("div",{className:"space-y-2 mb-3",children:(f=d.items)==null?void 0:f.map((p,I)=>l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsxs("span",{children:[p.quantity,"x ",p.title]}),l.jsxs("span",{className:"text-muted-foreground",children:["KSh ",(p.price*p.quantity).toLocaleString()]})]},I))}),l.jsx(sx,{className:"my-3"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ns,{className:"h-4 w-4 text-muted-foreground"}),l.jsxs("span",{className:"font-semibold",children:["Total: KSh ",((m=d.totalAmount)==null?void 0:m.toLocaleString())||0]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Mg,{className:"h-4 w-4 text-muted-foreground"}),l.jsx("span",{children:new Date(d.orderDate||d.createdAt).toLocaleDateString()})]})]}),d.mpesaReceiptNumber&&l.jsxs("div",{className:"mt-3 p-2 bg-muted rounded text-sm",children:[l.jsx("span",{className:"font-medium",children:"M-PESA Receipt: "}),l.jsx("span",{className:"text-muted-foreground",children:d.mpesaReceiptNumber})]}),d.status==="pending"&&d.paymentStatus==="pending"&&l.jsx("div",{className:"mt-3 p-2 bg-yellow-50 border border-yellow-200 rounded text-sm text-yellow-800",children:" Awaiting payment confirmation. Please complete the M-PESA prompt on your phone."}),d.status==="confirmed"&&l.jsx("div",{className:"mt-3 p-2 bg-green-50 border border-green-200 rounded text-sm text-green-800",children:" Payment confirmed! Your order is being prepared."})]},d.id)})})})]}),!n&&t.length===0&&l.jsx(ye,{className:"p-12 text-center",children:l.jsxs(xe,{children:[l.jsx("div",{className:"text-6xl mb-4",children:""}),l.jsx(Ce,{className:"mb-2",children:"No orders yet"}),l.jsx(ut,{className:"mb-4",children:"Start browsing surplus food to place your first order."}),l.jsx(de,{onClick:()=>i("/browse"),children:"Browse Food"})]})}),n&&l.jsx(ye,{className:"p-12 text-center",children:l.jsxs(xe,{children:[l.jsx("div",{className:"text-4xl mb-4",children:""}),l.jsx(ut,{children:"Loading your orders..."})]})})]})})},cH=()=>{const[t,e]=y.useState({totalUsers:0,totalBusinesses:0,activeListings:0,totalTransactions:0,totalRevenue:0,platformCommission:0,mealsSaved:0,newUsersThisMonth:0,newBusinessesThisMonth:0}),[n,r]=y.useState([]),[s,i]=y.useState(!0);y.useEffect(()=>{(async()=>{i(!0);try{const d=Tn(Mt,"users"),f=(await kn(d)).size,m=Tn(Mt,"businesses"),I=(await kn(m)).size,v=Tn(Mt,"listings"),x=Qs(v,to("status","==","active")),w=(await kn(x)).size,T=Tn(Mt,"transactions"),A=await kn(T),D=A.size;let M=0;A.forEach(O=>{const H=O.data();H.amount&&(M+=H.amount)});const b=M*.1,S=D,C=new Date;C.setMonth(C.getMonth()-1);const R=Qs(d,to("createdAt",">=",C),no("createdAt","desc")),j=(await kn(R)).size,P=Qs(m,to("createdAt",">=",C),no("createdAt","desc")),se=(await kn(P)).size;e({totalUsers:f,totalBusinesses:I,activeListings:w,totalTransactions:D,totalRevenue:M,platformCommission:b,mealsSaved:S,newUsersThisMonth:j,newBusinessesThisMonth:se});const X=Qs(T,no("createdAt","desc"),RN(5)),V=(await kn(X)).docs.map(O=>{var ne,Q,te;const H=O.data();return{id:O.id,type:"transaction",title:`Transaction #${O.id.slice(-6)}`,description:`Amount: KSh ${((ne=H.amount)==null?void 0:ne.toLocaleString())||0}`,timestamp:((te=(Q=H.createdAt)==null?void 0:Q.toDate)==null?void 0:te.call(Q))||new Date,status:H.status||"completed"}});r(V)}catch(d){console.error("Error fetching dashboard data:",d),e({totalUsers:0,totalBusinesses:0,activeListings:0,totalTransactions:0,totalRevenue:0,platformCommission:0,mealsSaved:0,newUsersThisMonth:0,newBusinessesThisMonth:0}),r([])}finally{i(!1)}})()},[]);const o=c=>{switch(c){case"new_business":return l.jsx(lc,{className:"h-4 w-4"});case"large_order":return l.jsx(Jr,{className:"h-4 w-4"});case"payment_issue":return l.jsx(RM,{className:"h-4 w-4"});case"transaction":return l.jsx(ns,{className:"h-4 w-4"});default:return l.jsx(cc,{className:"h-4 w-4"})}},a=c=>{switch(c){case"pending":return"bg-accent text-accent-foreground";case"completed":return"bg-success text-success-foreground";case"alert":return"bg-destructive text-destructive-foreground";default:return"bg-muted text-muted-foreground"}};return s?l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary mx-auto"}),l.jsx("p",{className:"mt-4 text-muted-foreground",children:"Loading dashboard data..."})]})}):l.jsx("div",{className:"min-h-screen bg-background",children:l.jsxs("div",{className:"container mx-auto px-4 py-8",children:[l.jsxs("div",{className:"mb-8",children:[l.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Admin Dashboard"}),l.jsx("p",{className:"text-muted-foreground",children:"Monitor platform activity and performance"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[l.jsxs(ye,{children:[l.jsxs(Ve,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(Ce,{className:"text-sm font-medium",children:"Total Users"}),l.jsx(cc,{className:"h-4 w-4 text-muted-foreground"})]}),l.jsxs(xe,{children:[l.jsx("div",{className:"text-2xl font-bold",children:t.totalUsers.toLocaleString()}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:["+",t.newUsersThisMonth," this month"]})]})]}),l.jsxs(ye,{children:[l.jsxs(Ve,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(Ce,{className:"text-sm font-medium",children:"Businesses"}),l.jsx(lc,{className:"h-4 w-4 text-muted-foreground"})]}),l.jsxs(xe,{children:[l.jsx("div",{className:"text-2xl font-bold",children:t.totalBusinesses}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:["+",t.newBusinessesThisMonth," this month"]})]})]}),l.jsxs(ye,{children:[l.jsxs(Ve,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(Ce,{className:"text-sm font-medium",children:"Active Listings"}),l.jsx(Jr,{className:"h-4 w-4 text-success"})]}),l.jsxs(xe,{children:[l.jsx("div",{className:"text-2xl font-bold text-success",children:t.activeListings}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Available now"})]})]}),l.jsxs(ye,{children:[l.jsxs(Ve,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(Ce,{className:"text-sm font-medium",children:"Total Revenue"}),l.jsx(ns,{className:"h-4 w-4 text-muted-foreground"})]}),l.jsxs(xe,{children:[l.jsxs("div",{className:"text-2xl font-bold",children:["KSh ",t.totalRevenue.toLocaleString()]}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Platform transactions"})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[l.jsxs(ye,{children:[l.jsxs(Ve,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(Ce,{className:"text-sm font-medium",children:"Platform Commission"}),l.jsx(Og,{className:"h-4 w-4 text-muted-foreground"})]}),l.jsxs(xe,{children:[l.jsxs("div",{className:"text-2xl font-bold",children:["KSh ",t.platformCommission.toLocaleString()]}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"10% of total revenue"})]})]}),l.jsxs(ye,{children:[l.jsxs(Ve,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(Ce,{className:"text-sm font-medium",children:"Meals Saved"}),l.jsx(Jr,{className:"h-4 w-4 text-success"})]}),l.jsxs(xe,{children:[l.jsx("div",{className:"text-2xl font-bold text-success",children:t.mealsSaved.toLocaleString()}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Environmental impact"})]})]}),l.jsxs(ye,{children:[l.jsxs(Ve,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(Ce,{className:"text-sm font-medium",children:"Transactions"}),l.jsx(ns,{className:"h-4 w-4 text-muted-foreground"})]}),l.jsxs(xe,{children:[l.jsx("div",{className:"text-2xl font-bold",children:t.totalTransactions.toLocaleString()}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Total completed"})]})]})]}),l.jsxs(ye,{children:[l.jsx(Ve,{children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx(Ce,{children:"Recent Activity"}),l.jsx(ut,{children:"Latest platform events and alerts"})]}),l.jsx(de,{variant:"outline",children:"View All Activity"})]})}),l.jsx(xe,{children:l.jsx("div",{className:"space-y-4",children:n.length>0?n.map(c=>l.jsxs("div",{className:"flex items-center justify-between p-4 border border-border rounded-lg",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-2 rounded-full bg-accent",children:o(c.type)}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium",children:c.title}),l.jsx("p",{className:"text-sm text-muted-foreground",children:c.description}),l.jsx("p",{className:"text-xs text-muted-foreground",children:c.timestamp instanceof Date?c.timestamp.toLocaleString():"Unknown time"})]})]}),l.jsx(en,{className:a(c.status),children:c.status})]},c.id)):l.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No recent activity to display"})})})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mt-8",children:[l.jsxs(de,{variant:"outline",className:"h-20 flex flex-col gap-2",children:[l.jsx(cc,{className:"h-6 w-6"}),l.jsx("span",{children:"Manage Users"})]}),l.jsxs(de,{variant:"outline",className:"h-20 flex flex-col gap-2",children:[l.jsx(lc,{className:"h-6 w-6"}),l.jsx("span",{children:"Approve Businesses"})]}),l.jsxs(de,{variant:"outline",className:"h-20 flex flex-col gap-2",children:[l.jsx(Jr,{className:"h-6 w-6"}),l.jsx("span",{children:"Monitor Listings"})]}),l.jsxs(de,{variant:"outline",className:"h-20 flex flex-col gap-2",children:[l.jsx(Og,{className:"h-6 w-6"}),l.jsx("span",{children:"View Analytics"})]})]})]})})},uH=()=>{const[t,e]=y.useState(""),[n,r]=y.useState("all"),[s,i]=y.useState([]),[o,a]=y.useState(!0);y.useEffect(()=>{(async()=>{a(!0);try{const I=Tn(Mt,"businesses"),x=(await kn(I)).docs.map(E=>({id:E.id,...E.data()}));i(x)}catch(I){console.error("Error fetching businesses:",I),i([])}finally{a(!1)}})()},[]);const c=p=>{switch(p){case"active":return"bg-success text-success-foreground";case"pending":return"bg-accent text-accent-foreground";case"suspended":return"bg-destructive text-destructive-foreground";default:return"bg-muted text-muted-foreground"}},d=s.filter(p=>{var x,E,w;const I=((x=p.name)==null?void 0:x.toLowerCase().includes(t.toLowerCase()))||((E=p.email)==null?void 0:E.toLowerCase().includes(t.toLowerCase()))||((w=p.category)==null?void 0:w.toLowerCase().includes(t.toLowerCase())),v=n==="all"||p.status===n;return I&&v}),h=async p=>{try{console.log("Approving business:",p)}catch(I){console.error("Error approving business:",I)}},f=async p=>{try{console.log("Rejecting business:",p)}catch(I){console.error("Error rejecting business:",I)}},m=async p=>{try{console.log("Suspending business:",p)}catch(I){console.error("Error suspending business:",I)}};return o?l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary mx-auto"}),l.jsx("p",{className:"mt-4 text-muted-foreground",children:"Loading businesses..."})]})}):l.jsx("div",{className:"min-h-screen bg-background",children:l.jsxs("div",{className:"container mx-auto px-4 py-8",children:[l.jsxs("div",{className:"mb-8",children:[l.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Manage Businesses"}),l.jsx("p",{className:"text-muted-foreground",children:"Review and manage business registrations"})]}),l.jsx(ye,{className:"mb-8",children:l.jsx(xe,{className:"p-6",children:l.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[l.jsxs("div",{className:"relative flex-1",children:[l.jsx(Sf,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),l.jsx(qe,{placeholder:"Search businesses...",value:t,onChange:p=>e(p.target.value),className:"pl-10"})]}),l.jsxs(Eo,{value:n,onValueChange:r,children:[l.jsx(_i,{className:"w-full md:w-[200px]",children:l.jsx(To,{placeholder:"Filter by status"})}),l.jsxs(Ei,{children:[l.jsx(Se,{value:"all",children:"All Status"}),l.jsx(Se,{value:"active",children:"Active"}),l.jsx(Se,{value:"pending",children:"Pending Approval"}),l.jsx(Se,{value:"suspended",children:"Suspended"})]})]})]})})}),l.jsx("div",{className:"space-y-6",children:d.map(p=>l.jsxs(ye,{children:[l.jsx(Ve,{children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex items-start gap-4",children:[l.jsx("div",{className:"p-3 rounded-lg bg-accent",children:l.jsx(lc,{className:"h-6 w-6"})}),l.jsxs("div",{children:[l.jsx(Ce,{className:"text-xl",children:p.name||"Unnamed Business"}),l.jsx(ut,{className:"capitalize",children:p.category||"Unknown Category"})]})]}),l.jsx(en,{className:c(p.status),children:p.status||"unknown"})]})}),l.jsxs(xe,{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[l.jsx(Oc,{className:"h-4 w-4 text-muted-foreground"}),l.jsx("span",{children:p.email||"No email provided"})]}),l.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[l.jsx(Av,{className:"h-4 w-4 text-muted-foreground"}),l.jsx("span",{children:p.phone||"No phone provided"})]}),l.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[l.jsx(Lc,{className:"h-4 w-4 text-muted-foreground"}),l.jsx("span",{children:p.address||"No address provided"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 p-4 bg-accent/10 rounded-lg",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl font-bold",children:p.totalListings||0}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Listings"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl font-bold",children:p.totalSales||0}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Sales Made"})]}),l.jsxs("div",{className:"text-center",children:[l.jsxs("div",{className:"text-2xl font-bold",children:["KSh ",(p.revenue||0).toLocaleString()]}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Revenue"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl font-bold",children:p.createdAt?Math.floor((Date.now()-new Date(p.createdAt).getTime())/(1e3*60*60*24)):0}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Days Active"})]})]}),l.jsxs("div",{className:"text-sm text-muted-foreground",children:[l.jsxs("div",{children:["Joined: ",p.createdAt?new Date(p.createdAt).toLocaleDateString():"Unknown"]}),l.jsxs("div",{children:["Last Active: ",p.lastActive?new Date(p.lastActive).toLocaleString():"Unknown"]})]}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[l.jsxs(de,{variant:"outline",size:"sm",children:[l.jsx(Rv,{className:"mr-2 h-4 w-4"}),"View Details"]}),p.status==="pending"&&l.jsxs(l.Fragment,{children:[l.jsxs(de,{size:"sm",onClick:()=>h(p.id),className:"bg-success text-success-foreground hover:bg-success/90",children:[l.jsx(Nv,{className:"mr-2 h-4 w-4"}),"Approve"]}),l.jsxs(de,{size:"sm",variant:"destructive",onClick:()=>f(p.id),children:[l.jsx(pu,{className:"mr-2 h-4 w-4"}),"Reject"]})]}),p.status==="active"&&l.jsx(de,{size:"sm",variant:"destructive",onClick:()=>m(p.id),children:"Suspend"})]})]})]},p.id))}),d.length===0&&l.jsx(ye,{className:"p-12 text-center",children:l.jsxs(xe,{children:[l.jsx("div",{className:"text-6xl mb-4",children:""}),l.jsx(Ce,{className:"mb-2",children:"No businesses found"}),l.jsx(ut,{children:t||n!=="all"?"Try adjusting your search or filters.":"No businesses have registered yet."})]})})]})})},dH=()=>{const[t,e]=y.useState(""),[n,r]=y.useState("all"),[s,i]=y.useState([]),[o,a]=y.useState(!0);y.useEffect(()=>{(async()=>{a(!0);try{const m=Tn(Mt,"users"),I=(await kn(m)).docs.map(v=>({id:v.id,...v.data()}));i(I)}catch{i([])}a(!1)})()},[]);const c=f=>{switch(f){case"business":return"bg-accent text-accent-foreground";case"buyer":return"bg-success text-success-foreground";case"admin":return"bg-destructive text-destructive-foreground";default:return"bg-muted text-muted-foreground"}},d=f=>{switch(f){case"active":return"bg-success text-success-foreground";case"inactive":return"bg-muted text-muted-foreground";case"suspended":return"bg-destructive text-destructive-foreground";default:return"bg-muted text-muted-foreground"}},h=s.filter(f=>{const m=f.name.toLowerCase().includes(t.toLowerCase())||f.email.toLowerCase().includes(t.toLowerCase())||f.businessName&&f.businessName.toLowerCase().includes(t.toLowerCase()),p=n==="all"||f.role===n;return m&&p});return l.jsx("div",{className:"min-h-screen bg-background",children:l.jsxs("div",{className:"container mx-auto px-4 py-8",children:[l.jsxs("div",{className:"mb-8",children:[l.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Manage Users"}),l.jsx("p",{className:"text-muted-foreground",children:"View and manage all platform users"})]}),l.jsx(ye,{className:"mb-8",children:l.jsx(xe,{className:"p-6",children:l.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[l.jsxs("div",{className:"relative flex-1",children:[l.jsx(Sf,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),l.jsx(qe,{placeholder:"Search users...",value:t,onChange:f=>e(f.target.value),className:"pl-10"})]}),l.jsxs(Eo,{value:n,onValueChange:r,children:[l.jsx(_i,{className:"w-full md:w-[200px]",children:l.jsx(To,{placeholder:"Filter by role"})}),l.jsxs(Ei,{children:[l.jsx(Se,{value:"all",children:"All Roles"}),l.jsx(Se,{value:"buyer",children:"Buyers"}),l.jsx(Se,{value:"business",children:"Businesses"}),l.jsx(Se,{value:"admin",children:"Admins"})]})]})]})})}),l.jsx("div",{className:"space-y-6",children:h.map(f=>{var m,p;return l.jsxs(ye,{children:[l.jsx(Ve,{children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex items-start gap-4",children:[l.jsx("div",{className:"p-3 rounded-lg bg-accent",children:f.role==="business"?l.jsx(lc,{className:"h-6 w-6"}):l.jsx(Pv,{className:"h-6 w-6"})}),l.jsxs("div",{children:[l.jsx(Ce,{className:"text-xl",children:f.name}),l.jsxs(ut,{children:[f.businessName&&`${f.businessName}  `,f.organizationType,"  ",f.role]})]})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(en,{className:c(f.role),children:f.role}),l.jsx(en,{className:d(f.status),children:f.status})]})]})}),l.jsxs(xe,{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[l.jsx(Oc,{className:"h-4 w-4 text-muted-foreground"}),l.jsx("span",{children:f.email})]}),l.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[l.jsx(Av,{className:"h-4 w-4 text-muted-foreground"}),l.jsx("span",{children:f.phone})]}),l.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[l.jsx(Lc,{className:"h-4 w-4 text-muted-foreground"}),l.jsx("span",{children:f.address})]})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 p-4 bg-accent/10 rounded-lg",children:f.role==="buyer"?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl font-bold",children:f.totalOrders}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Orders"})]}),l.jsxs("div",{className:"text-center",children:[l.jsxs("div",{className:"text-2xl font-bold",children:["KSh ",(m=f.totalSpent)==null?void 0:m.toLocaleString()]}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Spent"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl font-bold",children:f.totalSpent&&f.totalOrders?Math.round(f.totalSpent/f.totalOrders):0}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Avg Order (KSh)"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl font-bold",children:Math.floor((Date.now()-new Date(f.joinedAt).getTime())/(1e3*60*60*24))}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Days Active"})]})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl font-bold",children:f.totalListings}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Listings"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl font-bold",children:f.totalSales}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Sales Made"})]}),l.jsxs("div",{className:"text-center",children:[l.jsxs("div",{className:"text-2xl font-bold",children:["KSh ",(p=f.revenue)==null?void 0:p.toLocaleString()]}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Revenue"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl font-bold",children:Math.floor((Date.now()-new Date(f.joinedAt).getTime())/(1e3*60*60*24))}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Days Active"})]})]})}),l.jsxs("div",{className:"flex items-center gap-6 text-sm text-muted-foreground",children:[l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(Mg,{className:"h-4 w-4"}),l.jsxs("span",{children:["Joined: ",new Date(f.joinedAt).toLocaleDateString()]})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(Mg,{className:"h-4 w-4"}),l.jsxs("span",{children:["Last Active: ",new Date(f.lastActive).toLocaleString()]})]})]}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[l.jsx(de,{variant:"outline",size:"sm",children:"View Profile"}),l.jsxs(de,{variant:"outline",size:"sm",children:[l.jsx(Oc,{className:"mr-2 h-4 w-4"}),"Send Message"]}),f.status==="active"&&l.jsx(de,{size:"sm",variant:"destructive",children:"Suspend User"}),f.status==="suspended"&&l.jsx(de,{size:"sm",className:"bg-success text-success-foreground hover:bg-success/90",children:"Reactivate"})]})]})]},f.id)})}),h.length===0&&l.jsx(ye,{className:"p-12 text-center",children:l.jsxs(xe,{children:[l.jsx("div",{className:"text-6xl mb-4",children:""}),l.jsx(Ce,{className:"mb-2",children:"No users found"}),l.jsx(ut,{children:t||n!=="all"?"Try adjusting your search or filters.":"No users have registered yet."})]})})]})})},hH=()=>{const t=Co();return y.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),l.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),l.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},fH=new X4,Fi=({children:t,allowedRoles:e})=>{const{user:n,isAuthenticated:r,isLoading:s}=Lr();return s?l.jsx("div",{className:"flex items-center justify-center min-h-screen",children:"Loading..."}):r?e&&n&&!e.includes(n.role)?l.jsx(uc,{to:"/",replace:!0}):l.jsx(l.Fragment,{children:t}):l.jsx(uc,{to:"/login",replace:!0})},Wr=({children:t})=>l.jsxs("div",{className:"min-h-screen bg-background",children:[l.jsx(d7,{}),t]}),pH=()=>{const{user:t,isAuthenticated:e}=Lr(),n=()=>{if(!t)return"/";switch(t.role){case"business":return"/business/dashboard";case"buyer":return"/browse";case"admin":return"/admin/dashboard";default:return"/"}};return l.jsxs(BV,{children:[l.jsx(vn,{path:"/login",element:e?l.jsx(uc,{to:n(),replace:!0}):l.jsx(p7,{})}),l.jsx(vn,{path:"/register",element:e?l.jsx(uc,{to:n(),replace:!0}):l.jsx(I7,{})}),l.jsx(vn,{path:"/browse",element:l.jsx(Wr,{children:l.jsx(aH,{})})}),l.jsx(vn,{path:"/business/dashboard",element:l.jsx(Fi,{allowedRoles:["business"],children:l.jsx(Wr,{children:l.jsx(b7,{})})})}),l.jsx(vn,{path:"/business/listings",element:l.jsx(Fi,{allowedRoles:["business"],children:l.jsx(Wr,{children:l.jsx(rH,{})})})}),l.jsx(vn,{path:"/business/add-listing",element:l.jsx(Fi,{allowedRoles:["business"],children:l.jsx(Wr,{children:l.jsx(sH,{})})})}),l.jsx(vn,{path:"/orders",element:l.jsx(Fi,{allowedRoles:["buyer"],children:l.jsx(Wr,{children:l.jsx(lH,{})})})}),l.jsx(vn,{path:"/admin/dashboard",element:l.jsx(Fi,{allowedRoles:["admin"],children:l.jsx(Wr,{children:l.jsx(cH,{})})})}),l.jsx(vn,{path:"/admin/businesses",element:l.jsx(Fi,{allowedRoles:["admin"],children:l.jsx(Wr,{children:l.jsx(uH,{})})})}),l.jsx(vn,{path:"/admin/users",element:l.jsx(Fi,{allowedRoles:["admin"],children:l.jsx(Wr,{children:l.jsx(dH,{})})})}),l.jsx(vn,{path:"/",element:e?l.jsx(uc,{to:n(),replace:!0}):l.jsx(Wr,{children:l.jsx(f7,{})})}),l.jsx(vn,{path:"*",element:l.jsx(hH,{})})]})},mH=()=>l.jsx(Z4,{client:fH,children:l.jsxs(C4,{children:[l.jsx(dO,{}),l.jsx(zO,{}),l.jsx(QV,{children:l.jsx(rB,{children:l.jsx(sB,{children:l.jsx(pH,{})})})})]})});sI(document.getElementById("root")).render(l.jsx(mH,{}));
